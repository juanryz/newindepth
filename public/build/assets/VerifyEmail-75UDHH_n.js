import{u as h,r as n,j as e,H as p,L as b}from"./app-WoilwJwa.js";import{P as k}from"./PrimaryButton-jPrvlK5a.js";import{G as v}from"./GuestLayout-V4wtvyV9.js";import"./Navbar-Um2ByGyQ.js";import"./ThemeToggle-DVG_byXM.js";function _({status:m}){const{post:c,processing:g}=h({}),l=300,s=3,[i,o]=n.useState(0),[a,x]=n.useState(()=>{const t=localStorage.getItem("verify_email_attempts");return t?parseInt(t):0});n.useEffect(()=>{const t=localStorage.getItem("verify_email_last_sent");if(t){const r=Math.floor((Date.now()-parseInt(t))/1e3);r<l&&o(l-r)}},[]),n.useEffect(()=>{let t;return i>0&&(t=setInterval(()=>{o(r=>r-1)},1e3)),()=>clearInterval(t)},[i]),n.useEffect(()=>{localStorage.setItem("verify_email_attempts",a.toString())},[a]);const u=t=>{t.preventDefault(),!(a>=s)&&c(route("verification.send"),{onSuccess:()=>{o(l),x(r=>r+1),localStorage.setItem("verify_email_last_sent",Date.now().toString())}})},f=t=>{const r=Math.floor(t/60),d=t%60;return`${r}:${d<10?"0":""}${d}`};return e.jsxs(v,{title:"Verifikasi Email",children:[e.jsx(p,{title:"Verifikasi Email"}),e.jsxs("div",{className:"mb-10 text-center relative",children:[e.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 w-32 h-32 bg-gold-400/10 rounded-full blur-3xl pointer-events-none"}),e.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-gray-900 via-gold-600 to-gray-900 dark:from-white dark:via-gold-400 dark:to-white tracking-tight leading-tight",children:"Verifikasi Email"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 font-medium tracking-wide",children:"Satu langkah lagi untuk memulai"}),e.jsx("div",{className:"h-1.5 w-12 bg-gradient-to-r from-gold-400 to-gold-600 mx-auto mt-4 rounded-full shadow-sm shadow-gold-500/20"})]}),e.jsxs("div",{className:"mb-8 text-center px-2",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed font-light",children:"Terima kasih telah bergabung! Silakan verifikasi alamat email kamu melalui tautan yang baru saja kami kirimkan."}),a<s&&e.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 italic",children:"Belum menerima email? Kamu bisa minta kirim ulang di bawah."})]}),m==="verification-link-sent"&&e.jsxs("div",{className:"mb-8 p-4 rounded-2xl bg-green-500/10 border border-green-500/20 text-sm font-bold text-green-600 dark:text-green-400 text-center animate-pulse flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Tautan verifikasi baru telah dikirimkan!"]}),a>=s&&e.jsx("div",{className:"mb-8 p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-sm font-bold text-red-600 dark:text-red-400 text-center",children:"Batas percobaan tercapai. Silakan coba lagi nanti atau hubungi bantuan."}),e.jsx("form",{onSubmit:u,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{className:"w-full",disabled:g||i>0||a>=s,children:i>0?`Tunggu ${f(i)}`:a>=s?"Batas Tercapai":"Kirim Ulang Email Verifikasi"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full",children:[e.jsx("div",{className:"flex-grow border-t border-gray-100 dark:border-gray-800"}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:["Sisa Percobaan: ",s-a]}),e.jsx("div",{className:"flex-grow border-t border-gray-100 dark:border-gray-800"})]}),e.jsx(b,{href:route("logout"),method:"post",as:"button",className:"text-sm font-bold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors underline underline-offset-4 decoration-2 decoration-gray-200 dark:decoration-gray-800",children:"Log Out"})]})]})})]})}export{_ as default};

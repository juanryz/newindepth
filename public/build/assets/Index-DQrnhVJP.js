import{j as e,H as u,L as y,f}from"./app-BfOSaUtF.js";import{A as k}from"./AuthenticatedLayout-DgIct_fJ.js";import{R as l,L as j,C as w,X as v,Y as N,T as i,a as S,P as x,b as g,c as h,d as p}from"./PieChart-CnP4t-9Q.js";import"./transition-Ba-xo0Yk.js";import"./ThemeToggle-BhS98ZzC.js";import"./LiquidBackground-CQDtRy8g.js";import"./with-selector-DV4auT_a.js";const L={pending_payment:"#f59e0b",pending:"#f59e0b",confirmed:"#3b82f6",in_progress:"#6366f1",done:"#10b981",completed:"#10b981",cancelled:"#ef4444"},m={pending_payment:"Menunggu Pembayaran",pending:"Menunggu Konfirmasi",confirmed:"Dikonfirmasi",in_progress:"Sedang Berlangsung",done:"Selesai",completed:"Selesai",cancelled:"Dibatalkan"};function W({stats:d,recentTransactions:o,recentExpenses:n,filters:s,charts:t}){const c=r=>{const{name:a,value:b}=r.target;f.get(route("admin.reports.index"),{...s,[a]:b},{preserveState:!0})};return e.jsxs(k,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Laporan Keuangan Klinik"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center px-4 py-2 border border-gray-100 dark:border-gray-800 rounded-xl font-bold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800/50 backdrop-blur-md transition-all duration-300 bg-white/50 dark:bg-gray-900/50",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-gold-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2-2v4h10z"})}),"Cetak Laporan"]}),e.jsxs("a",{href:route("admin.reports.export-csv",s),className:"inline-flex items-center px-6 py-2 border border-transparent rounded-xl font-black text-xs text-white uppercase tracking-widest bg-gold-600 hover:bg-gold-500 shadow-xl shadow-gold-600/20 transition-all duration-300 transform active:scale-95",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]}),children:[e.jsx(u,{title:"Laporan Keuangan"}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)] transition-colors duration-500",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-8 pb-20",children:[e.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl p-5 shadow-2xl shadow-gray-200/50 dark:shadow-black/50 sm:rounded-3xl flex flex-wrap gap-6 items-center border border-white dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-gold-500 rounded-full"}),e.jsx("span",{className:"font-black text-xs uppercase tracking-widest text-gray-500 dark:text-gray-400",children:"Filter Periode"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("select",{name:"month",className:"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 rounded-xl text-sm focus:ring-gold-500/20 focus:border-gold-500 dark:text-white transition-all cursor-pointer font-bold",value:s.month,onChange:c,children:Array.from({length:12},(r,a)=>a+1).map(r=>e.jsxs("option",{value:r.toString().padStart(2,"0"),children:["Bulan ",r]},r))}),e.jsx("select",{name:"year",className:"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 rounded-xl text-sm focus:ring-gold-500/20 focus:border-gold-500 dark:text-white transition-all cursor-pointer font-bold",value:s.year,onChange:c,children:[2024,2025,2026,2027].map(r=>e.jsx("option",{value:r,children:r},r))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl p-8 rounded-[2.5rem] shadow-xl border border-gray-100 dark:border-gray-800/50 group hover:border-indigo-500/30 transition-all duration-500",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Total Pendapatan"}),e.jsxs("h4",{className:"text-2xl font-black text-indigo-600 dark:text-indigo-400",children:["Rp ",Number(d.revenue).toLocaleString("id-ID")]}),e.jsx("div",{className:"mt-4 w-full h-1 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 w-full opacity-50"})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl p-8 rounded-[2.5rem] shadow-xl border border-gray-100 dark:border-gray-800/50 group hover:border-red-500/30 transition-all duration-500",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Pengeluaran"}),e.jsxs("h4",{className:"text-2xl font-black text-red-600 dark:text-red-400",children:["Rp ",Number(d.expenses).toLocaleString("id-ID")]}),e.jsx("div",{className:"mt-4 w-full h-1 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500 w-full opacity-50"})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl p-8 rounded-[2.5rem] shadow-xl border border-gray-100 dark:border-gray-800/50 group hover:border-yellow-500/30 transition-all duration-500",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Komisi Afiliasi"}),e.jsxs("h4",{className:"text-2xl font-black text-yellow-600 dark:text-yellow-400",children:["Rp ",Number(d.commissions).toLocaleString("id-ID")]}),e.jsx("div",{className:"mt-4 w-full h-1 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-500 w-full opacity-50"})})]}),e.jsxs("div",{className:"bg-gold-600 p-8 rounded-[2.5rem] shadow-2xl shadow-gold-600/20 group transition-all duration-500 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 bg-white/10 rounded-full blur-3xl"}),e.jsx("p",{className:"text-[10px] font-black text-white/70 uppercase tracking-[0.2em] mb-4 relative z-10",children:"Laba Bersih"}),e.jsxs("h4",{className:"text-3xl font-black text-white relative z-10",children:["Rp ",Number(d.netIncome).toLocaleString("id-ID")]}),e.jsx("div",{className:"mt-6 w-full h-1 bg-white/20 rounded-full relative z-10",children:e.jsx("div",{className:"h-full bg-white w-full"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-12",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl p-8 rounded-[2.5rem] shadow-xl border border-gray-100 dark:border-gray-800/50",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 tracking-tight",children:["Tren Pendapatan ",e.jsx("span",{className:"text-gold-500 font-light text-sm ml-2",children:"(12 Bulan)"})]}),e.jsx("div",{className:"h-[350px]",children:t?.revenueByMonth?.length>0?e.jsx(l,{width:"100%",height:"100%",children:e.jsxs(j,{data:t.revenueByMonth,children:[e.jsx(w,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.1)"}),e.jsx(v,{dataKey:"month_year",tick:{fontSize:10,fontWeight:"bold",fill:"#9ca3af"},axisLine:!1,tickLine:!1,dy:10}),e.jsx(N,{tickFormatter:r=>`Rp ${(r/1e6).toFixed(0)}jt`,tick:{fontSize:10,fontWeight:"bold",fill:"#9ca3af"},width:60,axisLine:!1,tickLine:!1}),e.jsx(i,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.9)",backdropFilter:"blur(8px)",borderRadius:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"16px",color:"#fff"},itemStyle:{color:"#fbbf24",fontSize:"12px",fontWeight:"bold"},labelStyle:{color:"#fff",fontSize:"10px",fontWeight:"black",marginBottom:"8px",textTransform:"uppercase"},formatter:r=>[`Rp ${Number(r).toLocaleString("id-ID")}`,"Pemasukan"]}),e.jsx(S,{type:"monotone",dataKey:"total",stroke:"#d4a321",strokeWidth:4,dot:{r:4,fill:"#d4a321",strokeWidth:2,stroke:"#fff"},activeDot:{r:8,fill:"#fff",stroke:"#d4a321",strokeWidth:4}})]})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-3xl flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),e.jsx("p",{className:"font-bold text-sm",children:"Belum ada data pendapatan."})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl p-8 rounded-[2.5rem] shadow-xl border border-gray-100 dark:border-gray-800/50",children:[e.jsx("h3",{className:"text-xs font-black text-gray-900 dark:text-white mb-6 uppercase tracking-widest text-center",children:"Status Sesi"}),e.jsx("div",{className:"h-64",children:t?.bookingsByStatus?.length>0?e.jsx(l,{width:"100%",height:"100%",children:e.jsxs(x,{children:[e.jsx(g,{data:t.bookingsByStatus,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:8,dataKey:"count",nameKey:"status",stroke:"none",children:t.bookingsByStatus.map((r,a)=>e.jsx(h,{fill:L[r.status]||"#9ca3af"},`cell-${a}`))}),e.jsx(i,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.9)",backdropFilter:"blur(8px)",borderRadius:"1rem",border:"none",fontSize:"10px"},itemStyle:{color:"#fff",fontWeight:"bold"},formatter:(r,a)=>[r,m[a]||a]}),e.jsx(p,{iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold",paddingTop:"20px",color:"#9ca3af"},formatter:r=>m[r]||r})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-[10px] font-bold border-2 border-dashed border-gray-100 dark:border-gray-800 rounded-[2rem]",children:"Belum ada sesi."})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl p-8 rounded-[2.5rem] shadow-xl border border-gray-100 dark:border-gray-800/50",children:[e.jsx("h3",{className:"text-xs font-black text-gray-900 dark:text-white mb-6 uppercase tracking-widest text-center",children:"Kategori Pengeluaran"}),e.jsx("div",{className:"h-64",children:t?.expensesByCategory?.length>0?e.jsx(l,{width:"100%",height:"100%",children:e.jsxs(x,{children:[e.jsx(g,{data:t.expensesByCategory,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:8,dataKey:"total",nameKey:"category",stroke:"none",children:t.expensesByCategory.map((r,a)=>e.jsx(h,{fill:["#ef4444","#f59e0b","#3b82f6","#10b981","#6366f1","#a855f7"][a%6]},`cell-${a}`))}),e.jsx(i,{contentStyle:{backgroundColor:"rgba(17, 24, 39, 0.9)",backdropFilter:"blur(8px)",borderRadius:"1rem",border:"none",fontSize:"10px"},itemStyle:{color:"#fff",fontWeight:"bold"},formatter:r=>`Rp ${Number(r).toLocaleString("id-ID")}`}),e.jsx(p,{iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold",paddingTop:"20px",color:"#9ca3af"}})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-[10px] font-bold border-2 border-dashed border-gray-100 dark:border-gray-800 rounded-[2rem]",children:"Tidak ada pengeluaran."})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-12",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl overflow-hidden shadow-2xl sm:rounded-[2.5rem] border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsx("div",{className:"p-8 border-b border-gray-50 dark:border-gray-800/50 flex justify-between items-center bg-gray-50/30 dark:bg-gray-800/20",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Pemasukan Terakhir"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-medium",children:"5 transaksi terbaru."})]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800/50",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-800/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-4 text-left text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Customer"}),e.jsx("th",{className:"px-8 py-4 text-left text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Jenis"}),e.jsx("th",{className:"px-8 py-4 text-right text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Jumlah"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800/30",children:o.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all duration-300",children:[e.jsxs("td",{className:"px-8 py-6 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:r.user?.name}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 font-mono italic",children:["#",r.invoice_number]})]}),e.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 bg-gold-500/10 text-gold-600 dark:text-gold-400 rounded-lg text-[10px] font-black uppercase tracking-wider border border-gold-500/20",children:r.transactionable_type?.split("\\")?.pop()==="Booking"?"Terapi":"Learning"})}),e.jsxs("td",{className:"px-8 py-6 whitespace-nowrap text-sm font-black text-green-600 dark:text-green-400 text-right",children:["+ Rp ",Number(r.amount).toLocaleString("id-ID")]})]},r.id))})]}),o.length===0&&e.jsx("div",{className:"py-20 text-center text-gray-400 font-bold text-sm italic",children:"Belum ada pemasukan."})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-xl overflow-hidden shadow-2xl sm:rounded-[2.5rem] border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 dark:border-gray-800/50 flex justify-between items-center bg-gray-50/30 dark:bg-gray-800/20",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Pengeluaran Terakhir"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-medium",children:"5 pengeluaran terbaru."})]}),e.jsx(y,{href:route("admin.expenses.index"),className:"text-[10px] font-black text-gold-600 dark:text-gold-400 uppercase tracking-widest hover:underline",children:"Kelola Semua"})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800/50",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-800/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-4 text-left text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Keperluan"}),e.jsx("th",{className:"px-8 py-4 text-left text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Kategori"}),e.jsx("th",{className:"px-8 py-4 text-right text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Jumlah"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800/30",children:n.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all duration-300",children:[e.jsxs("td",{className:"px-8 py-6 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white truncate max-w-[150px]",children:r.description}),e.jsx("div",{className:"text-[10px] text-gray-400 mt-1",children:new Date(r.expense_date).toLocaleDateString("id-ID")})]}),e.jsx("td",{className:"px-8 py-6 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 rounded-lg text-[10px] font-black uppercase tracking-wider border border-gray-200 dark:border-gray-700",children:r.category})}),e.jsxs("td",{className:"px-8 py-6 whitespace-nowrap text-sm font-black text-red-600 dark:text-red-400 text-right",children:["- Rp ",Number(r.amount).toLocaleString("id-ID")]})]},r.id))})]}),n.length===0&&e.jsx("div",{className:"py-20 text-center text-gray-400 font-bold text-sm italic",children:"Belum ada pengeluaran."})]})]})]})]})})]})}export{W as default};

import{e as n,u as b,j as e,H as De,d as D}from"./app-DsIYak0L.js";import{A as Ke}from"./AuthenticatedLayout-B-eMYOhJ.js";import{M as y}from"./Modal-BKoq7gBU.js";import{T as s}from"./TextInput-C9Ji5hRB.js";import{I as t}from"./InputLabel-CpUb80Kw.js";import{I as r}from"./InputError-CwLyyhKp.js";import{S as k}from"./SecondaryButton-CxzpvVrw.js";import{c as T}from"./createLucideIcon-Bg45hJGZ.js";import{C as _e,W as Be}from"./wallet-CRMdQBz9.js";import{C as Ie}from"./chevron-right-Be1caZ0_.js";import{A as Re}from"./index-B2QaV6Dk.js";import{m as I}from"./proxy-sgZDwtI5.js";import{R as F,L as Te,C as Ae,X as Le,Y as $e,T as z,a as Oe,P as Me,b as Ee,c as Fe,d as ze}from"./PieChart-BNoavJ8U.js";import{P as H}from"./plus-DYMfqyUU.js";import{T as W}from"./trash-2-D8dSKZt-.js";import{C as He}from"./circle-check-MRyIyIwD.js";import{C as We}from"./circle-x-8xRpzw6V.js";import"./transition-9eUwzjNt.js";import"./ThemeToggle-DFLAPlRL.js";import"./LiquidBackground-BxfK8Upy.js";import"./with-selector--zFocMxo.js";const Je=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qe=T("download",Je);const Ge=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ve=T("layout-dashboard",Ge);const Xe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],R=T("receipt",Xe),J=["#6366f1","#10b981","#f59e0b","#ef4444","#a855f7","#06b6d4"];function ya({reports:l,expenses:A,pettyCash:x,filters:j,auth:Ye,userRole:L}){const[d,q]=n.useState("reports"),[$,p]=n.useState(null),[G,f]=n.useState(!1),[V,v]=n.useState(!1),[X,N]=n.useState(!1),Y=[{id:"reports",label:"Ringkasan Laporan",icon:Ve},{id:"expenses",label:"Biaya Operasional",icon:_e},{id:"petty_cash",label:"Kas Kecil (Petty Cash)",icon:Be}],U=L.includes("santa_maria")||L.includes("super_admin"),{data:w,setData:g,post:Z,processing:Q,reset:ee,errors:S}=b({description:"",category:"",amount:"",expense_date:new Date().toISOString().split("T")[0],receipt:null}),{data:c,setData:o,post:ae,processing:te,reset:se,errors:O}=b({transaction_date:new Date().toISOString().split("T")[0],amount:"",type:"out",description:"",category:"",receipt:null}),[re,C]=n.useState(!1),[le,P]=n.useState(!1),[K,M]=n.useState(null),{data:m,setData:_,post:ie,processing:ne,reset:de}=b({payment_method:"transfer",transfer_proof:null}),{data:ce,setData:oe,post:xe,processing:pe,reset:ge,errors:me}=b({rejection_reason:""}),{data:h,setData:u,post:he,processing:ue,reset:be,errors:B}=b({type:"spending",title:"",description:"",amount:""}),E=a=>{const{name:i,value:Pe}=a.target;D.get(route("admin.finance.index"),{...j,[i]:Pe},{preserveState:!0})},ye=a=>{a.preventDefault(),Z(route("admin.finance.expenses.store"),{onSuccess:()=>{ee(),f(!1)}})},ke=a=>{a.preventDefault(),ae(route("admin.finance.petty-cash.store"),{onSuccess:()=>{se(),v(!1)}})},je=a=>{confirm("Hapus data pengeluaran ini?")&&D.delete(route("admin.finance.expenses.destroy",a),{preserveScroll:!0})},fe=a=>{confirm("Hapus transaksi kas kecil ini?")&&D.delete(route("admin.finance.petty-cash.destroy",a),{preserveScroll:!0})},ve=a=>{M(a),a.type==="funding"?C(!0):D.post(route("admin.petty-cash.proposals.approve",a.id),{},{preserveScroll:!0})},Ne=a=>{a.preventDefault(),ie(route("admin.petty-cash.proposals.approve",K.id),{onSuccess:()=>{C(!1),de()},preserveScroll:!0})},we=a=>{M(a),P(!0)},Se=a=>{a.preventDefault(),xe(route("admin.petty-cash.proposals.reject",K.id),{onSuccess:()=>{P(!1),ge()},preserveScroll:!0})},Ce=a=>{a.preventDefault(),he(route("admin.petty-cash.proposals.store"),{onSuccess:()=>{be(),N(!1)},preserveScroll:!0})};return e.jsxs(Ke,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-2xl text-gray-800 dark:text-white leading-tight tracking-tight uppercase",children:"Manajemen Keuangan"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mt-1",children:"Laporan, Pengeluaran & Kas Kecil"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("select",{name:"month",className:"h-10 px-4 bg-white/50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-800 rounded-xl text-xs font-black uppercase tracking-widest focus:ring-indigo-500/20 focus:border-indigo-500 dark:text-white transition-all cursor-pointer",value:j.month,onChange:E,children:Array.from({length:12},(a,i)=>i+1).map(a=>e.jsxs("option",{value:a.toString().padStart(2,"0"),children:["Bulan ",a]},a))}),e.jsx("select",{name:"year",className:"h-10 px-4 bg-white/50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-800 rounded-xl text-xs font-black uppercase tracking-widest focus:ring-indigo-500/20 focus:border-indigo-500 dark:text-white transition-all cursor-pointer",value:j.year,onChange:E,children:[2024,2025,2026,2027].map(a=>e.jsx("option",{value:a,children:a},a))}),e.jsxs("a",{href:route("admin.reports.export-csv",j),className:"inline-flex items-center h-10 px-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-lg shadow-indigo-600/20 active:scale-95",children:[e.jsx(qe,{className:"w-3 h-3 mr-2"}),"Export CSV"]})]})]}),children:[e.jsx(De,{title:"Keuangan"}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)] transition-colors duration-500",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"w-full lg:w-80 flex-shrink-0 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-4 shadow-xl border border-white dark:border-gray-800 transition-all duration-500 sticky top-24",children:[e.jsx("div",{className:"space-y-2",children:Y.map(a=>e.jsxs("button",{onClick:()=>q(a.id),className:`w-full flex items-center justify-between p-4 rounded-2xl transition-all duration-300 group ${d===a.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/30":"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-xl transition-colors ${d===a.id?"bg-white/20":"bg-gray-100 dark:bg-gray-800 group-hover:bg-white dark:group-hover:bg-gray-700"}`,children:e.jsx(a.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:a.label})]}),e.jsx(Ie,{className:`w-4 h-4 transition-transform duration-300 ${d===a.id?"translate-x-0 opacity-100":"-translate-x-2 opacity-0"}`})]},a.id))}),e.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Kas Kecil Tersedia"}),e.jsxs("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["Rp ",x.currentBalance.toLocaleString("id-ID")]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[e.jsx("span",{className:"text-gray-400",children:"Total Pemasukan Bulan ini:"}),e.jsxs("span",{className:"text-indigo-600",children:["Rp ",l.stats.revenue.toLocaleString("id-ID")]})]})]})]})}),e.jsx("div",{className:"flex-1 min-w-0 pb-12",children:e.jsxs(Re,{mode:"wait",children:[d==="reports"&&e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-5 gap-6",children:[{label:"Total Pemasukan",val:l.stats.revenue,color:"indigo"},{label:"Biaya Operasional",val:l.stats.operational_expenses,color:"rose"},{label:"Belanja Kas Kecil",val:l.stats.petty_cash_expenses,color:"orange"},{label:"Komisi Afiliasi",val:l.stats.commissions,color:"amber"},{label:"Laba Bersih",val:l.stats.netIncome,color:"emerald",highlight:!0}].map((a,i)=>e.jsxs("div",{className:`p-8 rounded-[2.5rem] shadow-xl border transition-all duration-500 ${a.highlight?"bg-indigo-600 text-white border-transparent":"bg-white dark:bg-gray-900 border-white dark:border-gray-800"}`,children:[e.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.2em] mb-4 ${a.highlight?"text-white/70":"text-gray-400"}`,children:a.label}),e.jsxs("h4",{className:`text-2xl font-black ${a.highlight?"text-white":`text-${a.color}-600 dark:text-${a.color}-400`}`,children:["Rp ",a.val.toLocaleString("id-ID")]})]},i))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 tracking-tight uppercase",children:"Tren Pendapatan"}),e.jsx("div",{className:"h-[350px]",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(Te,{data:l.charts.revenueByMonth,children:[e.jsx(Ae,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.1)"}),e.jsx(Le,{dataKey:"month_year",tick:{fontSize:10,fontWeight:"bold"}}),e.jsx($e,{tickFormatter:a=>`Rp${a/1e6}jt`,tick:{fontSize:10,fontWeight:"bold"}}),e.jsx(z,{contentStyle:{borderRadius:"1.5rem",border:"none",background:"#111827",color:"#fff"},formatter:a=>[`Rp ${a.toLocaleString("id-ID")}`,"Pemasukan"]}),e.jsx(Oe,{type:"monotone",dataKey:"total",stroke:"#6366f1",strokeWidth:4,dot:{r:4},activeDot:{r:8}})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 tracking-tight uppercase",children:"Kategori Pengeluaran"}),e.jsx("div",{className:"h-[350px]",children:e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(Me,{children:[e.jsx(Ee,{data:l.charts.expensesByCategory,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"total",nameKey:"category",children:l.charts.expensesByCategory.map((a,i)=>e.jsx(Fe,{fill:J[i%J.length]},i))}),e.jsx(z,{formatter:a=>`Rp ${a.toLocaleString("id-ID")}`}),e.jsx(ze,{wrapperStyle:{fontSize:"10px",fontWeight:"bold"}})]})})})]})]})]},"reports"),d==="expenses"&&e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight uppercase",children:"Biaya Operasional"}),e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-xl shadow-indigo-600/20 active:scale-95",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Tambah Pengeluaran"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Deskripsi"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Kategori"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Operator"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Jumlah"}),e.jsx("th",{className:"px-8 py-5 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:[A.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all group",children:[e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:a.description}),e.jsx("div",{className:"text-[10px] text-gray-400 mt-1 font-black uppercase tracking-widest leading-none",children:new Date(a.expense_date).toLocaleDateString("id-ID",{dateStyle:"medium"})})]}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:a.category})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("div",{className:"text-xs font-bold text-gray-600 dark:text-gray-400",children:a.recorder?.name})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("div",{className:"text-sm font-black text-rose-600 dark:text-rose-400",children:["- Rp ",a.amount.toLocaleString("id-ID")]})}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[a.receipt&&e.jsx("button",{onClick:()=>p(`/storage/${a.receipt}`),className:"p-2 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 rounded-xl hover:scale-110 mb-1 transition-all",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>je(a.id),className:"p-2 bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400 rounded-xl hover:scale-110 mb-1 transition-all",children:e.jsx(W,{className:"w-4 h-4"})})]})})]},a.id)),A.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-16 text-center text-gray-400 italic",children:"Belum ada catatan pengeluaran operasional."})})]})]})})})]},"expenses"),d==="petty_cash"&&e.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight uppercase",children:"Buku Kas Kecil (Petty Cash)"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>N(!0),className:"inline-flex items-center px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-xl shadow-emerald-600/20 active:scale-95",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Buat Pengajuan Baru"]}),e.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-xl shadow-indigo-600/20 active:scale-95",children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Catat Transaksi (Realisasi)"]})]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 ml-1",children:"Daftar Pengajuan & Status Approval"}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Pengajuan"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Jenis"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Nominal"}),e.jsx("th",{className:"px-8 py-5 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:[x.proposals.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all",children:[e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:a.title}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 font-black uppercase tracking-widest",children:["Oleh: ",a.user?.name]})]}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a.type==="funding"?"text-emerald-500":"text-rose-500"}`,children:a.type==="funding"?"Isi Saldo":"Belanja"})}),e.jsxs("td",{className:"px-8 py-6 text-right font-black text-sm text-gray-900 dark:text-white",children:["Rp ",parseFloat(a.amount).toLocaleString("id-ID")]}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest ${a.status==="pending"?"bg-amber-100 text-amber-700":a.status==="approved"?"bg-indigo-100 text-indigo-700":a.status==="completed"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:a.status==="pending"?"Menunggu":a.status}),U&&a.status==="pending"&&e.jsxs("div",{className:"flex gap-1 mt-1",children:[e.jsx("button",{onClick:()=>ve(a),className:"p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-600 hover:text-white transition-all",title:"Setujui",children:e.jsx(He,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>we(a),className:"p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-600 hover:text-white transition-all",title:"Tolak",children:e.jsx(We,{className:"w-3 h-3"})})]})]})})]},a.id)),x.proposals.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-8 py-10 text-center text-gray-400 italic text-xs",children:"Belum ada pengajuan."})})]})]})})})]}),e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4 ml-1",children:"Riwayat Transaksi Realisasi"}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tgl / Deskripsi"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tipe"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Nominal"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Saldo Akhir"}),e.jsx("th",{className:"px-8 py-5 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:[x.transactions.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all",children:[e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:a.description}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 font-black uppercase tracking-widest leading-none",children:[new Date(a.transaction_date).toLocaleDateString("id-ID")," - ",a.category||"-"]})]}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest ${a.type==="in"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:a.type==="in"?"Isi Saldo (In)":"Keluar (Out)"})}),e.jsxs("td",{className:`px-8 py-6 text-right font-black text-sm ${a.type==="in"?"text-emerald-600":"text-rose-600"}`,children:[a.type==="in"?"+":"-"," Rp ",a.amount.toLocaleString("id-ID")]}),e.jsxs("td",{className:"px-8 py-6 text-right text-sm font-bold text-gray-900 dark:text-white",children:["Rp ",Number(a.balance_after).toLocaleString("id-ID")]}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[a.receipt&&e.jsx("button",{onClick:()=>p(`/storage/${a.receipt}`),className:"p-2 text-indigo-600",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>fe(a.id),className:"p-2 text-rose-600",children:e.jsx(W,{className:"w-4 h-4"})})]})})]},a.id)),x.transactions.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-16 text-center text-gray-400 italic",children:"Belum ada riwayat transaksi kas kecil."})})]})]})})})]},"petty_cash")]})})]})})}),e.jsx(y,{show:G,onClose:()=>f(!1),children:e.jsxs("form",{onSubmit:ye,className:"p-8 dark:bg-gray-900 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Tambah Pengeluaran Operasional"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Keperluan",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{className:"w-full",value:w.description,onChange:a=>g("description",a.target.value),placeholder:"Contoh: Bayar Listrik, ATK, Kebersihan..."}),e.jsx(r,{message:S.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Kategori",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{className:"w-full",value:w.category,onChange:a=>g("category",a.target.value),placeholder:"Listrik, Inventaris..."}),e.jsx(r,{message:S.category})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Tanggal",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{type:"date",className:"w-full",value:w.expense_date,onChange:a=>g("expense_date",a.target.value)}),e.jsx(r,{message:S.expense_date})]})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Nominal Pengeluaran",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{type:"number",className:"w-full",value:w.amount,onChange:a=>g("amount",a.target.value),placeholder:"0"}),e.jsx(r,{message:S.amount})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Bukti Nota/Kwitansi (Opsional)",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx("input",{type:"file",className:"w-full text-xs font-bold text-gray-500",onChange:a=>g("receipt",a.target.files[0])})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(k,{onClick:()=>f(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:Q,className:"inline-flex items-center px-8 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-600/20",children:"Simpan Pengeluaran"})]})]})}),e.jsx(y,{show:V,onClose:()=>v(!1),children:e.jsxs("form",{onSubmit:ke,className:"p-8 dark:bg-gray-900 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Input Transaksi Kas Kecil"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 p-2 bg-gray-50 dark:bg-gray-800 rounded-2xl mb-6",children:[e.jsx("button",{type:"button",onClick:()=>o("type","out"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${c.type==="out"?"bg-rose-600 text-white shadow-lg":"text-gray-400"}`,children:"Pengeluaran (Out)"}),e.jsx("button",{type:"button",onClick:()=>o("type","in"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${c.type==="in"?"bg-emerald-600 text-white shadow-lg":"text-gray-400"}`,children:"Isi Saldo (In)"})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Keterangan Transaksi",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{className:"w-full",value:c.description,onChange:a=>o("description",a.target.value),placeholder:"Sebutkan keperluan..."}),e.jsx(r,{message:O.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Tanggal",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{type:"date",className:"w-full",value:c.transaction_date,onChange:a=>o("transaction_date",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Nominal",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{type:"number",className:"w-full",value:c.amount,onChange:a=>o("amount",a.target.value),placeholder:"0"}),e.jsx(r,{message:O.amount})]})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Kategori (Opsional)",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(s,{className:"w-full",value:c.category,onChange:a=>o("category",a.target.value),placeholder:"Parkir, Bensin, Snack..."})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(k,{onClick:()=>v(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:te,className:"inline-flex items-center px-8 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-600/20",children:"Konfirmasi Transaksi"})]})]})}),$&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>p(null),children:e.jsxs("div",{className:"relative max-w-4xl w-full bg-white dark:bg-gray-900 rounded-[3rem] overflow-hidden shadow-2xl",onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>p(null),className:"absolute top-6 right-6 p-3 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full hover:scale-110 transition-all z-10 font-bold",children:"âœ•"}),e.jsxs("div",{className:"p-12 flex flex-col items-center",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 uppercase tracking-widest",children:"Bukti Nota / Kwitansi"}),e.jsx("img",{src:$,className:"max-h-[70vh] rounded-2xl shadow-xl object-contain border border-gray-100 dark:border-gray-800"}),e.jsx("button",{onClick:()=>p(null),className:"mt-8 px-10 py-3 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-gray-200 transition-all",children:"Tutup Preview"})]})]})}),e.jsx(y,{show:re,onClose:()=>C(!1),children:e.jsxs("form",{onSubmit:Ne,className:"p-10 dark:bg-gray-900 rounded-[3rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4 uppercase tracking-tight",children:"Konfirmasi Pengiriman Dana"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8 font-serif leading-relaxed",children:["Silakan unggah bukti transfer dana sebesar ",e.jsxs("span",{className:"text-emerald-600 font-bold",children:["Rp ",parseFloat(K?.amount||0).toLocaleString("id-ID")]})," untuk menyelesaikan pengisian Kas Kecil."]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(t,{value:"Metode Pengiriman Dana",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"}),e.jsxs("div",{className:"flex bg-gray-50 dark:bg-black/20 p-2 rounded-2xl",children:[e.jsx("button",{type:"button",onClick:()=>_("payment_method","transfer"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${m.payment_method==="transfer"?"bg-indigo-600 text-white shadow-lg":"text-gray-400"}`,children:"Transfer Bank"}),e.jsx("button",{type:"button",onClick:()=>_("payment_method","cash"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${m.payment_method==="cash"?"bg-emerald-600 text-white shadow-lg":"text-gray-400"}`,children:"Tunai / Cash"})]})]}),m.payment_method==="transfer"&&e.jsxs("div",{className:"relative group",children:[e.jsx(t,{value:"Upload Bukti Transfer (JPG/PNG)",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"}),e.jsx("input",{type:"file",accept:"image/*",className:"w-full p-6 border-2 border-dashed border-gray-100 dark:border-gray-800 rounded-3xl text-sm font-bold text-gray-500 cursor-pointer hover:border-emerald-500 transition-all",onChange:a=>_("transfer_proof",a.target.files[0]),required:m.payment_method==="transfer"})]}),m.payment_method==="cash"&&e.jsx("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-100 dark:border-emerald-900/30 rounded-3xl",children:e.jsx("p",{className:"text-xs font-bold text-emerald-800 dark:text-emerald-400 leading-relaxed",children:'Konfirmasi penyerahan dana secara tunai. Saldo kas kecil akan langsung bertambah setelah Bapak menekan tombol "Konfirmasi" di bawah.'})})]}),e.jsxs("div",{className:"mt-10 flex gap-4",children:[e.jsx(k,{onClick:()=>C(!1),className:"flex-1 justify-center !rounded-2xl",children:"Batal"}),e.jsx("button",{type:"submit",disabled:ne,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl transition-all",children:"Konfirmasi & Kirim"})]})]})}),e.jsx(y,{show:le,onClose:()=>P(!1),children:e.jsxs("form",{onSubmit:Se,className:"p-10 dark:bg-gray-900 rounded-[3rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4 uppercase tracking-tight",children:"Tolak Pengajuan"}),e.jsx("p",{className:"text-sm text-gray-500 mb-8 font-serif",children:"Berikan alasan mengapa pengajuan ini ditolak guna transparansi pelaporan."}),e.jsxs("div",{children:[e.jsx(t,{value:"Alasan Penolakan",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"}),e.jsx("textarea",{className:"w-full !rounded-2xl border-gray-100 dark:border-gray-800 dark:bg-white/[0.02] dark:text-white focus:ring-rose-500 focus:border-rose-500 h-32",value:ce.rejection_reason,onChange:a=>oe("rejection_reason",a.target.value),required:!0}),e.jsx(r,{message:me.rejection_reason})]}),e.jsxs("div",{className:"mt-10 flex gap-4",children:[e.jsx(k,{onClick:()=>P(!1),className:"flex-1 justify-center !rounded-2xl",children:"Batal"}),e.jsx("button",{type:"submit",disabled:pe,className:"flex-1 bg-rose-600 hover:bg-rose-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl transition-all",children:"Tolak Selamanya"})]})]})}),e.jsx(y,{show:X,onClose:()=>N(!1),children:e.jsxs("form",{onSubmit:Ce,className:"p-10 dark:bg-gray-900 rounded-[3rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-8 uppercase tracking-tight",children:"Buat Pengajuan Kas Kecil"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex bg-gray-50 dark:bg-black/20 p-2 rounded-2xl",children:[e.jsx("button",{type:"button",onClick:()=>u("type","spending"),className:`flex-1 py-4 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${h.type==="spending"?"bg-indigo-600 text-white shadow-xl":"text-gray-400"}`,children:"Pengajuan Belanja"}),e.jsx("button",{type:"button",onClick:()=>u("type","funding"),className:`flex-1 py-4 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${h.type==="funding"?"bg-emerald-600 text-white shadow-xl":"text-gray-400"}`,children:"Permohonan Dana"})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Judul Pengajuan",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"}),e.jsx(s,{className:"w-full !rounded-2xl",value:h.title,onChange:a=>u("title",a.target.value),placeholder:"Misal: Belanja ATK Kantor"}),e.jsx(r,{message:B.title})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Nominal Budget Dimohon",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 font-black text-gray-400",children:"Rp"}),e.jsx(s,{type:"number",className:"w-full !rounded-2xl !pl-12",value:h.amount,onChange:a=>u("amount",a.target.value),placeholder:"0"})]}),e.jsx(r,{message:B.amount})]}),e.jsxs("div",{children:[e.jsx(t,{value:"Detail Keperluan",className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2 ml-1"}),e.jsx("textarea",{className:"w-full !rounded-2xl border-gray-100 dark:border-gray-800 dark:bg-white/[0.02] dark:text-white focus:ring-indigo-500 focus:border-indigo-500 h-32 p-4",value:h.description,onChange:a=>u("description",a.target.value),placeholder:"Jelaskan secara detail barang apa saja yang akan dibeli..."}),e.jsx(r,{message:B.description})]})]}),e.jsxs("div",{className:"mt-10 flex gap-4",children:[e.jsx(k,{onClick:()=>N(!1),className:"flex-1 justify-center !rounded-2xl",children:"Batal"}),e.jsx("button",{type:"submit",disabled:ue,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-xl shadow-indigo-600/20",children:"Kirim Pengajuan"})]})]})})]})}export{ya as default};

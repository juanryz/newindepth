import{u as N,r as g,j as a,H as v}from"./app-YxF5yrJz.js";import{A as C}from"./AuthenticatedLayout-MRasV-BV.js";import{P as S}from"./PrimaryButton-C1iN65lU.js";import{T as p}from"./TextInput-r6hPUnNW.js";import"./transition-B5cECiKI.js";import"./ThemeToggle-Kttt-1I2.js";function I({userAge:u}){const d=u!==null&&u<17,{data:e,setData:n,post:b,processing:_,transform:y,errors:P}=N({cond_data_benar:!1,cond_bukan_pengganti_medis:!1,cond_sadar_penuh:!1,cond_riwayat_penyakit:!1,status_medis:"",izin_wali:!d,nama_wali:"",telepon_wali:"",risk_hubungi_medis:!1,risk_henti_sesi:!1,doc_direkam:!1,doc_hukum:!1,konfirmasi_akhir:!1}),[l,j]=g.useState(!1),[o,h]=g.useState([]);g.useEffect(()=>{const i=e.status_medis!=="";let t=!0;d&&(t=e.izin_wali&&e.nama_wali.trim()!==""&&e.telepon_wali.trim()!=="");const c=[e.cond_data_benar,e.cond_bukan_pengganti_medis,e.cond_sadar_penuh,e.cond_riwayat_penyakit,e.risk_hubungi_medis,e.risk_henti_sesi,e.doc_direkam,e.doc_hukum,e.konfirmasi_akhir].every(Boolean),s=[];e.cond_data_benar||s.push("1. Pernyataan kebenaran data"),e.cond_bukan_pengganti_medis||s.push("1. Kondisi hipnoterapi bukan pengganti medis"),e.cond_sadar_penuh||s.push("1. Kondisi sadar penuh"),e.cond_riwayat_penyakit||s.push("1. Pertimbangan kondisi riwayat penyakit (Tetap wajib dicentang sebagai bentuk kesadaran risiko meskipun tidak memiliki)"),i||s.push("2. Status Perawatan Medis (Ya/Tidak)"),d&&(e.izin_wali||s.push("3. Centang izin wali"),e.nama_wali.trim()===""&&s.push("3. Kolom Nama Wali"),e.telepon_wali.trim()===""&&s.push("3. Kolom Nomor Telepon Wali"));const x=d?"4":"3";e.risk_hubungi_medis||s.push(`${x}. Pernyataan risiko medis darurat`),e.risk_henti_sesi||s.push(`${x}. Pernyataan penghentian sesi darurat`);const k=d?"5":"4";e.doc_direkam||s.push(`${k}. Persetujuan sistem rekaman sesi`),e.doc_hukum||s.push(`${k}. Persetujuan rekaman untuk hukum`);const w=d?"6":"5";e.konfirmasi_akhir||s.push(`${w}. Konfirmasi Akhir`),j(c&&i&&t),h(s)},[e,d]);const f=i=>{i.preventDefault(),l&&(y(t=>({agreement_data:t})),b(route("agreement.store"),{onError:t=>{console.error("Backend validation failed:",t),t&&t.agreement_data&&h([t.agreement_data])}}))},r=({id:i,label:t,checked:m,onChange:c})=>a.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-xl border cursor-pointer transition-all ${m?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-900 dark:text-indigo-100":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-indigo-300"}`,children:[a.jsx("input",{type:"checkbox",id:i,checked:m,onChange:s=>c(s.target.checked),className:"mt-1 accent-indigo-600 rounded text-indigo-600 focus:ring-indigo-500"}),a.jsx("span",{className:"text-sm leading-relaxed",children:t})]});return a.jsxs(C,{header:a.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Persetujuan Awal Layanan InDepth"}),children:[a.jsx(v,{title:"Persetujuan Awal"}),a.jsx("div",{className:"py-12",children:a.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-2xl shadow-lg p-6 sm:p-10",children:[a.jsxs("div",{className:"mb-8 border-b pb-6 dark:border-gray-700 text-center",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Form Pernyataan Awal"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Harap baca dengan teliti dan centang seluruh pernyataan di bawah ini untuk melanjutkan ke proses booking."})]}),a.jsxs("form",{onSubmit:f,className:"space-y-10",children:[a.jsxs("section",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 flex items-center justify-center text-sm",children:"1"}),"Pernyataan Kondisi Pribadi"]}),a.jsxs("div",{className:"space-y-3 pl-8",children:[a.jsx(r,{label:"Saya menyatakan bahwa data yang saya isi pada tahap screening adalah benar dan sesuai kondisi saya saat ini.",checked:e.cond_data_benar,onChange:i=>n("cond_data_benar",i)}),a.jsx(r,{label:"Saya memahami bahwa layanan hipnoterapi bukan pengganti pengobatan medis darurat.",checked:e.cond_bukan_pengganti_medis,onChange:i=>n("cond_bukan_pengganti_medis",i)}),a.jsx(r,{label:"Saya dalam kondisi sadar penuh dan tidak berada di bawah pengaruh alkohol atau zat terlarang saat melakukan pendaftaran.",checked:e.cond_sadar_penuh,onChange:i=>n("cond_sadar_penuh",i)}),a.jsx(r,{label:"Jika saya memiliki riwayat penyakit jantung, gangguan saraf berat, epilepsi, atau kondisi medis serius lainnya, saya telah mempertimbangkan kondisi tersebut sebelum melanjutkan.",checked:e.cond_riwayat_penyakit,onChange:i=>n("cond_riwayat_penyakit",i)})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 flex items-center justify-center text-sm",children:"2"}),"Status Perawatan Medis"]}),a.jsxs("div",{className:"pl-8 space-y-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Apakah Anda saat ini masih menjalani perawatan medis atau psikologis?"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${e.status_medis==="Tidak"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30":"border-gray-200 dark:border-gray-700 hover:border-indigo-300"}`,children:[a.jsx("input",{type:"radio",name:"status_medis",className:"text-indigo-600 accent-indigo-600",value:"Tidak",checked:e.status_medis==="Tidak",onChange:()=>n("status_medis","Tidak")}),a.jsx("span",{className:"text-sm",children:"Tidak"})]}),a.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border cursor-pointer transition-all ${e.status_medis==="Ya"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30":"border-gray-200 dark:border-gray-700 hover:border-indigo-300"}`,children:[a.jsx("input",{type:"radio",name:"status_medis",className:"text-indigo-600 accent-indigo-600",value:"Ya",checked:e.status_medis==="Ya",onChange:()=>n("status_medis","Ya")}),a.jsx("span",{className:"text-sm",children:"Ya, dan saya memahami bahwa layanan InDepth bersifat terapi komplementer."})]})]}),e.status_medis==="Ya"&&a.jsx("div",{className:"mt-4 p-4 border-l-4 border-yellow-400 bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-400 text-sm font-medium rounded-r-xl",children:'"Saya memahami bahwa hipnoterapi di InDepth bukan pengganti pengobatan medis yang sedang saya jalani."'})]})]}),d&&a.jsxs("section",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 flex items-center justify-center text-sm",children:"3"}),"Pernyataan Usia (Di bawah 17 Tahun)"]}),a.jsxs("div",{className:"space-y-4 pl-8",children:[a.jsx(r,{label:"Saya menyatakan telah mendapatkan izin dari orang tua atau wali sah.",checked:e.izin_wali,onChange:i=>n("izin_wali",i)}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nama Wali *"}),a.jsx(p,{className:"w-full",value:e.nama_wali,onChange:i=>n("nama_wali",i.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nomor Telepon Wali *"}),a.jsx(p,{className:"w-full",type:"tel",value:e.telepon_wali,onChange:i=>n("telepon_wali",i.target.value),required:!0})]})]})]})]}),!d&&a.jsx("section",{className:"hidden",children:a.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 flex items-center justify-center text-sm",children:"3"}),"Pernyataan Usia"]})}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 flex items-center justify-center text-sm",children:d?"4":"3"}),"Pernyataan Risiko & Darurat"]}),a.jsxs("div",{className:"space-y-3 pl-8",children:[a.jsx(r,{label:"Saya memahami bahwa jika terjadi kondisi darurat medis selama sesi berlangsung, tim InDepth akan menghubungi layanan medis terdekat.",checked:e.risk_hubungi_medis,onChange:i=>n("risk_hubungi_medis",i)}),a.jsx(r,{label:"Saya memahami bahwa sesi dapat dihentikan sewaktu-waktu jika kondisi medis darurat terjadi.",checked:e.risk_henti_sesi,onChange:i=>n("risk_henti_sesi",i)})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 flex items-center justify-center text-sm",children:d?"5":"4"}),"Persetujuan Sistem Dokumentasi"]}),a.jsxs("div",{className:"space-y-3 pl-8",children:[a.jsx(r,{label:"Saya memahami bahwa sesi akan direkam untuk tujuan dokumentasi dan perlindungan hukum, serta ditampilkan visualnya di ruang tunggu tanpa audio.",checked:e.doc_direkam,onChange:i=>n("doc_direkam",i)}),a.jsx(r,{label:"Saya memahami bahwa rekaman hanya dibuka jika diperlukan secara hukum.",checked:e.doc_hukum,onChange:i=>n("doc_hukum",i)})]})]}),a.jsxs("section",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-indigo-800 dark:text-indigo-300 mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 flex items-center justify-center text-sm",children:d?"6":"5"}),"Konfirmasi Akhir"]}),a.jsx("div",{className:"space-y-3 pl-8",children:a.jsx(r,{label:"Saya telah membaca dan memahami seluruh pernyataan di atas dan setuju untuk melanjutkan ke proses booking.",checked:e.konfirmasi_akhir,onChange:i=>n("konfirmasi_akhir",i)})})]}),a.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700 mt-10",children:[!l&&o.length>0&&a.jsxs("div",{className:"mb-6 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 p-5 rounded-xl border border-red-100 shadow-sm",children:[a.jsxs("p",{className:"font-bold mb-2 text-base text-red-700 flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Tidak dapat melanjutkan, masih ada ",o.length," bagian yang belum terisi/tercentang:"]}),a.jsx("ul",{className:"list-disc list-inside space-y-1 ml-2 font-medium",children:o.map((i,t)=>a.jsx("li",{children:i},t))})]}),a.jsx(S,{type:"submit",className:`w-full h-14 text-lg justify-center shadow-lg transition-all ${l?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 opacity-70 cursor-pointer"}`,disabled:_,children:"Lanjutkan ke Booking"})]})]})]})})})]})}export{I as default};

import{b as G,e as g,j as e,H as P,d as V,i as q}from"./app-B87yEE7x.js";import{A as I}from"./AuthenticatedLayout-CYPBjkwp.js";import"./transition-XjVX1NpR.js";import"./ThemeToggle-CI7Rv1aS.js";import"./LiquidBackground-BfPKv-OT.js";const Y=["bunuh diri","mau mati","ingin mati","tidak mau hidup","mengakhiri hidup","bisikan","suara yang menyuruh","putus asa","tidak ada harapan","self harm","menyakiti diri"],J=a=>{const r=a.toLowerCase();return Y.some(t=>r.includes(t))};function Q({current:a,total:r}){return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-2",children:[e.jsxs("span",{children:["Langkah ",a," dari ",r]}),e.jsxs("span",{children:[Math.round(a/r*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${a/r*100}%`}})})]})}function H({text:a,typing:r=!1}){return e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold shadow-md",children:"AI"}),e.jsx("div",{className:"max-w-xl bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl rounded-tl-none px-4 py-3 shadow-sm text-gray-800 dark:text-gray-100 text-sm leading-relaxed",children:r?e.jsxs("span",{className:"flex gap-1 items-center h-4",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):a})]})}function X({text:a}){return e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx("div",{className:"max-w-xl bg-indigo-600 text-white rounded-2xl rounded-tr-none px-4 py-3 shadow-sm text-sm leading-relaxed",children:a})})}function Z(){return e.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-xl flex gap-3 items-start",children:[e.jsx("span",{className:"text-2xl",children:"üÜò"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 text-sm",children:"Kami peduli dengan keselamatan Anda"}),e.jsxs("p",{className:"text-red-600 dark:text-red-300 text-sm mt-1",children:["Tim kami akan segera menghubungi Anda secara prioritas. Jika Anda membutuhkan bantuan segera, hubungi ",e.jsx("strong",{children:"ke WhatsApp 0822-2080-0034"}),"."]})]})]})}const ee=["Pikiran (cemas, overthinking)","Perasaan (sedih, marah, takut)","Mental (depresi, mood disorder)","Psikosomatis","Halusinasi / gangguan persepsi","Obesitas","Pengembangan diri"],ae=["Konsultasi psikolog","Konsultasi psikiater","Obat medis","Terapi alternatif","Konseling agama","Diet / olahraga","Self healing / motivasi","Belum pernah melakukan apa pun"];function fe(){const{prefill:a={},screeningResult:r}=G().props,[t,i]=g.useState(1),[n,o]=g.useState({nama:a.nama||"",email:a.email||"",wa:a.wa||"",gender:a.gender||"",usia:a.usia||"",tinggi_badan:"",berat_badan:"",obesitas_mode:"calculate",obesitas_kg:""});g.useEffect(()=>{Object.keys(a).length>0&&o(s=>({...s,nama:s.nama||a.nama||"",email:s.email||a.email||"",wa:s.wa||a.wa||"",gender:s.gender||a.gender||"",usia:s.usia||a.usia||""}))},[a]);const[c,p]=g.useState([]),[u,l]=g.useState(!1),[h,m]=g.useState({}),[D,A]=g.useState(!1),[C,_]=g.useState(!1),R=g.useMemo(()=>({nama:!!a.nama,email:!!a.email,wa:!!a.wa,gender:!!a.gender,usia:!!a.usia}),[a]),L=g.useRef(null),w={1:"Halo üëã Selamat datang di InDepth Mental Wellness. Saya akan menemani Anda melalui proses skrining singkat ini. Mari kita mulai dengan data diri Anda.",2:"Terima kasih. Sekarang, tolong ceritakan ‚Äî apa masalah utama yang ingin Anda atasi?",3:"Mari kita ukur kondisi fisik Anda. Berapa tinggi dan berat badan Anda saat ini? Ini membantu kami menentukan program yang paling efektif untuk Anda.",4:"Baik. Seberapa besar kondisi ini mengganggu kehidupan sehari-hari Anda? Geser slider di bawah sesuai perasaan Anda (1 = sangat ringan, 10 = sangat parah).",5:"Sudah berapa lama Anda mengalami kondisi ini?",6:"Apakah Anda pernah mendapatkan diagnosis dari profesional kesehatan sebelumnya?",7:"Apakah saat ini Anda masih dalam perawatan atau pengobatan?",8:"Upaya apa yang sudah pernah Anda lakukan untuk mengatasi kondisi ini?",9:"Sekarang, ceritakan kepada saya ‚Äî apa yang paling Anda rasakan atau alami saat ini? Tidak perlu terstruktur, tulis saja apa yang ada di hati Anda.",10:"Hampir selesai üåü Apa yang ingin Anda capai setelah menjalani program terapi bersama kami? Apa harapan Anda?"};g.useEffect(()=>{w[t]&&!h[t]&&setTimeout(()=>{m(s=>({...s,[t]:[{role:"assistant",content:w[t]}]}))},300),L.current?.scrollIntoView({behavior:"smooth"})},[t]);const b=(s,d)=>{o(x=>({...x,[s]:d}))},T=(s,d)=>{o(x=>{const y=Array.isArray(x[s])?x[s]:[];return{...x,[s]:y.includes(d)?y.filter(v=>v!==d):[...y,d]}})},M=async(s,d)=>{if(!s.trim())return;J(s)&&A(!0);const x=c,y={role:"user",content:s},v=[...x,y];m(k=>({...k,[t]:[...k[t]||[],y]})),l(!0);try{const k=await q.post(route("screening.chat"),{message:s,history:v}),f={role:"assistant",content:k.data.reply},F=[...v,f];p(F),k.data.is_high_risk&&A(!0),m(B=>({...B,[t]:[...B[t]||[],f]}))}catch{const k={role:"assistant",content:"Terima kasih telah berbagi. Kami mendengar Anda."};m(f=>({...f,[t]:[...f[t]||[],k]}))}finally{l(!1)}},K=()=>{switch(t){case 1:return n.nama&&n.gender&&n.usia&&n.wa&&n.email&&(!(parseInt(n.usia)<17)||n.izin_wali);case 2:return!!n.masalah_utama;case 3:return n.obesitas_mode==="manual"?!!n.obesitas_kg:n.berat_badan&&n.tinggi_badan;case 4:return n.skala!=null;case 5:return!!n.durasi;case 6:return!!n.diagnosis;case 7:return!!n.status_perawatan;case 8:return Array.isArray(n.usaha)&&n.usaha.length>0;case 9:return!!n.detail_masalah;case 10:return!!n.outcome;default:return!0}},N=()=>n.masalah_utama==="Obesitas",O=s=>s===2&&!N()?4:s+1,W=s=>s===4&&!N()?2:s-1,z=()=>{_(!0);let s=[];const d=h[9]||[{role:"assistant",content:w[9]}];s.push(...d),d.length===1&&n.detail_masalah&&s.push({role:"user",content:n.detail_masalah});const x=h[10]||[{role:"assistant",content:w[10]}];s.push(...x),x.length===1&&n.outcome&&s.push({role:"user",content:n.outcome}),V.post(route("screening.store"),{step_data:n,chat_history:s},{onError:()=>_(!1)})},E=()=>{const s=h[t]||[];return e.jsxs("div",{className:"space-y-4",children:[s.map((d,x)=>d.role==="assistant"?e.jsx(H,{text:d.content},x):e.jsx(X,{text:d.content},x)),u&&e.jsx(H,{typing:!0}),D&&e.jsx(Z,{}),e.jsxs("div",{className:"mt-4",children:[t===1&&e.jsx(ne,{data:n,update:b,autofilled:R}),t===2&&e.jsx(re,{data:n,update:b}),t===3&&e.jsx(oe,{data:n,update:b}),t===4&&e.jsx(se,{data:n,update:b}),t===5&&e.jsx(ie,{data:n,update:b}),t===6&&e.jsx(le,{data:n,update:b}),t===7&&e.jsx(de,{data:n,update:b}),t===8&&e.jsx(ge,{data:n,toggleMulti:T}),t===9&&e.jsx(ce,{data:n,update:b,onSendAi:d=>M(d)}),t===10&&e.jsx(xe,{data:n,update:b,onSendAi:d=>M(d)})]}),e.jsx("div",{ref:L})]})},[ue,me]=g.useState(!1);if(r){const s=r.recommended_package?r.recommended_package==="vip"?"VIP":r.recommended_package.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()):null;return e.jsxs(I,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Hasil Skrining Klinis"}),children:[e.jsx(P,{title:"Hasil Skrining"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-8 sm:p-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-green-100 dark:bg-green-900/40 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Skrining Selesai"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ringkasan hasil analisis kesehatan mental Anda"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 mb-10",children:e.jsxs("div",{className:"p-6 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-gray-100 dark:border-gray-700",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Rekomendasi Paket"}),e.jsx("div",{className:"inline-flex items-center px-3 py-1.5 rounded-xl text-sm font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900/40 dark:text-indigo-300",children:s||"Hipnoterapi"})]})})]})})})})]})}const U=N()?10:9,$=t>2&&!N()?t-1:t;return e.jsxs(I,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Skrining Klinis InDepth"}),children:[e.jsx(P,{title:"Skrining Klinis"}),e.jsx("div",{className:"py-6 min-h-[calc(100dvh-64px)] bg-gray-50/50 dark:bg-gray-900/50",children:e.jsx("div",{className:"max-w-xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsx(Q,{current:$,total:U}),e.jsx("div",{className:"min-h-[300px]",children:E()}),e.jsxs("div",{className:"mt-8 flex justify-between items-center border-t border-gray-100 dark:border-gray-700/50 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>i(W(t)),disabled:t===1,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 disabled:opacity-30 hover:text-gray-900 dark:hover:text-white transition-colors touch-manipulation",children:"‚Üê Sebelumnya"}),t<10?e.jsx("button",{type:"button",onClick:()=>i(O(t)),disabled:!K(),className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-40 text-white font-semibold rounded-xl text-sm transition-colors shadow touch-manipulation",children:"Selanjutnya ‚Üí"}):e.jsx("button",{type:"button",onClick:z,disabled:!K()||C,className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 disabled:opacity-40 text-white font-semibold rounded-xl text-sm transition-colors shadow touch-manipulation",children:C?"Menyimpan...":"‚úÖ Selesai & Lihat Rekomendasi"})]})]})})})]})}function S({label:a,type:r="text",value:t,onChange:i,required:n,autoFilled:o=!1}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[a,n&&" *"]}),o&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}),"otomatis"]})]}),e.jsx("input",{type:r,value:t||"",onChange:c=>i(c.target.value),className:`w-full px-4 py-2.5 rounded-xl border text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o?"border-green-300 dark:border-green-700 bg-green-50/50 dark:bg-green-900/10":"border-gray-200 dark:border-gray-600"}`})]})}function j({options:a,value:r,onChange:t}){return e.jsx("div",{className:"space-y-2",children:a.map(i=>e.jsxs("label",{className:`flex items-center gap-4 p-4 rounded-xl border cursor-pointer select-none transition-all text-base md:text-sm ${r===i?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300 shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-indigo-300 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("input",{type:"radio",checked:r===i,onChange:()=>t(i),className:"w-5 h-5 text-indigo-600 accent-indigo-600 focus:ring-indigo-500"}),i]},i))})}function te({options:a,values:r,toggle:t}){const i=Array.isArray(r)?r:[];return e.jsx("div",{className:"space-y-2",children:a.map(n=>e.jsxs("label",{className:`flex items-center gap-4 p-4 rounded-xl border cursor-pointer select-none transition-all text-base md:text-sm ${i.includes(n)?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300 shadow-sm":"border-gray-200 dark:border-gray-600 hover:border-indigo-300 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:i.includes(n),onChange:()=>t(n),className:"w-5 h-5 accent-indigo-600 rounded text-indigo-600 focus:ring-indigo-500"}),n]},n))})}function ne({data:a,update:r,autofilled:t={}}){const i=a.usia&&parseInt(a.usia)<17;return e.jsxs("div",{className:"space-y-4",children:[(t.nama||t.email||t.wa||t.gender||t.usia)&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 text-xs text-green-700 dark:text-green-400",children:[e.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Beberapa data telah diisi otomatis dari akun Anda. Silakan periksa dan ubah jika diperlukan."]}),e.jsx(S,{label:"Nama Lengkap",value:a.nama,onChange:n=>r("nama",n),autoFilled:t.nama,required:!0}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Jenis Kelamin *"}),t.gender&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}),"otomatis"]})]}),e.jsx("div",{className:"flex gap-3",children:["Laki-laki","Perempuan"].map(n=>e.jsx("button",{type:"button",onClick:()=>r("gender",n),className:`flex-1 py-2.5 rounded-xl border text-sm font-medium transition-all ${a.gender===n?"border-indigo-500 bg-indigo-500 text-white":"border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-indigo-300"}`,children:n},n))})]}),e.jsx(S,{label:"Usia",type:"number",value:a.usia,onChange:n=>r("usia",n),autoFilled:t.usia,required:!0}),i&&e.jsxs("label",{className:"flex items-start gap-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 rounded-xl text-sm text-yellow-800 dark:text-yellow-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!a.izin_wali,onChange:n=>r("izin_wali",n.target.checked),className:"mt-0.5 accent-yellow-600"}),"Saya mendapat izin dari orang tua / wali untuk mengikuti skrining ini *"]}),e.jsx(S,{label:"Nomor WhatsApp",type:"tel",value:a.wa,onChange:n=>r("wa",n),autoFilled:t.wa,required:!0}),e.jsx(S,{label:"Email",type:"email",value:a.email,onChange:n=>r("email",n),autoFilled:t.email,required:!0})]})}function re({data:a,update:r}){return e.jsx(j,{options:ee,value:a.masalah_utama,onChange:t=>r("masalah_utama",t)})}function se({data:a,update:r}){const t=a.skala??5,n=(o=>o<=3?{text:"Ringan",color:"text-green-600"}:o<=6?{text:"Sedang",color:"text-yellow-600"}:o<=8?{text:"Berat",color:"text-orange-600"}:{text:"Sangat Berat",color:"text-red-600"})(t);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"1 = Sangat Ringan"}),e.jsxs("span",{className:`text-2xl font-bold ${n.color}`,children:[t," ",e.jsxs("span",{className:"text-base",children:["‚Äî ",n.text]})]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"10 = Sangat Parah"})]}),e.jsx("input",{type:"range",min:1,max:10,value:t,onChange:o=>r("skala",parseInt(o.target.value)),className:"w-full accent-indigo-600 cursor-pointer h-10"}),e.jsx("div",{className:"flex justify-between text-xs text-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(o=>e.jsx("span",{children:o},o))})]})}function ie({data:a,update:r}){return e.jsx(j,{options:["< 1 bulan","1‚Äì6 bulan","6‚Äì12 bulan","1‚Äì3 tahun","> 3 tahun"],value:a.durasi,onChange:t=>r("durasi",t)})}function oe({data:a,update:r}){const t=a.obesitas_mode||"calculate",i=parseFloat(a.berat_badan||0),n=parseFloat(a.tinggi_badan||0),o=a.gender||"Laki-laki",c=n-100,p=o==="Perempuan"?c-c*.15:c-c*.1,u=i-p,h=t==="manual"?a.obesitas_kg?a.obesitas_kg==="> 20 kg"?{text:"Kategori: VIP (Kelebihan > 20kg)",color:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20"}:a.obesitas_kg==="10‚Äì20 kg"?{text:"Kategori: Reguler (Kelebihan 10-20kg)",color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20"}:{text:"Kategori: Reguler (Kelebihan 0-10kg)",color:"text-indigo-600",bg:"bg-indigo-50 dark:bg-indigo-900/20"}:null:!i||!n?null:u>20?{text:"Kategori: VIP (Kelebihan > 20kg)",color:"text-red-600",bg:"bg-red-50 dark:bg-red-900/20"}:u>0?{text:"Kategori: Reguler (Kelebihan 1-20kg)",color:"text-orange-600",bg:"bg-orange-50 dark:bg-orange-900/20"}:{text:"Berat Badan Ideal / Dibawah Ideal",color:"text-green-600",bg:"bg-green-50 dark:bg-green-900/20"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:()=>r("obesitas_mode","calculate"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${t==="calculate"?"bg-white dark:bg-gray-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-gray-500"}`,children:"Hitung Otomatis"}),e.jsx("button",{type:"button",onClick:()=>r("obesitas_mode","manual"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${t==="manual"?"bg-white dark:bg-gray-700 shadow-sm text-indigo-600 dark:text-indigo-400":"text-gray-500"}`,children:"Pilih Langsung"})]}),t==="calculate"?e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tinggi Badan (cm)"}),e.jsx("input",{type:"number",value:a.tinggi_badan||"",onChange:m=>r("tinggi_badan",m.target.value),placeholder:"Contoh: 170",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Berat Badan (kg)"}),e.jsx("input",{type:"number",value:a.berat_badan||"",onChange:m=>r("berat_badan",m.target.value),placeholder:"Contoh: 85",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Berapa estimasi kelebihan berat badan Anda?"}),e.jsx(j,{options:["0‚Äì10 kg","10‚Äì20 kg","> 20 kg"],value:a.obesitas_kg,onChange:m=>r("obesitas_kg",m)})]}),h&&e.jsxs("div",{className:`p-4 rounded-xl border border-transparent ${h.bg} transition-all`,children:[e.jsx("p",{className:`text-sm font-bold ${h.color} mb-1`,children:h.text}),t==="calculate"&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Berdasarkan perhitungan Broca Index, berat badan ideal Anda adalah sekitar ",e.jsxs("strong",{children:[Math.round(p)," kg"]}),"."]})]})]})}function le({data:a,update:r}){const t=a.diagnosis&&a.diagnosis!=="Tidak pernah"&&a.diagnosis!=="Tidak pernah didiagnosis";return e.jsxs("div",{className:"space-y-4",children:[e.jsx(j,{options:["Tidak pernah didiagnosis","Pernah ‚Äî oleh Dokter Umum","Pernah ‚Äî oleh Psikolog","Pernah ‚Äî oleh Psikiater","Pernah ‚Äî oleh Spesialis Lain"],value:a.diagnosis,onChange:i=>r("diagnosis",i)}),t&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tuliskan hasil diagnosisnya (opsional)"}),e.jsx("textarea",{rows:3,value:a.hasil_diagnosis||"",onChange:i=>r("hasil_diagnosis",i.target.value),placeholder:"Contoh: Gangguan kecemasan umum (GAD)...",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"})]})]})}function de({data:a,update:r}){return e.jsx(j,{options:["Ya, masih dalam perawatan","Tidak, sudah tidak dalam perawatan"],value:a.status_perawatan,onChange:t=>r("status_perawatan",t)})}function ge({data:a,toggleMulti:r}){return e.jsx(te,{options:ae,values:a.usaha,toggle:t=>r("usaha",t)})}function ce({data:a,update:r,onSendAi:t}){const[i,n]=g.useState(!1),[o,c]=g.useState(""),p=()=>{a.detail_masalah?.trim()&&(t(a.detail_masalah),n(!0))},u=()=>{o.trim()&&(t(o),c(""))};return e.jsxs("div",{className:"space-y-3",children:[!i&&e.jsx("textarea",{rows:5,value:a.detail_masalah||"",onChange:l=>r("detail_masalah",l.target.value),placeholder:"Ceritakan apa yang Anda rasakan, kapan bermula, dan bagaimana kondisi ini memengaruhi hidup Anda...",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"}),!i&&a.detail_masalah?.trim()&&e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3.5 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl leading-none",children:"üí¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-indigo-800 dark:text-indigo-300",children:"Yuk ngobrol dengan Agent kami"}),e.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-0.5",children:"untuk memahami dirimu lebih lanjut"})]})]}),e.jsxs("button",{type:"button",onClick:p,className:"flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded-xl transition-colors shadow",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Mulai Ngobrol"]})]}),i&&e.jsxs("div",{className:"flex gap-2 items-end pt-1",children:[e.jsx("input",{type:"text",value:o,onChange:l=>c(l.target.value),onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),u())},placeholder:"Ketik pesan lanjutan...",className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"}),e.jsx("button",{type:"button",onClick:u,disabled:!o.trim(),className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 disabled:opacity-40 text-white rounded-xl transition-colors shadow",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}function xe({data:a,update:r,onSendAi:t}){const[i,n]=g.useState(!1),[o,c]=g.useState(""),p=()=>{a.outcome?.trim()&&(t(a.outcome),n(!0))},u=()=>{o.trim()&&(t(o),c(""))};return e.jsxs("div",{className:"space-y-3",children:[!i&&e.jsx("textarea",{rows:4,value:a.outcome||"",onChange:l=>r("outcome",l.target.value),placeholder:"Apa yang ingin Anda capai setelah program terapi? Seperti apa kondisi ideal yang Anda impikan?",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"}),!i&&a.outcome?.trim()&&e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3.5 rounded-xl bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl leading-none",children:"üåü"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-300",children:"Yuk ngobrol dengan Agent kami"}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-0.5",children:"untuk memahami harapanmu lebih lanjut"})]})]}),e.jsxs("button",{type:"button",onClick:p,className:"flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold rounded-xl transition-colors shadow",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Mulai Ngobrol"]})]}),i&&e.jsxs("div",{className:"flex gap-2 items-end pt-1",children:[e.jsx("input",{type:"text",value:o,onChange:l=>c(l.target.value),onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),u())},placeholder:"Ketik pesan lanjutan...",className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-base md:text-sm focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),e.jsx("button",{type:"button",onClick:u,disabled:!o.trim(),className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-purple-600 hover:bg-purple-700 disabled:opacity-40 text-white rounded-xl transition-colors shadow",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}export{fe as default};

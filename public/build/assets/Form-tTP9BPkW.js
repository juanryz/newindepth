import{r as b,u as f,j as e,H as j,L as y}from"./app-CeMDqyeG.js";import{A as k}from"./AuthenticatedLayout-BFCAse_u.js";import{I as o}from"./InputError-Bc9hvnXo.js";import{I as i}from"./InputLabel-D1f9funf.js";import{P as v}from"./PrimaryButton-BR7ynwBK.js";import{T as c}from"./TextInput-SHz8Vd46.js";import"./transition-G-SJCfc9.js";import"./ThemeToggle-HSz3WIri.js";function T({course:r}){const s=!!r.id,[n,g]=b.useState(r.thumbnail?`/storage/${r.thumbnail}`:null),{data:d,setData:t,post:u,processing:x,errors:l}=f({title:r.title||"",description:r.description||"",price:r.price||0,thumbnail:null,is_published:r.is_published||!1,_method:s?"put":"post"}),p=a=>{const m=a.target.files[0];m&&(t("thumbnail",m),g(URL.createObjectURL(m)))},h=a=>{a.preventDefault(),u(s?route("admin.courses.update",r.id):route("admin.courses.store"),{forceFormData:!0})};return e.jsxs(k,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:s?"Edit Kelas LMS":"Tambah Kelas LMS Baru"}),children:[e.jsx(j,{title:s?"Edit Kelas":"Tambah Kelas"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",value:"Judul Kelas"}),e.jsx(c,{id:"title",type:"text",className:"mt-1 block w-full",value:d.title,onChange:a=>t("title",a.target.value),required:!0,isFocused:!0}),e.jsx(o,{message:l.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price",value:"Harga (Rp) - Isi 0 Jika Gratis"}),e.jsx(c,{id:"price",type:"number",min:"0",className:"mt-1 block w-full",value:d.price,onChange:a=>t("price",a.target.value),required:!0}),e.jsx(o,{message:l.price,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",value:"Deskripsi Lengkap"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm min-h-[150px]",value:d.description,onChange:a=>t("description",a.target.value),required:!0}),e.jsx(o,{message:l.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"thumbnail",value:"Thumbnail Kelas (Opsional)"}),e.jsx("input",{id:"thumbnail",type:"file",accept:"image/*",className:"mt-1 block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300",onChange:p}),e.jsx(o,{message:l.thumbnail,className:"mt-2"}),n&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),e.jsx("img",{src:n,alt:"Preview",className:"h-32 object-cover rounded shadow-md border border-gray-200 dark:border-gray-700"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-md border border-gray-200 dark:border-gray-600",children:[e.jsx(i,{value:"Status Publikasi"}),e.jsxs("label",{className:"flex items-center mt-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 cursor-pointer h-5 w-5",checked:d.is_published,onChange:a=>t("is_published",a.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Tampilkan kelas ini di katalog publik (Publish)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Jika tidak di centang, kelas akan disimpan sebagai Draft dan tidak bisa dibeli/dilihat user."})]})]}),e.jsxs("div",{className:"flex items-center justify-end mt-6 space-x-3 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(y,{href:route("admin.courses.index"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md",children:"Batal"}),e.jsx(v,{disabled:x,children:s?"Simpan Perubahan":"Buat Kelas"})]})]})})})})]})}export{T as default};

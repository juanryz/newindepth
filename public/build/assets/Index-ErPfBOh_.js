import{b as s,e as v,u as z,f as se,j as e,H as Yt,L as Ie,h as nt}from"./app-6eaGyqVV.js";import{A as Ut}from"./AuthenticatedLayout-Dq0KEW8_.js";import{F as Et,i as Wt,a as zt,b as Jt}from"./index-BUrlokU5.js";import{M as it}from"./Modal-D_EWC0RG.js";import{S as lt}from"./SecondaryButton-CLQArCtE.js";import{P as dt}from"./PrimaryButton-q4Ze1rQj.js";import{C as Fe}from"./calendar-DeMwW6Rx.js";import{U as Kt}from"./users-BbV2N-OE.js";import{C as Gt}from"./credit-card-C2NXl4LM.js";import{A as ot}from"./activity-CWMPRG_U.js";import{C as qt}from"./chevron-right-CPG_yq4J.js";import{F as Ht}from"./file-text-DRQljOnV.js";import{A as Qt}from"./index-siO0MjkR.js";import{m as pe}from"./proxy-PPfOng25.js";import{E as Xt}from"./eye-Cy7JGfz-.js";import{C as Me}from"./circle-check-B251oFSB.js";import{C as ct}from"./clock-B-QH6J5s.js";import{T as Zt}from"./triangle-alert-XRUDoATV.js";import"./transition-DiBfSJmm.js";import"./ThemeToggle-B8sJKJdP.js";import"./LiquidBackground-B8SNDjzN.js";import"./with-selector-CY8ydf82.js";import"./createLucideIcon-B0ZTSVoK.js";function ea(o){const c=o.event.extendedProps.bookings?.length>0,p=o.event.extendedProps.therapist?.name||"Terapis",J=o.event.start<new Date;return o.event.extendedProps.status==="off"?e.jsxs("div",{className:"h-full w-full p-1 sm:p-2 rounded-xl transition-all flex flex-col justify-center gap-0 sm:gap-1 overflow-hidden bg-slate-100 dark:bg-slate-900/50 border-2 border-slate-200 dark:border-slate-800 text-slate-400 dark:text-slate-600 shadow-sm opacity-80 cursor-not-allowed",children:[e.jsx("span",{className:"text-[9px] sm:text-[10px] font-black uppercase tracking-widest opacity-60 leading-tight truncate",children:o.timeText}),e.jsx("div",{className:"text-[10px] sm:text-xs font-black truncate leading-tight uppercase tracking-tight text-slate-500 dark:text-slate-400",children:"ðŸ–ï¸ LIBUR"}),e.jsxs("div",{className:"text-[8px] font-bold uppercase tracking-widest truncate",children:["Off-Duty â€¢ ",p]})]}):J&&!c?e.jsxs("div",{className:"h-full w-full p-1 sm:p-2 rounded-xl transition-all flex flex-col justify-center gap-0 sm:gap-1 overflow-hidden bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-500 shadow-sm cursor-not-allowed",children:[e.jsx("span",{className:"text-[9px] sm:text-[10px] font-black uppercase tracking-widest leading-tight truncate",children:o.timeText}),e.jsx("div",{className:"text-[10px] sm:text-xs font-black truncate leading-tight uppercase tracking-tight text-slate-600 dark:text-slate-400",children:"âš« KADALUARSA"}),e.jsxs("div",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest truncate",children:["Ditutup â€¢ ",p]})]}):e.jsxs("div",{className:`h-full w-full p-1 sm:p-2 rounded-xl transition-all flex flex-col justify-center gap-0 sm:gap-1 overflow-hidden ${c?"bg-gradient-to-br from-rose-500 to-rose-600 text-white shadow-lg shadow-rose-500/20":"bg-white dark:bg-slate-800 border-2 border-emerald-200 dark:border-emerald-900/40 text-emerald-700 dark:text-emerald-400 shadow-sm"}`,children:[e.jsx("span",{className:"text-[9px] sm:text-[10px] font-black uppercase tracking-widest opacity-80 leading-tight truncate",children:o.timeText}),e.jsx("div",{className:`text-[10px] sm:text-xs font-black truncate leading-tight uppercase tracking-tight ${c?"text-white":"text-slate-900 dark:text-white"}`,children:c?"ðŸ”´ PENUH":`ðŸŸ¢ ${p}`}),e.jsx("div",{className:"text-[8px] font-bold opacity-70 uppercase tracking-widest truncate",children:c?`${o.event.extendedProps.bookings.length} Pasien â€¢ Slot Terisi`:"Tersedia â€¢ 1 Pasien"})]})}const ta=`
    .fc { --fc-border-color: rgba(255,255,255,0.05); --fc-button-bg-color: transparent; --fc-button-border-color: rgba(255,255,255,0.1); --fc-button-hover-bg-color: rgba(99,102,241,0.1); --fc-button-active-bg-color: rgba(99,102,241,0.2); --fc-today-bg-color: rgba(99,102,241,0.05); font-family: 'Inter', sans-serif; border: none !important; }
    .dark .fc { --fc-border-color: rgba(255,255,255,0.03); }
    .fc-theme-standard td, .fc-theme-standard th { border: 1px solid var(--fc-border-color) !important; }
    .fc-col-header-cell { padding: 20px 0 !important; background: rgba(255,255,255,0.02); }
    .fc-col-header-cell-cushion { text-transform: uppercase; font-size: 11px; font-weight: 900; letter-spacing: 0.1em; color: #6366f1; }
    .fc-timegrid-slot { height: 4em !important; border-bottom: 1px solid var(--fc-border-color) !important; }
    .fc-timegrid-slot-label-cushion { font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; }
    .fc-event { border: none !important; border-radius: 12px !important; padding: 4px !important; box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: all 0.3s cubic-bezier(0.4,0,0.2,1); }
    .fc-event:hover { transform: scale(1.02) translateY(-2px); z-index: 50; box-shadow: 0 12px 24px rgba(0,0,0,0.15); }
    .fc-v-event { background: transparent !important; }
    .fc-event-main { padding: 4px !important; }
    .fc-timegrid-now-indicator-line { border-color: #6366f1 !important; border-width: 2px !important; }
    .fc-toolbar-title { font-size: 1.25rem !important; font-weight: 900 !important; text-transform: uppercase; letter-spacing: -0.025em; color: #1e293b; }
    .dark .fc-toolbar-title { color: #f8fafc; }
    .fc-button-primary { background-color: white !important; border: 1px solid rgba(0,0,0,0.05) !important; color: #475569 !important; font-weight: 800 !important; font-size: 11px !important; text-transform: uppercase !important; border-radius: 12px !important; padding: 8px 16px !important; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1) !important; }
    .dark .fc-button-primary { background-color: #1e293b !important; border-color: rgba(255,255,255,0.05) !important; color: #cbd5e1 !important; }
    .fc-button-primary:hover { background-color: #f8fafc !important; }
    .dark .fc-button-primary:hover { background-color: #334155 !important; }
    .fc-button-active { background-color: #4f46e5 !important; border-color: #4f46e5 !important; color: white !important; }
    @media (max-width: 767px) {
        .fc-toolbar { flex-direction: column !important; gap: 8px !important; align-items: stretch !important; }
        .fc-toolbar-title { font-size: 0.9rem !important; text-align: center; }
        .fc-toolbar-chunk { display: flex !important; justify-content: center !important; flex-wrap: wrap !important; gap: 4px !important; }
        .fc-button-primary { font-size: 9px !important; padding: 6px 10px !important; }
        .fc .fc-col-header-cell-cushion { font-size: 9px !important; padding: 4px !important; }
        .fc .fc-timegrid-slot-label-cushion { font-size: 9px !important; }
        .fc-timegrid-slot { height: 3em !important; }
    }
`;function Ca({schedules:o=[],bookings:c=[],transactions:p=[],therapists:J=[],availableSchedules:Pe=[],filters:ne={}}){const[k,gt]=s.useState("schedules"),{flash:ie,errors:le,auth:aa}=v().props,[xt,de]=s.useState(!1),{data:K,setData:G,post:pt,processing:Be,reset:Oe}=z({date_from:"",date_to:"",start_time:"08:00",end_time:"20:00",therapist_id:ne.therapist_id||""}),[q,Re]=s.useState(String(ne.therapist_id||"")),[mt,$e]=s.useState("timeGridWeek"),N=s.useRef(null),{data:Ae,setData:Ve,patch:ut,processing:ht}=z({therapist_id:""}),[bt,me]=s.useState(null),[H,D]=s.useState(null),[ue,Q]=s.useState(null),{data:X,setData:Ye,post:ft,processing:Ue,reset:Ee}=z({new_schedule_id:"",reschedule_reason:""}),{data:We,setData:ze,post:yt,processing:Je,reset:kt}=z({no_show_party:"therapist",no_show_reason:""}),[he,be]=s.useState(null),{data:wt,setData:jt,post:vt,reset:Nt,processing:Ke}=z({rejection_reason:""}),[Ge,qe]=s.useState(null),[I,Z]=s.useState(null),[He,fe]=s.useState(null),[Dt,oe]=s.useState(null),[ce,ge]=s.useState(""),[Qe,Xe]=s.useState(!1),{post:ra,errors:sa}=z(),St=t=>{ce.trim()&&(Xe(!0),se.post(route("vouchers.apply-by-code"),{code:ce,transaction_id:t.id},{preserveScroll:!0,onSuccess:()=>{oe(null),ge("")},onFinish:()=>Xe(!1)}))},[F,ye]=s.useState(""),[M,ke]=s.useState(""),[h,P]=s.useState(""),[b,B]=s.useState(""),w=(p||[]).filter(t=>{if(!t.payment_proof&&t.status==="pending"||F&&t.status!==F)return!1;if(M){const a=M.toLowerCase();if(!(t.invoice_number?.toLowerCase()??"").includes(a)&&!(t.user?.name?.toLowerCase()??"").includes(a)&&!(t.user?.email?.toLowerCase()??"").includes(a))return!1}return!(h&&new Date(t.created_at)<new Date(h)||b&&new Date(t.created_at)>new Date(b+"T23:59:59"))}),[O,we]=s.useState(""),[R,je]=s.useState(""),[f,$]=s.useState(""),[y,A]=s.useState(""),j=(c||[]).filter(t=>{if(O&&t.status!==O)return!1;if(R){const a=R.toLowerCase();if(!(t.booking_code?.toLowerCase()??"").includes(a)&&!(t.patient?.name?.toLowerCase()??"").includes(a)&&!(t.patient?.email?.toLowerCase()??"").includes(a)&&!(t.therapist?.name?.toLowerCase()??"").includes(a))return!1}return!(f&&t.schedule?.date&&new Date(t.schedule.date)<new Date(f)||y&&t.schedule?.date&&new Date(t.schedule.date)>new Date(y+"T23:59:59"))}),[ve,_t]=s.useState(""),[S,ee]=s.useState(""),[_,te]=s.useState(""),[Ne,na]=s.useState(""),De=(o||[]).filter(t=>{if(Ne&&String(t.therapist?.id)!==String(Ne)&&String(t.extendedProps?.therapist?.id)!==String(Ne))return!1;if(ve){const n=ve.toLowerCase();if(!(t.extendedProps?.therapist?.name||t.title||"").toLowerCase().includes(n))return!1}const a=t.start||t.date;return!(S&&a&&new Date(a)<new Date(S)||_&&a&&new Date(a)>new Date(_+"T23:59:59"))}),ae=s.useMemo(()=>{const t=[];return(p||[]).forEach(a=>{if(t.push({id:`tx-submit-${a.id}`,type:"payment_submitted",icon:"ðŸ’¸",color:"amber",actor:a.user?.name||"Pasien",actorRole:"Pasien",action:"mengajukan pembayaran",subject:a.invoice_number,detail:`Rp ${new Intl.NumberFormat("id-ID").format(a.amount||0)} Â· ${a.payment_bank||"-"}`,date:a.created_at}),a.status==="paid"&&a.validated_at){const n=a.validated_by_user?.name||a.validated_by?.name||"Admin";t.push({id:`tx-valid-${a.id}`,type:"payment_validated",icon:"âœ…",color:"emerald",actor:n,actorRole:"Admin",action:"memvalidasi pembayaran",subject:a.invoice_number,detail:`Pasien: ${a.user?.name||"-"} Â· Rp ${new Intl.NumberFormat("id-ID").format(a.amount||0)}`,date:a.validated_at})}if(a.status==="rejected"){const n=a.validated_by_user?.name||a.validated_by?.name||"Admin";t.push({id:`tx-reject-${a.id}`,type:"payment_rejected",icon:"âŒ",color:"rose",actor:n,actorRole:"Admin",action:"menolak pembayaran",subject:a.invoice_number,detail:`Pasien: ${a.user?.name||"-"} Â· Alasan: ${a.rejection_reason||"-"}`,date:a.updated_at||a.created_at})}}),(c||[]).forEach(a=>{t.push({id:`booking-created-${a.id}`,type:"booking_created",icon:"ðŸ“‹",color:"indigo",actor:a.patient?.name||"Pasien",actorRole:"Pasien",action:"membuat booking",subject:a.booking_code,detail:`Paket ${a.package_type||"-"} Â· ${a.schedule?.date?new Date(a.schedule.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-"}`,date:a.created_at}),a.status==="no_show"&&t.push({id:`booking-noshow-${a.id}`,type:"no_show",icon:"âš ï¸",color:"rose",actor:"Admin",actorRole:"Admin",action:"menandai no-show",subject:a.booking_code,detail:`Pasien: ${a.patient?.name||"-"} Â· Pihak: ${a.no_show_party||"pasien"}`,date:a.updated_at||a.created_at}),a.status==="completed"&&t.push({id:`booking-done-${a.id}`,type:"session_completed",icon:"ðŸŽ¯",color:"emerald",actor:a.therapist?.name||"Terapis",actorRole:"Terapis",action:"menyelesaikan sesi",subject:a.booking_code,detail:`Pasien: ${a.patient?.name||"-"} Â· Outcome: ${a.completion_outcome||"Normal"}`,date:a.updated_at||a.created_at}),a.status==="cancelled"&&t.push({id:`booking-cancel-${a.id}`,type:"booking_cancelled",icon:"ðŸš«",color:"gray",actor:"Admin",actorRole:"Admin",action:"membatalkan booking",subject:a.booking_code,detail:`Pasien: ${a.patient?.name||"-"}`,date:a.updated_at||a.created_at})}),t.sort((a,n)=>new Date(n.date)-new Date(a.date))},[p,c]),[T,Se]=s.useState(""),[C,_e]=s.useState(""),[m,V]=s.useState(""),[u,Y]=s.useState(""),L=s.useMemo(()=>ae.filter(t=>{if(T&&t.type!==T)return!1;if(C){const a=C.toLowerCase();if(!(t.actor?.toLowerCase()??"").includes(a)&&!(t.subject?.toLowerCase()??"").includes(a)&&!(t.detail?.toLowerCase()??"").includes(a)&&!(t.action?.toLowerCase()??"").includes(a))return!1}return!(m&&new Date(t.date)<new Date(m)||u&&new Date(t.date)>new Date(u+"T23:59:59"))}),[ae,T,C,m,u]),[U,Te]=s.useState(1),[E,Ce]=s.useState(1),[W,Le]=s.useState(1),d=10;s.useEffect(()=>{Te(1)},[M,F,h,b]),s.useEffect(()=>{Ce(1)},[R,O,f,y]),s.useEffect(()=>{Le(1)},[T,C,m,u]);const Ze=w.slice((U-1)*d,U*d),et=Math.ceil(w.length/d),tt=j.slice((E-1)*d,E*d),at=Math.ceil(j.length/d),rt=L.slice((W-1)*d,W*d),st=Math.ceil(L.length/d),Tt=()=>{const t=["Kode Booking","Paket","Pasien","Email Pasien","Terapis","Tanggal Sesi","Jam","Status","Tanggal Dibuat"],a=j.map(r=>[r.booking_code||"",r.package_type?.toUpperCase()||"",r.patient?.name||"",r.patient?.email||"",r.therapist?.name||r.schedule?.therapist?.name||"-",r.schedule?.date?new Date(r.schedule.date).toLocaleDateString("id-ID"):"-",r.schedule?.start_time?.substring(0,5)||"-",r.status||"",r.created_at?new Date(r.created_at).toLocaleDateString("id-ID"):""]),n=[t,...a].map(r=>r.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`),g=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(g),l=document.createElement("a");l.href=i,l.download=`booking_indepth_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},Ct=()=>{const t=["Terapis","Tanggal","Jam Mulai","Jam Selesai","Status"],a=De.map(r=>[r.extendedProps?.therapist?.name||r.title||"-",r.start?new Date(r.start).toLocaleDateString("id-ID"):r.date?new Date(r.date).toLocaleDateString("id-ID"):"-",r.extendedProps?.start_time||r.start_time||"-",r.extendedProps?.end_time||r.end_time||"-",r.extendedProps?.bookings?.length>0?"Terisi":"Tersedia"]),n=[t,...a].map(r=>r.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`),g=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(g),l=document.createElement("a");l.href=i,l.download=`jadwal_indepth_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},Lt=()=>{const t=["Tanggal","Jam","Pelaku","Role","Aksi","Subjek","Detail"],a=L.map(r=>{const x=new Date(r.date);return[x.toLocaleDateString("id-ID"),x.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),r.actor,r.actorRole,r.action,r.subject,r.detail]}),n=[t,...a].map(r=>r.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`),g=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(g),l=document.createElement("a");l.href=i,l.download=`log_kegiatan_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},It=()=>{const t=["Invoice","Bank","Nama","Email","Layanan","Nominal (Rp)","Status","Tanggal","Divalidasi Oleh","Tanggal Validasi"],a=w.map(r=>[r.invoice_number||"",r.payment_bank||"-",r.user?.name||"",r.user?.email||"",r.transactionable_type?.includes("Booking")?`Booking - ${r.transactionable?.package_type||""}`:r.transactionable_type?.split("\\").pop()||"",r.amount||0,r.status==="paid"?"Valid":r.status==="rejected"?"Ditolak":r.status==="pending"?"Menunggu":r.status,r.created_at?new Date(r.created_at).toLocaleDateString("id-ID"):"",r.validated_by_user?.name||r.validated_by?.name||"",r.validated_at?new Date(r.validated_at).toLocaleDateString("id-ID"):""]),n=[t,...a].map(r=>r.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`),g=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(g),l=document.createElement("a");l.href=i,l.download=`transaksi_indepth_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},Ft=[{id:"schedules",label:"Jadwal",icon:Fe,count:De.length,total:o?.length||0},{id:"bookings",label:"Booking",icon:Kt,count:j.length,total:c?.length||0},{id:"transactions",label:"Pembayaran",icon:Gt,count:w.length,total:p?.length||0},{id:"activity",label:"Log Kegiatan",icon:ot,count:L.length,total:ae.length}];s.useEffect(()=>{const t=()=>{if(window.innerWidth<1024){if($e("timeGridDay"),N.current){const a=N.current.getApi();a.view.type.includes("Grid")&&a.view.type!=="timeGridDay"&&a.changeView("timeGridDay")}}else if($e("timeGridWeek"),N.current){const a=N.current.getApi();a.view.type.includes("Grid")&&a.view.type!=="dayGridMonth"&&a.view.type!=="timeGridWeek"&&a.changeView("timeGridWeek")}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),s.useEffect(()=>{q!==String(ne.therapist_id||"")&&se.get(route("admin.orders.index"),{...ne,therapist_id:q},{preserveState:!0,replace:!0})},[q]);const Mt=t=>{window.route().has("schedules.index")&&se.visit(route("schedules.index"))},Pt=t=>ut(route("admin.bookings.assign-therapist",t),{onSuccess:()=>me(null)}),Bt=t=>{t.preventDefault(),He?se.post(route("admin.transactions.validate",He.id),{new_schedule_id:X.new_schedule_id,reschedule_reason:X.reschedule_reason},{preserveScroll:!0,preserveState:!0,onSuccess:()=>{D(null),fe(null),Ee()}}):ft(route("schedules.reschedule",H.id),{onSuccess:()=>{D(null),Ee()}})},Ot=t=>{t.preventDefault(),yt(route("schedules.no-show",ue.id),{onSuccess:()=>{Q(null),kt()}})},Rt=t=>{qe(t.id),se.post(route("admin.transactions.validate",t.id),{},{preserveScroll:!0,preserveState:!0,onFinish:()=>qe(null)})},$t=t=>{t.preventDefault(),vt(route("admin.transactions.reject",he.id),{onSuccess:()=>{be(null),Nt()}})},At=t=>{const a={pending_screening:"bg-yellow-100 text-yellow-800",pending_payment:"bg-blue-100 text-blue-800",pending_validation:"bg-indigo-100 text-indigo-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},n={pending_screening:"Menunggu Skrining",pending_payment:"Menunggu Bayar",pending_validation:"Menunggu Validasi",confirmed:"Dikonfirmasi",completed:"Selesai",cancelled:"Dibatalkan"};return e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${a[t]||a.pending_payment}`,children:n[t]||t})},Vt=t=>{const a=t.transactionable;if(!a?.schedule)return null;const n=a.schedule;try{return{dateStr:new Date(n.date).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),startTime:n.start_time?.substring(0,5)||"--:--",endTime:n.end_time?.substring(0,5)||"--:--"}}catch{return null}},xe=p?.filter(t=>t.status==="pending")?.length||0;return e.jsxs(Ut,{header:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900 dark:text-white leading-tight",children:"Manajemen Order"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-[0.2em] mt-1",children:"Mengelola Jadwal, Pasien dan Pembayaran"})]})}),children:[e.jsx(Yt,{title:"Manajemen Order"}),e.jsx("style",{children:ta}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[v().props.flash?.success&&e.jsx("div",{className:"p-4 text-sm text-green-800 dark:text-green-300 rounded-2xl bg-green-50/80 dark:bg-green-900/30 border border-green-200 dark:border-green-800/50",children:v().props.flash.success}),(v().props.flash?.error||v().props.errors?.error)&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50",children:v().props.flash?.error||v().props.errors?.error}),ie?.success&&e.jsx("div",{className:"p-4 text-sm text-green-800 dark:text-green-300 rounded-2xl bg-green-50/80 dark:bg-green-900/30 border border-green-200 dark:border-green-800/50 mb-4",children:ie.success}),(ie?.error||le?.error)&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50 mb-4",children:ie?.error||le?.error}),le?.error&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50 backdrop-blur-xl",children:le.error}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"lg:w-72 flex-shrink-0 space-y-4",children:[e.jsx("div",{className:"bg-white/50 dark:bg-gray-800/40 backdrop-blur-md rounded-[2rem] border border-gray-100 dark:border-gray-700/50 p-2 shadow-sm",children:Ft.map(t=>e.jsxs("button",{onClick:()=>gt(t.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl text-sm font-black transition-all duration-300 ${k===t.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-600/20 translate-x-1":"text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e.jsx(t.icon,{className:`w-5 h-5 ${k===t.id?"text-white":"text-indigo-500"}`}),e.jsx("span",{className:"flex-1 text-left",children:t.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.id==="transactions"&&xe>0&&e.jsx("span",{className:`w-5 h-5 rounded-full text-[9px] font-black flex items-center justify-center ${k===t.id?"bg-white/20 text-white":"bg-amber-500 text-white animate-pulse"}`,children:xe}),k===t.id&&e.jsx(qt,{className:"w-5 h-5 opacity-50"})]})]},t.id))}),e.jsxs("div",{className:"bg-indigo-50/50 dark:bg-indigo-950/10 rounded-[2rem] border border-indigo-100 dark:border-indigo-900/30 p-6",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black tracking-[0.2em] text-indigo-600 dark:text-indigo-500 uppercase mb-4",children:[e.jsx(Ht,{className:"w-4 h-4"})," Ringkasan"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Total Slot Jadwal"}),e.jsx("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:o?.length||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Total Booking"}),e.jsx("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:c?.length||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Transaksi Pending"}),e.jsx("p",{className:`text-xl font-black ${xe>0?"text-amber-600":"text-emerald-600"}`,children:xe})]})]})]})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs(Qt,{mode:"wait",children:[k==="schedules"&&e.jsx(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 p-8 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-teal-500 rounded-full"}),"Kelola Jadwal Praktek"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-teal-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[De.length," / ",o?.length||0," Jadwal"]}),e.jsxs("button",{onClick:Ct,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-teal-200 dark:border-teal-800/50 text-teal-700 dark:text-teal-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]}),e.jsx("button",{onClick:()=>de(!0),className:"px-5 py-2.5 bg-rose-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-rose-700 transition-all shadow-lg shadow-rose-600/20 whitespace-nowrap",children:"Liburkan Jadwal"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-8 pb-6 border-b border-gray-100 dark:border-gray-700/50 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Pilih Terapis"}),e.jsxs("select",{value:q,onChange:t=>Re(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-teal-500/20 focus:border-teal-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Terapis"}),J.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:S,onChange:t=>ee(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-teal-500/20 focus:border-teal-400 transition-all",title:"Dari tanggal"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 lg:col-span-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2 items-center flex-wrap sm:flex-nowrap",children:[e.jsx("input",{type:"date",value:_,onChange:t=>te(t.target.value),className:"w-[140px] px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-teal-500/20 focus:border-teal-400 transition-all shrink-0",title:"Sampai tanggal"}),e.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700 shrink-0 h-[42px]",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),n=t.getDate()-a+(a===0?-6:1);ee(new Date(t.setDate(n)).toISOString().split("T")[0]),te(new Date(t.setDate(n+6)).toISOString().split("T")[0])},className:`px-3 h-full rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors ${S===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&_===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-teal-500 text-white shadow-md":"hover:bg-teal-50 dark:hover:bg-teal-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu"}),e.jsx("button",{onClick:()=>{const t=new Date;ee(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),te(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 h-full rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors ${S===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&_===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-teal-500 text-white shadow-md":"hover:bg-teal-50 dark:hover:bg-teal-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan"}),e.jsx("button",{onClick:()=>{const t=new Date;ee(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),te(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 h-full rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors ${S===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&_===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-teal-500 text-white shadow-md":"hover:bg-teal-50 dark:hover:bg-teal-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun"})]}),(q||ve||S||_)&&e.jsx("button",{onClick:()=>{Re(""),_t(""),ee(""),te(""),N.current&&N.current.getApi().today()},className:"shrink-0 px-3 h-[42px] bg-gray-100 dark:bg-gray-700 text-gray-500 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all flex items-center justify-center",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900/20 rounded-[2rem] transition-colors overflow-hidden",children:e.jsx(Et,{ref:N,plugins:[Wt,zt,Jt],initialView:mt,initialDate:new Date().toLocaleDateString("en-CA"),headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},views:{timeGridWeek:{duration:{days:7},buttonText:"7 Hari Rolling"}},locale:"id",slotMinTime:"08:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",allDaySlot:!1,weekends:!0,events:o,eventClick:Mt,editable:!1,droppable:!1,eventContent:ea,height:"auto",expandRows:!0,stickyHeaderDates:!0,nowIndicator:!0})}),e.jsxs("div",{className:"flex gap-6 mt-6 pt-6 border-t border-gray-100 dark:border-gray-700/50 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Penuh (Terisi)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tersedia (1 Slot / Terapis)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tertutup (Kadaluarsa)"})]})]})]})},"schedules"),k==="bookings"&&e.jsx(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 dark:border-gray-700/50 bg-indigo-50/30 dark:bg-indigo-950/20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded-full"}),"Booking Pasien"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),n=t.getDate()-a+(a===0?-6:1);$(new Date(t.setDate(n)).toISOString().split("T")[0]),A(new Date(t.setDate(n+6)).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${f===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&y===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;$(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),A(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${f===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&y===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;$(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),A(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${f===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&y===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun Ini"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[j.length," / ",c?.length||0," Booking"]}),e.jsxs("button",{onClick:Tt,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-indigo-200 dark:border-indigo-800/50 text-indigo-700 dark:text-indigo-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5 text-left",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cari Booking"}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Kode/pasien/terapis...",value:R,onChange:t=>je(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white placeholder-gray-300 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Internal Status"}),e.jsxs("select",{value:O,onChange:t=>we(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"pending_payment",children:"Menunggu Bayar"}),e.jsx("option",{value:"pending_validation",children:"Menunggu Validasi"}),e.jsx("option",{value:"confirmed",children:"Dikonfirmasi"}),e.jsx("option",{value:"in_progress",children:"Berlangsung"}),e.jsx("option",{value:"completed",children:"Selesai"}),e.jsx("option",{value:"cancelled",children:"Dibatalkan"}),e.jsx("option",{value:"no_show",children:"No-Show"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:f,onChange:t=>$(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Dari tanggal sesi"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:y,onChange:t=>A(t.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Sampai tanggal sesi"}),(O||R||f||y)&&e.jsx("button",{onClick:()=>{we(""),je(""),$(""),A("")},className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("tr",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] border-b border-white/40 dark:border-gray-700/30",children:[e.jsx("th",{className:"px-6 py-5",children:"Info Booking"}),e.jsx("th",{className:"px-6 py-5",children:"Pasien & Screening"}),e.jsx("th",{className:"px-6 py-5",children:"Jadwal"}),e.jsx("th",{className:"px-6 py-5 text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-5",children:"Terapis & Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800/50",children:[tt.map(t=>e.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-gray-900 dark:text-white mb-1",children:t.booking_code}),e.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 px-2 py-0.5 rounded-md w-fit",children:t.package_type?.toUpperCase()||"KONSULTASI"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:t.patient?.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.patient?.email}),t.patient?.phone&&e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:t.patient.phone}),t.patient?.id&&e.jsxs(Ie,{href:route("admin.users.show",{id:t.patient.id}),className:"text-[10px] font-black uppercase tracking-widest text-indigo-500 hover:text-indigo-400 mt-2 flex items-center gap-1 w-fit group/link",children:["Lihat Pasien",e.jsx("svg",{className:"w-3 h-3 group-hover/link:translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 5l7 7-7 7"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-1 my-1",children:e.jsx("div",{className:`h-1 rounded-full ${t.patient_profile_stats?.percentage===100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${t.patient_profile_stats?.percentage||0}%`}})}),e.jsxs("span",{className:"text-[9px] font-black text-gray-400 uppercase",children:[t.patient_profile_stats?.percentage||0,"%"]})]}),t.patient?.screening_completed_at?e.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase border-l border-gray-200 dark:border-gray-700 pl-3",children:"OK"}):e.jsx("span",{className:"text-[9px] font-black text-rose-500 uppercase border-l border-gray-200 dark:border-gray-700 pl-3",children:"No"})]})]})}),e.jsx("td",{className:"px-6 py-5",children:t.schedule?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:new Date(t.schedule.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.schedule.start_time?.substring(0,5)," - ",t.schedule.end_time?.substring(0,5)," WIB"]})]}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No Slot"})}),e.jsx("td",{className:"px-6 py-5 text-center",children:At(t.status)}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex flex-col gap-3",children:bt===t.id?e.jsxs("div",{className:"flex flex-col gap-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur p-3 rounded-xl border border-white dark:border-gray-700 shadow-lg",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Assign Terapis"}),e.jsxs("select",{className:"text-xs bg-gray-50 dark:bg-gray-900 border-none rounded-lg focus:ring-2 focus:ring-indigo-500/20",value:Ae.therapist_id,onChange:a=>Ve("therapist_id",a.target.value),children:[e.jsx("option",{value:"",children:"Pilih Terapis"}),J.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("button",{onClick:()=>Pt(t.id),className:"flex-1 py-1.5 bg-indigo-600 text-white text-[10px] font-black uppercase rounded-lg disabled:opacity-50",disabled:ht||!Ae.therapist_id,children:"Simpan"}),e.jsx("button",{onClick:()=>me(null),className:"flex-1 py-1.5 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-[10px] font-black uppercase rounded-lg",children:"Batal"})]})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between group/tp",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-0.5",children:"TERAPIS"}),t.therapist?e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:t.therapist.name}):e.jsx("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["pending_payment","pending_validation"].includes(t.status)?"â³ Otomatis":"BELUM"})]}),e.jsx("button",{onClick:()=>{me(t.id),Ve("therapist_id",t.therapist_id||"")},className:"p-1.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg opacity-0 group-hover:opacity-100 group-hover/tp:opacity-100 transition-all",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 pt-2 border-t border-gray-100 dark:border-gray-800/50",children:[t.schedule_id&&e.jsx(Ie,{href:route("schedules.index"),className:"px-2 py-1.5 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-[9px] font-black uppercase tracking-widest rounded-lg border border-gray-200 dark:border-gray-700 hover:border-indigo-500/50 hover:text-indigo-500 transition-all",children:"Jadwal"}),["confirmed","in_progress"].includes(t.status)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>D(t),className:"px-2 py-1.5 bg-amber-500 text-white text-[9px] font-black uppercase rounded-lg",children:"Reschedule"}),e.jsx("button",{onClick:()=>Q(t),className:"px-2 py-1.5 bg-rose-500 text-white text-[9px] font-black uppercase rounded-lg",children:"No-Show"})]})]})]})})})]},t.id)),tt.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"px-8 py-20 text-center",children:[e.jsx("p",{className:"text-gray-400 font-black uppercase tracking-[0.2em] text-xs",children:"Tidak ada booking yang cocok."}),(O||R||f||y)&&e.jsx("button",{onClick:()=>{we(""),je(""),$(""),A("")},className:"mt-4 text-[10px] font-black text-indigo-600 uppercase underline",children:"Reset Filter"})]})})]})]}),j.length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-gray-800/50 flex items-center justify-between bg-white dark:bg-gray-800/50",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Menampilkan ",(E-1)*d+1," sampai ",Math.min(E*d,j.length)," dari ",j.length]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ce(t=>Math.max(1,t-1)),disabled:E===1,className:"px-3 py-1.5 rounded-lg text-xs font-bold border border-gray-200 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Prev"}),e.jsx("button",{onClick:()=>Ce(t=>Math.min(at,t+1)),disabled:E===at,className:"px-3 py-1.5 rounded-lg text-xs font-bold border border-gray-200 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Next"})]})]})]})]})},"bookings"),k==="transactions"&&e.jsx(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 dark:border-gray-700/50 bg-emerald-50/30 dark:bg-emerald-950/20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"}),"Validasi Pembayaran"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),n=t.getDate()-a+(a===0?-6:1);P(new Date(t.setDate(n)).toISOString().split("T")[0]),B(new Date(t.setDate(n+6)).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${h===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&b===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;P(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),B(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${h===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&b===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;P(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),B(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${h===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&b===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun Ini"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-emerald-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[w.length," / ",p?.length||0," Transaksi"]}),e.jsxs("button",{onClick:It,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-emerald-200 dark:border-emerald-800/50 text-emerald-700 dark:text-emerald-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cari Transaksi"}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Invoice / nama...",value:M,onChange:t=>ke(t.target.value),className:"w-full pl-9 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Status Bayar"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:F,onChange:t=>ye(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white appearance-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"pending",children:"â³ Menunggu"}),e.jsx("option",{value:"paid",children:"âœ… Valid / Lunas"}),e.jsx("option",{value:"rejected",children:"âŒ Ditolak"})]}),e.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:h,onChange:t=>P(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all",title:"Dari tanggal"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:b,onChange:t=>B(t.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all",title:"Sampai tanggal"}),(F||M||h||b)&&e.jsx("button",{onClick:()=>{ye(""),ke(""),P(""),B("")},className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]})]}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("tr",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] border-b border-white/40 dark:border-gray-700/30",children:[e.jsx("th",{className:"px-6 py-5 text-center",children:"Invoice"}),e.jsx("th",{className:"px-6 py-5",children:"Pengguna"}),e.jsx("th",{className:"px-6 py-5",children:"Layanan"}),e.jsx("th",{className:"px-6 py-5",children:"Nominal"}),e.jsx("th",{className:"px-6 py-5",children:"Bukti"}),e.jsx("th",{className:"px-6 py-5",children:"Status"}),e.jsx("th",{className:"px-6 py-5 text-center",children:"Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800/50",children:[Ze.map(t=>{const a=Vt(t),n=t.transactionable_type?.includes("Booking"),g=t.transactionable?.user_voucher?.voucher,i=t.transactionable,l=v().props.auth.user,r=l.roles.some(re=>["admin","super_admin"].includes(re)),x=i?.therapist_id===l.id;return e.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[e.jsx("span",{className:"text-sm font-black text-gray-900 dark:text-white mb-1",children:t.invoice_number}),e.jsx("span",{className:"text-[9px] text-gray-400",children:t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):""}),t.payment_proof&&e.jsxs("div",{className:"mt-2 text-left bg-gray-50 dark:bg-gray-800/50 p-2 border border-gray-100 dark:border-gray-700/50 rounded-lg",children:[e.jsx("div",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:t.payment_bank}),t.payment_agreement_data?.payment_account_number&&e.jsx("div",{className:"text-[10px] text-gray-800 dark:text-gray-300 font-bold",children:t.payment_agreement_data.payment_account_number}),t.payment_agreement_data?.payment_account_name&&e.jsx("div",{className:"text-[9px] text-gray-400 capitalize",children:t.payment_agreement_data.payment_account_name})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:t.user?.name}),e.jsx("span",{className:"text-xs text-gray-500",children:t.user?.email}),t.user?.phone&&e.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:t.user.phone}),t.user?.id&&e.jsxs(Ie,{href:route("admin.users.show",{id:t.user.id}),className:"text-[10px] font-black uppercase tracking-widest text-indigo-500 hover:text-indigo-400 mt-2 flex items-center gap-1 w-fit group/link",children:["Lihat Pasien",e.jsx("svg",{className:"w-3 h-3 group-hover/link:translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 5l7 7-7 7"})})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] font-black px-2 py-0.5 bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 rounded-md border border-indigo-500/20 w-fit uppercase tracking-widest",children:n?"Booking":t.transactionable_type?.split("\\").pop()}),n&&e.jsx("span",{className:"text-[9px] font-black text-indigo-500 uppercase",children:t.transactionable?.package_type||"Package"}),a&&e.jsxs("div",{className:"flex flex-col mt-1",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-400",children:["ðŸ“… ",a.dateStr]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-400",children:["ðŸ• ",a.startTime," â€“ ",a.endTime]})]}),n&&i&&i.status==="confirmed"&&(x||r)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsx("button",{onClick:()=>D(i),className:"px-3 py-1 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-amber-100 dark:border-amber-900/30 transition-all hover:bg-amber-100",children:"Reschedule"}),e.jsx("button",{onClick:()=>Q(i),className:"px-3 py-1 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-red-100 dark:border-red-900/30 transition-all hover:bg-red-100",children:"No-Show / Batal"})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm font-black text-gray-900 dark:text-white",children:["Rp ",new Intl.NumberFormat("id-ID").format(t.amount||0)]}),g?e.jsxs("div",{className:"mt-1 flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-rose-500 uppercase",children:"ðŸ·ï¸ DISKON"}),e.jsxs("span",{className:"px-2 py-0.5 bg-rose-50 dark:bg-rose-900/30 text-rose-600 text-[10px] font-black rounded-md border border-rose-100 dark:border-rose-800 line-through w-fit",children:["Rp ",new Intl.NumberFormat("id-ID").format((t.amount||0)+(t.transactionable.user_voucher.voucher.discount_amount||0))]})]}):e.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase mt-1",children:"Normal"})]})}),e.jsx("td",{className:"px-6 py-5",children:t.payment_proof?e.jsxs("a",{href:`/storage/${t.payment_proof}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 group/proof",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover/proof:bg-indigo-500 group-hover/proof:text-white transition-all",children:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-[10px] font-black text-gray-500 group-hover/proof:text-indigo-600 uppercase",children:"Lihat"})]}):e.jsx("span",{className:"text-[10px] font-black text-rose-500 uppercase italic",children:"Belum Upload"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-[10px] font-black uppercase tracking-widest rounded-full border ${t.status==="paid"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":t.status==="rejected"?"bg-rose-500/10 text-rose-600 border-rose-500/20":t.status==="pending"?"bg-amber-500/10 text-amber-600 border-amber-500/20":"bg-gray-500/10 text-gray-500 border-gray-500/20"}`,children:t.status==="paid"?"Valid":t.status==="rejected"?"Ditolak":t.status==="pending"?"Menunggu":t.status})}),e.jsx("td",{className:"px-6 py-5 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.status==="pending"&&e.jsxs("div",{className:"flex justify-center gap-2",children:[t.payment_proof?e.jsx("button",{disabled:Ge===t.id,onClick:()=>Z(t),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-black uppercase tracking-widest rounded-xl transition-all shadow-lg shadow-emerald-500/20 disabled:opacity-50",children:Ge===t.id?"...":"Validasi"}):e.jsx("span",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-400 text-[9px] font-black uppercase rounded-xl border border-gray-200 dark:border-gray-700 cursor-not-allowed",children:"Bukti Belum Ada"}),e.jsx("button",{onClick:()=>be(t),className:"px-4 py-2 bg-rose-600/10 hover:bg-rose-600 text-rose-600 hover:text-white text-[10px] font-black uppercase tracking-widest rounded-xl border border-rose-600/20 transition-all",children:"Tolak"})]}),t.status==="paid"&&t.validated_at&&e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("span",{className:"text-[9px] text-gray-400 font-bold",children:["âœ“ ",new Date(t.validated_at).toLocaleDateString("id-ID")]}),t.validated_by&&e.jsxs("span",{className:"text-[9px] font-black text-indigo-500 uppercase flex items-center gap-1",children:[e.jsx(Me,{className:"w-3 h-3"}),t.validated_by_user?.name||t.validated_by?.name||"Admin"]})]}),t.status==="pending"&&!t.payment_agreement_data?.applied_voucher_id&&e.jsx(e.Fragment,{children:Dt===t.id?e.jsxs("div",{className:"flex flex-col gap-1.5 w-full mt-1",children:[e.jsx("input",{autoFocus:!0,className:"w-full px-3 py-1.5 text-[10px] font-bold bg-white dark:bg-gray-900 border border-indigo-200 dark:border-indigo-800 rounded-lg focus:ring-2 focus:ring-indigo-400 outline-none uppercase tracking-wider",placeholder:"Kode voucher...",value:ce,onChange:re=>ge(re.target.value.toUpperCase()),onKeyDown:re=>re.key==="Escape"&&oe(null)}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{disabled:!ce||Qe,onClick:()=>St(t),className:"flex-1 py-1 bg-indigo-600 text-white text-[9px] font-black uppercase rounded-lg disabled:opacity-50",children:Qe?"...":"Terapkan"}),e.jsx("button",{onClick:()=>{oe(null),ge("")},className:"flex-1 py-1 bg-gray-100 dark:bg-gray-700 text-gray-500 text-[9px] font-black uppercase rounded-lg",children:"Batal"})]})]}):e.jsx("button",{onClick:()=>{oe(t.id),ge("")},className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 text-[9px] font-black uppercase tracking-widest rounded-lg border border-indigo-100 dark:border-indigo-800/50 hover:bg-indigo-100 transition-all",children:"ðŸ·ï¸ Diskon"})}),t.payment_agreement_data?.applied_voucher_code&&e.jsxs("span",{className:"text-[9px] font-black text-emerald-500 uppercase mt-1",children:["âœ“ ",t.payment_agreement_data.applied_voucher_code]})]})})]},t.id)}),Ze.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",className:"px-8 py-20 text-center",children:[e.jsx(Me,{className:"w-10 h-10 text-gray-200 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400 font-black uppercase tracking-[0.2em] text-xs",children:"Tidak ada transaksi yang cocok."}),(F||M||h||b)&&e.jsx("button",{onClick:()=>{ye(""),ke(""),P(""),B("")},className:"mt-4 text-[10px] font-black text-emerald-600 uppercase underline",children:"Reset Filter"})]})})]})]}),w.length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-gray-800/50 flex items-center justify-between bg-white dark:bg-gray-800/50",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Menampilkan ",(U-1)*d+1," sampai ",Math.min(U*d,w.length)," dari ",w.length]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Te(t=>Math.max(1,t-1)),disabled:U===1,className:"px-3 py-1.5 rounded-lg text-xs font-bold border border-gray-200 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Prev"}),e.jsx("button",{onClick:()=>Te(t=>Math.min(et,t+1)),disabled:U===et,className:"px-3 py-1.5 rounded-lg text-xs font-bold border border-gray-200 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Next"})]})]})]})]})},"transactions"),k==="activity"&&e.jsx(pe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 dark:border-gray-700/50 bg-indigo-50/30 dark:bg-indigo-950/20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-500 rounded-full"}),"Log Kegiatan"]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Riwayat aktivitas sistem Â· terbaru di atas"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),n=t.getDate()-a+(a===0?-6:1);V(new Date(t.setDate(n)).toISOString().split("T")[0]),Y(new Date(t.setDate(n+6)).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${m===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&u===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;V(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),Y(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${m===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&u===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;V(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),Y(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${m===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&u===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun Ini"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[L.length," / ",ae.length," Aktivitas"]}),e.jsxs("button",{onClick:Lt,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-indigo-200 dark:border-indigo-800/50 text-indigo-700 dark:text-indigo-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Cari Log"}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Nama / kode / aksi...",value:C,onChange:t=>_e(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white placeholder-gray-300 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Tipe Log"}),e.jsxs("select",{value:T,onChange:t=>Se(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Tipe"}),e.jsx("option",{value:"payment_submitted",children:"ðŸ’¸ Pembayaran Diajukan"}),e.jsx("option",{value:"payment_validated",children:"âœ… Pembayaran Divalidasi"}),e.jsx("option",{value:"payment_rejected",children:"âŒ Pembayaran Ditolak"}),e.jsx("option",{value:"booking_created",children:"ðŸ“‹ Booking Dibuat"}),e.jsx("option",{value:"no_show",children:"âš ï¸ No-Show"}),e.jsx("option",{value:"session_completed",children:"ðŸŽ¯ Sesi Selesai"}),e.jsx("option",{value:"booking_cancelled",children:"ðŸš« Booking Dibatalkan"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 text-left",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:m,onChange:t=>V(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Dari tanggal"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 text-left",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:u,onChange:t=>Y(t.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Sampai tanggal"}),(T||C||m||u)&&e.jsx("button",{onClick:()=>{Se(""),_e(""),V(""),Y("")},className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]})]}),e.jsxs("div",{className:"px-8 py-6 pb-20",children:[rt.length===0?e.jsxs("div",{className:"py-20 text-center",children:[e.jsx(ot,{className:"w-12 h-12 text-gray-200 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-black uppercase tracking-widest text-xs",children:"Tidak ada aktivitas yang cocok."}),(T||C||m||u)&&e.jsx("button",{onClick:()=>{Se(""),_e(""),V(""),Y("")},className:"mt-4 text-[10px] font-black text-indigo-600 uppercase underline",children:"Reset Filter"})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[27px] top-0 bottom-0 w-0.5 bg-gray-100 dark:bg-gray-800 rounded-full"}),e.jsx("div",{className:"space-y-1",children:rt.map(t=>{const a={emerald:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800/50",amber:"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800/50",rose:"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-400 border-rose-200 dark:border-rose-800/50",indigo:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800/50",gray:"bg-gray-100 dark:bg-gray-800/60 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700"},n={emerald:"bg-emerald-500",amber:"bg-amber-500",rose:"bg-rose-500",indigo:"bg-indigo-500",gray:"bg-gray-400"},g=t.actorRole==="Admin",i=new Date(t.date),l=i.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),r=i.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"flex gap-5 items-start py-4 group hover:bg-gray-50/50 dark:hover:bg-gray-800/20 rounded-2xl px-2 transition-all",children:[e.jsx("div",{className:"relative flex-shrink-0",style:{width:56},children:e.jsx("div",{className:`w-10 h-10 rounded-2xl border-2 border-white dark:border-gray-900 shadow-md flex items-center justify-center text-base z-10 relative ${n[t.color]}`,children:e.jsx("span",{children:t.icon})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${a[t.color]}`,children:[g?"ðŸ‘¤":"ðŸ§‘"," ",t.actor," Â· ",t.actorRole]}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:t.action}),e.jsx("span",{className:"text-[10px] font-black text-gray-500 dark:text-gray-400 font-mono bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded-lg",children:t.subject})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 mt-0.5 truncate",children:t.detail}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5",children:[e.jsx(ct,{className:"w-3 h-3 text-gray-300"}),e.jsxs("span",{className:"text-[9px] font-black text-gray-300 dark:text-gray-600 uppercase tracking-widest",children:[l," Â· ",r," WIB"]})]})]})]},t.id)})})]}),ae.length>0&&e.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-100 dark:border-gray-800/50 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Menampilkan ",(W-1)*d+1," sampai ",Math.min(W*d,L.length)," dari ",L.length]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Le(t=>Math.max(1,t-1)),disabled:W===1,className:"px-3 py-1.5 rounded-lg text-xs font-bold border border-gray-200 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Prev"}),e.jsx("button",{onClick:()=>Le(t=>Math.min(st,t+1)),disabled:W===st,className:"px-3 py-1.5 rounded-lg text-xs font-bold border border-gray-200 dark:border-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700 transition",children:"Next"})]})]})]})]})},"activity")]})})]})]})}),H!==null&&typeof document<"u"&&nt.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/70 backdrop-blur-md",onClick:()=>D(null)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-[3rem] w-full max-w-lg shadow-2xl border border-white/50 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 px-10 pt-10 pb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full translate-y-1/2 -translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:e.jsx(Fe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Reschedule Sesi"}),e.jsx("p",{className:"text-amber-100 text-[10px] font-black uppercase tracking-widest",children:"Pindah Jadwal Pasien"})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 rounded-2xl px-4 py-2 mt-1",children:[e.jsx("div",{className:"w-6 h-6 bg-white/30 rounded-lg flex items-center justify-center text-xs font-black text-white",children:H?.patient?.name?.charAt(0)}),e.jsx("span",{className:"text-xs font-black text-white uppercase tracking-widest",children:H?.patient?.name})]})]})]}),e.jsxs("form",{onSubmit:Bt,className:"px-10 py-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Pilih Jadwal Baru"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"new_schedule_id",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-amber-500/10 focus:border-amber-400 transition-all appearance-none",value:X.new_schedule_id,onChange:t=>Ye("new_schedule_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Slot Tersedia --"}),Pe.filter(t=>t.id!==H?.schedule_id).map(t=>e.jsxs("option",{value:t.id,children:[t.therapist?.name," â€” ",new Date(t.date).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short"})," â€” ",t.start_time?.substring(0,5)," WIB"]},t.id))]}),e.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Alasan Reschedule"}),e.jsx("textarea",{id:"reschedule_reason",rows:"3",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-amber-500/10 focus:border-amber-400 transition-all resize-none",placeholder:"Tuliskan alasan perubahan jadwal...",value:X.reschedule_reason,onChange:t=>Ye("reschedule_reason",t.target.value),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>{D(null),fe(null)},className:"flex-1 py-4 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-gray-200 dark:hover:bg-gray-700 transition-all",children:"Batal"}),e.jsx("button",{type:"submit",disabled:Ue||!X.new_schedule_id,className:"flex-1 py-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-amber-500/30 hover:from-amber-600 hover:to-orange-600 disabled:opacity-40 disabled:cursor-not-allowed transition-all active:scale-95",children:Ue?"Memproses...":"âœ“ Update Jadwal"})]})]})]})]}),document.body),ue!==null&&typeof document<"u"&&nt.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/70 backdrop-blur-md",onClick:()=>Q(null)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-[3rem] w-full max-w-lg shadow-2xl border border-white/50 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-rose-700 px-10 pt-10 pb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full translate-y-1/2 -translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:e.jsx(Zt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Tandai Tidak Hadir"}),e.jsx("p",{className:"text-rose-100 text-[10px] font-black uppercase tracking-widest",children:"No-Show / Pembatalan"})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 rounded-2xl px-4 py-2 mt-1",children:[e.jsx(ct,{className:"w-3 h-3 text-white opacity-70"}),e.jsx("span",{className:"text-xs font-black text-white uppercase tracking-widest font-mono",children:ue?.booking_code})]})]})]}),e.jsxs("form",{onSubmit:Ot,className:"px-10 py-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Pihak yang Tidak Hadir"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"no_show_party",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-rose-500/10 focus:border-rose-400 transition-all appearance-none",value:We.no_show_party,onChange:t=>ze("no_show_party",t.target.value),required:!0,children:[e.jsx("option",{value:"therapist",children:"Praktisi / Terapis (Tidak Hadir)"}),e.jsx("option",{value:"patient",children:"Pasien (Tidak Hadir)"})]}),e.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:["Keterangan Admin ",e.jsx("span",{className:"text-gray-300 normal-case font-bold",children:"(opsional)"})]}),e.jsx("textarea",{id:"no_show_reason",rows:"3",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-rose-500/10 focus:border-rose-400 transition-all resize-none",placeholder:"Catatan tambahan untuk admin...",value:We.no_show_reason,onChange:t=>ze("no_show_reason",t.target.value)})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>Q(null),className:"flex-1 py-4 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-gray-200 dark:hover:bg-gray-700 transition-all",children:"Batal"}),e.jsx("button",{type:"submit",disabled:Je,className:"flex-1 py-4 bg-gradient-to-r from-rose-500 to-rose-700 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-rose-500/30 hover:from-rose-600 hover:to-rose-800 disabled:opacity-40 disabled:cursor-not-allowed transition-all active:scale-95",children:Je?"Memproses...":"âš  Tandai No-Show"})]})]})]})]}),document.body),he&&e.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-[2.5rem] w-full max-w-md border border-gray-100 dark:border-gray-800 shadow-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold dark:text-white mb-2",children:"Tolak Pembayaran"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Invoice: ",e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:he.invoice_number})]})]}),e.jsxs("form",{onSubmit:$t,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Alasan Penolakan"}),e.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-2xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all min-h-[100px]",value:wt.rejection_reason,onChange:t=>jt("rejection_reason",t.target.value),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(dt,{type:"submit",disabled:Ke,className:"!bg-red-600 hover:!bg-red-500 !rounded-2xl !px-6 !py-4 !text-xs !tracking-widest !font-black !h-auto !shadow-xl !shadow-red-600/20 !uppercase !w-full !justify-center",children:Ke?"Memproses...":"Konfirmasi Penolakan"}),e.jsx("button",{type:"button",onClick:()=>be(null),className:"text-sm font-bold text-gray-500 hover:text-gray-700 transition-colors py-2",children:"Batal"})]})]})]})}),e.jsx(it,{show:!!I,onClose:()=>Z(null),maxWidth:"md",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-2",children:"Pilih Opsi Validasi"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8 font-medium",children:["Anda akan memvalidasi pembayaran untuk ",e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:["#",I?.invoice_number]}),"."]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("button",{onClick:()=>{Rt(I),Z(null)},className:"group flex items-center justify-between p-6 bg-emerald-50 dark:bg-emerald-950/20 border-2 border-emerald-100 dark:border-emerald-800 rounded-2xl hover:border-emerald-500 transition-all text-left",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-emerald-800 dark:text-emerald-400 uppercase text-xs mb-1",children:"Validasi Langsung"}),e.jsx("p",{className:"text-[10px] text-emerald-600/70 font-bold uppercase tracking-widest",children:"Sesuai jadwal pilihan pasien"})]}),e.jsx(Me,{className:"w-6 h-6 text-emerald-500 group-hover:scale-110 transition-transform"})]}),e.jsxs("button",{onClick:()=>{fe(I),I?.transactionable&&D(I.transactionable),Z(null)},className:"group flex items-center justify-between p-6 bg-indigo-50 dark:bg-indigo-950/20 border-2 border-indigo-100 dark:border-indigo-800 rounded-2xl hover:border-indigo-500 transition-all text-left",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-indigo-800 dark:text-indigo-400 uppercase text-xs mb-1",children:"Validasi & Reschedule"}),e.jsx("p",{className:"text-[10px] text-indigo-600/70 font-bold uppercase tracking-widest",children:"Pindahkan ke slot lain"})]}),e.jsx(Fe,{className:"w-6 h-6 text-indigo-500 group-hover:scale-110 transition-transform"})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-800",children:e.jsx(lt,{className:"w-full justify-center py-4 rounded-xl font-black uppercase text-[10px] tracking-widest",onClick:()=>Z(null),children:"Batal"})})]})}),e.jsx(it,{show:xt,onClose:()=>{de(!1),Oe()},children:e.jsxs("div",{className:"p-8 dark:bg-gray-900",children:[e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-2",children:"Liburkan Jadwal"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 font-medium",children:["Ini akan menghapus semua slot jadwal yang ",e.jsx("span",{className:"text-rose-500 font-bold",children:"belum dipesan"})," pada rentang waktu yang dipilih."]}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),pt(route("admin.schedules.bulk-delete"),{onSuccess:()=>{de(!1),Oe()}})},children:[e.jsxs("div",{className:"grid gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-black tracking-widest text-gray-500 dark:text-gray-300 mb-1 block",children:"Terapis (Kosongkan jika semua)"}),e.jsxs("select",{value:K.therapist_id,onChange:t=>G("therapist_id",t.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all",children:[e.jsx("option",{value:"",children:"Semua Terapis"}),J.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-black tracking-widest text-gray-500 dark:text-gray-300 mb-1 block",children:"Dari Tanggal *"}),e.jsx("input",{type:"date",required:!0,value:K.date_from,onChange:t=>G("date_from",t.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all [color-scheme:dark]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-black tracking-widest text-gray-500 dark:text-gray-300 mb-1 block",children:"Sampai Tanggal *"}),e.jsx("input",{type:"date",required:!0,value:K.date_to,onChange:t=>G("date_to",t.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all [color-scheme:dark]"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-black tracking-widest text-gray-500 dark:text-gray-300 mb-1 block",children:"Dari Jam *"}),e.jsx("input",{type:"time",required:!0,value:K.start_time,onChange:t=>G("start_time",t.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all [color-scheme:dark]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-black tracking-widest text-gray-500 dark:text-gray-300 mb-1 block",children:"Sampai Jam *"}),e.jsx("input",{type:"time",required:!0,value:K.end_time,onChange:t=>G("end_time",t.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-rose-500/20 focus:border-rose-500 transition-all [color-scheme:dark]"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[e.jsx(lt,{onClick:()=>de(!1),className:"rounded-xl px-6 py-3 border-gray-200 dark:border-gray-700 dark:text-gray-200 font-black uppercase tracking-widest text-[10px] hover:bg-gray-50 dark:hover:bg-gray-800",children:"Batal"}),e.jsx(dt,{type:"submit",disabled:Be,className:"!bg-rose-600 hover:!bg-rose-500 rounded-xl px-6 py-3 font-black uppercase tracking-widest text-[10px] shadow-lg shadow-rose-500/20 transition-all",children:Be?"Memproses...":"Terapkan (Hapus)"})]})]})]})})]})}export{Ca as default};

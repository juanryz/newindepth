import{u as K,i as x,j as e,H as T,L as p}from"./app-MOn4i-a-.js";import{A as L}from"./AuthenticatedLayout-DifaTT-Y.js";import{I as d}from"./InputError-BLiWCUap.js";import{I as n}from"./InputLabel-BafHfr4f.js";import{T as o}from"./TextInput-BU08_Jfe.js";import{U as h}from"./user-Djd5Qzyt.js";import{M as I}from"./mail-BtaH5QV2.js";import{P as u}from"./phone-B-lK0mCK.js";import{C as U}from"./circle-alert-BNtGKmcw.js";import{c as w}from"./createLucideIcon-F7mPgSPU.js";import{S as D}from"./shield-XzwWlMa3.js";import{E as b}from"./eye-off-LG6gg0eU.js";import{E as y}from"./eye-CcIIA-BG.js";import{S as H}from"./save-CnED_aP8.js";import{C as O}from"./chevron-left-pLXEU46v.js";import"./transition-BflxsLac.js";import"./ThemeToggle-C9tJd2Gh.js";import"./LiquidBackground-ZgrQUTsj.js";const R=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],$=w("contact",R);const q=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],f=w("lock",q);function ie({userModel:s,roles:k,userRoles:j}){const i=!!s.id,{data:r,setData:t,post:N,put:v,processing:_,errors:l}=K({name:s.name||"",email:s.email||"",phone:s.phone||"",emergency_contact_name:s.emergency_contact_name||"",emergency_contact_phone:s.emergency_contact_phone||"",emergency_contact_relation:s.emergency_contact_relation||"",password:"",password_confirmation:"",roles:j||[]}),[c,C]=x.useState(!1),[m,P]=x.useState(!1),S=a=>{const{value:g,checked:F}=a.target;F?t("roles",[...r.roles,g]):t("roles",r.roles.filter(E=>E!==g))},A=a=>{a.preventDefault(),i?v(route("admin.users.update",s.id)):N(route("admin.users.store"))};return e.jsxs(L,{header:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{href:route("admin.users.index"),className:"p-2 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 text-gray-400 hover:text-indigo-600 transition-colors shadow-sm",children:e.jsx(O,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900 dark:text-white uppercase tracking-tight",children:i?"Perbarui Profil Pengguna":"Tambah Pengguna Baru"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest mt-1",children:i?`Mengelola Akun: ${s.name}`:"Mendaftarkan Anggota Tim Atau Pasien Baru"})]})]}),children:[e.jsx(T,{title:i?"Edit User":"Tambah User"}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)]",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:A,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 rounded-2xl",children:e.jsx(h,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Informasi Pribadi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nama Lengkap"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"name",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.name,onChange:a=>t("name",a.target.value),required:!0}),e.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx(d,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Alamat Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"email",type:"email",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.email,onChange:a=>t("email",a.target.value),required:!0}),e.jsx(I,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx(d,{message:l.email,className:"mt-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"phone",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nomor Telepon / WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"phone",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.phone,onChange:a=>t("phone",a.target.value),placeholder:"Contoh: 081234567890"}),e.jsx(u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx(d,{message:l.phone,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/40 text-rose-600 dark:text-rose-400 rounded-2xl",children:e.jsx(U,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Kontak Darurat (Opsional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"emergency_contact_name",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nama Kontak"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"emergency_contact_name",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.emergency_contact_name,onChange:a=>t("emergency_contact_name",a.target.value)}),e.jsx($,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"emergency_contact_phone",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nomor Telepon"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"emergency_contact_phone",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.emergency_contact_phone,onChange:a=>t("emergency_contact_phone",a.target.value)}),e.jsx(u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(n,{htmlFor:"emergency_contact_relation",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Hubungan"}),e.jsx(o,{id:"emergency_contact_relation",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl px-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.emergency_contact_relation,onChange:a=>t("emergency_contact_relation",a.target.value),placeholder:"Contoh: Orang Tua, Saudara Kandung, Teman"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400 rounded-2xl",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Keamanan & Akses"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:i?"Ubah Kata Sandi (Opsional)":"Kata Sandi"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"password",type:c?"text":"password",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-12 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all transition-all",value:r.password,onChange:a=>t("password",a.target.value),autoComplete:"new-password"}),e.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>C(!c),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-600 focus:outline-none",children:c?e.jsx(b,{className:"w-4 h-4"}):e.jsx(y,{className:"w-4 h-4"})})]}),e.jsx(d,{message:l.password,className:"mt-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password_confirmation",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Konfirmasi Kata Sandi"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"password_confirmation",type:m?"text":"password",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-12 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.password_confirmation,onChange:a=>t("password_confirmation",a.target.value),autoComplete:"new-password"}),e.jsx(f,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>P(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-600 focus:outline-none",children:m?e.jsx(b,{className:"w-4 h-4"}):e.jsx(y,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Pilih Hak Akses (Roles)"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] p-6 border border-gray-100 dark:border-gray-800 space-y-3",children:k.map(a=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all ${r.roles.includes(a.name)?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-700 text-gray-500 hover:border-indigo-200"}`,children:[e.jsx("input",{type:"checkbox",className:"hidden",value:a.name,checked:r.roles.includes(a.name),onChange:S}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${r.roles.includes(a.name)?"border-white bg-white":"border-gray-300"}`,children:r.roles.includes(a.name)&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:a.name.replace(/_/g," ")})]},a.id))}),e.jsx(d,{message:l.roles,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-900 p-6 rounded-[2rem] shadow-xl border border-white dark:border-gray-800 sticky bottom-8",children:[e.jsx(p,{href:route("admin.users.index"),className:"text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-gray-600 transition-colors px-6",children:"Batal & Kembali"}),e.jsxs("button",{type:"submit",disabled:_,className:"flex items-center gap-3 px-8 py-4 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-600/20 active:scale-95 disabled:opacity-50",children:[e.jsx(H,{className:"w-4 h-4"}),i?"Simpan Perubahan":"Daftarkan Pengguna"]})]})]})})})]})}export{ie as default};

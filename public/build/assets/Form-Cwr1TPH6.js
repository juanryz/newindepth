import{d as b,u as f,j as e,H as j,L as y}from"./app-BmZ74H6g.js";import{A as k}from"./AuthenticatedLayout-BTO9G2IA.js";import{I as d}from"./InputError-Db7qRoj-.js";import{I as t}from"./InputLabel-D8cKLpo-.js";import{P as v}from"./PrimaryButton-CF0Ux9Sd.js";import{T as n}from"./TextInput-Eitp_-Zc.js";import"./transition-BOoakf8i.js";import"./ThemeToggle-DMk5kCmb.js";import"./LiquidBackground-Dx0UIZPn.js";function P({course:s}){const o=!!s.id,[c,u]=b.useState(s.thumbnail?`/storage/${s.thumbnail}`:null),{data:r,setData:i,post:g,processing:x,errors:l}=f({title:s.title||"",description:s.description||"",course_type:"offline",quota:s.quota||1,schedule_at:s.schedule_at?s.schedule_at.split(" ")[0]+"T"+s.schedule_at.split(" ")[1].substring(0,5):"",location:s.location||"",price:s.price||0,thumbnail:null,is_published:s.is_published||!1,_method:o?"put":"post"}),h=a=>{const m=a.target.files[0];m&&(i("thumbnail",m),u(URL.createObjectURL(m)))},p=a=>{a.preventDefault(),g(o?route("therapist.courses.update",s.id):route("therapist.courses.store"),{forceFormData:!0})};return e.jsxs(k,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:o?"Edit Kelas Saya":"Tambah Kelas Baru"}),children:[e.jsx(j,{title:o?"Edit Kelas":"Tambah Kelas"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"title",value:"Judul Kelas"}),e.jsx(n,{id:"title",type:"text",className:"mt-1 block w-full",value:r.title,onChange:a=>i("title",a.target.value),required:!0,isFocused:!0}),e.jsx(d,{message:l.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"price",value:"Harga (Rp) - Isi 0 Jika Gratis"}),e.jsx(n,{id:"price",type:"number",min:"0",className:"mt-1 block w-full",value:r.price,onChange:a=>i("price",a.target.value),required:!0}),e.jsx(d,{message:l.price,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"course_type",value:"Tipe Kelas"}),e.jsx("select",{id:"course_type",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm bg-gray-100 dark:bg-gray-800",value:r.course_type,disabled:!0,children:e.jsx("option",{value:"offline",children:"Offline (Tatap Muka)"})}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Saat ini hanya pendaftaran kelas offline yang tersedia."}),e.jsx(d,{message:l.course_type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"quota",value:"Jumlah Kuota Peserta"}),e.jsx(n,{id:"quota",type:"number",min:"1",className:"mt-1 block w-full",value:r.quota,onChange:a=>i("quota",a.target.value),required:!0}),e.jsx(d,{message:l.quota,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"schedule_at",value:"Tanggal & Waktu Jadwal"}),e.jsx(n,{id:"schedule_at",type:"datetime-local",className:"mt-1 block w-full",value:r.schedule_at,onChange:a=>i("schedule_at",a.target.value),required:!0}),e.jsx(d,{message:l.schedule_at,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"location",value:"Lokasi / Alamat Pelaksanaan"}),e.jsx(n,{id:"location",type:"text",className:"mt-1 block w-full",value:r.location,onChange:a=>i("location",a.target.value),placeholder:"Contoh: Klinik InDepth, Semarang",required:!0}),e.jsx(d,{message:l.location,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"description",value:"Deskripsi Lengkap"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm min-h-[150px]",value:r.description,onChange:a=>i("description",a.target.value),required:!0}),e.jsx(d,{message:l.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"thumbnail",value:"Thumbnail Kelas (Opsional)"}),e.jsx("input",{id:"thumbnail",type:"file",accept:"image/*",className:"mt-1 block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300",onChange:h}),e.jsx(d,{message:l.thumbnail,className:"mt-2"}),c&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),e.jsx("img",{src:c,alt:"Preview",className:"h-32 object-cover rounded shadow-md border border-gray-200 dark:border-gray-700"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-md border border-gray-200 dark:border-gray-600",children:[e.jsx(t,{value:"Status Publikasi"}),e.jsxs("label",{className:"flex items-center mt-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 cursor-pointer h-5 w-5",checked:r.is_published,onChange:a=>i("is_published",a.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Tampilkan kelas ini di katalog publik (Publish)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Jika tidak di centang, kelas akan disimpan sebagai Draft dan tidak bisa dibeli/dilihat user."})]})]}),e.jsxs("div",{className:"flex items-center justify-end mt-6 space-x-3 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(y,{href:route("therapist.courses.index"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md",children:"Batal"}),e.jsx(v,{disabled:x,children:o?"Simpan Perubahan":"Buat Kelas"})]})]})})})})]})}export{P as default};

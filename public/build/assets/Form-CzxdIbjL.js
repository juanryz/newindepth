import{u as h,j as e,H as b,L as u}from"./app-BGGYSYxs.js";import{A as p}from"./AuthenticatedLayout-6oqkMbPI.js";import{I as o}from"./InputError-DfVcr2Yg.js";import{I as i}from"./InputLabel-DajMzrwE.js";import{P as f}from"./PrimaryButton-BwnOJJir.js";import{T as m}from"./TextInput-B1F1TDwP.js";import"./transition-IylTo-bq.js";import"./ThemeToggle-2kvfhJ1t.js";import"./LiquidBackground-DQHFN_IM.js";function M({course:l,lesson:a}){const n=!!a.id,{data:r,setData:s,post:c,processing:x,errors:d}=h({title:a.title||"",video_url:a.video_url||"",content:a.content||"",attachment:null,is_preview:a.is_preview||!1,order_column:a.order_column||0}),g=t=>{t.preventDefault(),n?c(route("admin.courses.lessons.update",[l.id,a.id]),{forceFormData:!0,onSuccess:()=>{},data:{...r,_method:"PUT"}}):c(route("admin.courses.lessons.store",l.id))};return e.jsxs(p,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:n?"Edit Materi":"Tambah Materi Baru"}),e.jsx(u,{href:route("admin.courses.lessons.index",l.id),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 mt-2 sm:mt-0",children:"â† Kembali ke Daftar Materi"})]}),children:[e.jsx(b,{title:n?"Edit Materi":"Tambah Materi"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-md border border-blue-100 dark:border-blue-800",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-800 dark:text-blue-300",children:"Target Kelas:"}),e.jsx("p",{className:"text-base text-blue-900 dark:text-blue-100 font-bold mt-1",children:l.title})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 items-start",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx(i,{htmlFor:"title",value:"Judul Materi / Sesi"}),e.jsx(m,{id:"title",type:"text",className:"mt-1 block w-full",value:r.title,onChange:t=>s("title",t.target.value),required:!0,isFocused:!0}),e.jsx(o,{message:d.title,className:"mt-2"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx(i,{htmlFor:"order_column",value:"Nomor Urut"}),e.jsx(m,{id:"order_column",type:"number",min:"0",className:"mt-1 block w-full bg-gray-50 focus:bg-white text-center",value:r.order_column,onChange:t=>s("order_column",t.target.value),required:!0}),e.jsx(o,{message:d.order_column,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"video_url",value:"URL Video (Opsional - YouTube Link)"}),e.jsx(m,{id:"video_url",type:"url",className:"mt-1 block w-full font-mono text-sm",value:r.video_url,placeholder:"https://www.youtube.com/watch?v=...",onChange:t=>s("video_url",t.target.value)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Kosongkan jika materi berupa file atau teks."}),e.jsx(o,{message:d.video_url,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"attachment",value:"Unggah File (PDF, Word, Gambar, dll)"}),e.jsx("input",{id:"attachment",type:"file",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:t=>s("attachment",t.target.files[0])}),a.attachment&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["File saat ini: ",a.attachment_name]}),e.jsx(o,{message:d.attachment,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"content",value:"Konten Teks bacaan / Penjelasan (Opsional)"}),e.jsx("textarea",{id:"content",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm min-h-[300px] font-sans text-sm p-3",value:r.content||"",placeholder:"Tuliskan materi tertulis, penjelasan tambahan, atau link eksternal di sini...",onChange:t=>s("content",t.target.value)}),e.jsx(o,{message:d.content,className:"mt-2"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-md border border-gray-200 dark:border-gray-600",children:[e.jsx(i,{value:"Akses Materi"}),e.jsxs("label",{className:"flex items-center mt-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 cursor-pointer h-5 w-5",checked:r.is_preview,onChange:t=>s("is_preview",t.target.checked)}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Jadikan materi ini Preview (Gratis dibuka tanpa perlu membeli kelas)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 ml-8",children:'Biasanya dicentang untuk video trailer atau "Introduction" di awal kelas.'})]}),e.jsxs("div",{className:"flex items-center justify-end mt-6 space-x-3 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(u,{href:route("admin.courses.lessons.index",l.id),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md",children:"Batal"}),e.jsx(f,{disabled:x,children:n?"Simpan Perubahan":"Tambahkan Materi"})]})]})]})})})]})}export{M as default};

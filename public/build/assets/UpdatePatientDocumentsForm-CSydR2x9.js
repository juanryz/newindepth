import{a as lt,u as ct,r as Re,j as Q}from"./app-aZvzVBcr.js";import{I as Te}from"./InputError-DmLXG9xM.js";import{I as Pe}from"./InputLabel-D2DubH_D.js";import{P as ut}from"./PrimaryButton-C-ZCqHIV.js";import{T as Qe}from"./TextInput-gTYweQpt.js";import{K as dt}from"./transition-BaXfz2b_.js";function ht(S,I){return I.forEach((function(N){N&&typeof N!="string"&&!Array.isArray(N)&&Object.keys(N).forEach((function(d){if(d!=="default"&&!(d in S)){var e=Object.getOwnPropertyDescriptor(N,d);Object.defineProperty(S,d,e.get?e:{enumerable:!0,get:function(){return N[d]}})}}))})),Object.freeze(S)}function Ve(S,I){return new Promise((function(N,d){let e;return gt(S).then((function(t){try{return e=t,N(new Blob([I.slice(0,2),e,I.slice(2)],{type:"image/jpeg"}))}catch(u){return d(u)}}),d)}))}const gt=S=>new Promise(((I,N)=>{const d=new FileReader;d.addEventListener("load",(({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return N("not a valid JPEG");for(u+=2;;){const s=t.getUint16(u);if(s===65498)break;const m=t.getUint16(u+2);if(s===65505&&t.getUint32(u+4)===1165519206){const y=u+10;let n;switch(t.getUint16(y)){case 18761:n=!0;break;case 19789:n=!1;break;default:return N("TIFF header contains invalid endian")}if(t.getUint16(y+2,n)!==42)return N("TIFF header contains invalid version");const i=t.getUint32(y+4,n),r=y+i+2+12*t.getUint16(y+i,n);for(let a=y+i+2;a<r;a+=12)if(t.getUint16(a,n)==274){if(t.getUint16(a+2,n)!==3)return N("Orientation data type is invalid");if(t.getUint32(a+4,n)!==1)return N("Orientation data count is invalid");t.setUint16(a+8,1,n);break}return I(e.slice(u,u+2+m))}u+=2+m}return I(new Blob)})),d.readAsArrayBuffer(S)}));var Le={},mt={get exports(){return Le},set exports(S){Le=S}};(function(S){var I,N,d={};mt.exports=d,d.parse=function(e,t){for(var u=d.bin.readUshort,s=d.bin.readUint,m=0,y={},n=new Uint8Array(e),i=n.length-4;s(n,i)!=101010256;)i--;m=i,m+=4;var r=u(n,m+=4);u(n,m+=2);var a=s(n,m+=2),h=s(n,m+=4);m+=4,m=h;for(var x=0;x<r;x++){s(n,m),m+=4,m+=4,m+=4,s(n,m+=4),a=s(n,m+=4);var E=s(n,m+=4),p=u(n,m+=4),j=u(n,m+2),R=u(n,m+4);m+=6;var F=s(n,m+=8);m+=4,m+=p+j+R,d._readLocal(n,F,y,a,E,t)}return y},d._readLocal=function(e,t,u,s,m,y){var n=d.bin.readUshort,i=d.bin.readUint;i(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var a=n(e,t+=8),h=n(e,t+=2);t+=2;var x=d.bin.readUTF8(e,t,a);if(t+=a,t+=h,y)u[x]={size:m,csize:s};else{var E=new Uint8Array(e.buffer,t);if(r==0)u[x]=new Uint8Array(E.buffer.slice(t,t+s));else{if(r!=8)throw"unknown compression method: "+r;var p=new Uint8Array(m);d.inflateRaw(E,p),u[x]=p}}},d.inflateRaw=function(e,t){return d.F.inflate(e,t)},d.inflate=function(e,t){return e[0],e[1],d.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},d.deflate=function(e,t){t==null&&(t={level:6});var u=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[u]=120,s[u+1]=156,u+=2,u=d.F.deflateRaw(e,s,u,t.level);var m=d.adler(e,0,e.length);return s[u+0]=m>>>24&255,s[u+1]=m>>>16&255,s[u+2]=m>>>8&255,s[u+3]=m>>>0&255,new Uint8Array(s.buffer,0,u+4)},d.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),s=d.F.deflateRaw(e,u,s,t.level);return new Uint8Array(u.buffer,0,s)},d.encode=function(e,t){t==null&&(t=!1);var u=0,s=d.bin.writeUint,m=d.bin.writeUshort,y={};for(var n in e){var i=!d._noNeed(n)&&!t,r=e[n],a=d.crc.crc(r,0,r.length);y[n]={cpr:i,usize:r.length,crc:a,file:i?d.deflateRaw(r):r}}for(var n in y)u+=y[n].file.length+30+46+2*d.bin.sizeUTF8(n);u+=22;var h=new Uint8Array(u),x=0,E=[];for(var n in y){var p=y[n];E.push(x),x=d._writeHeader(h,x,n,p,0)}var j=0,R=x;for(var n in y)p=y[n],E.push(x),x=d._writeHeader(h,x,n,p,1,E[j++]);var F=x-R;return s(h,x,101010256),x+=4,m(h,x+=4,j),m(h,x+=2,j),s(h,x+=2,F),s(h,x+=4,R),x+=4,x+=2,h.buffer},d._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},d._writeHeader=function(e,t,u,s,m,y){var n=d.bin.writeUint,i=d.bin.writeUshort,r=s.file;return n(e,t,m==0?67324752:33639248),t+=4,m==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,s.cpr?8:0),n(e,t+=2,0),n(e,t+=4,s.crc),n(e,t+=4,r.length),n(e,t+=4,s.usize),i(e,t+=4,d.bin.sizeUTF8(u)),i(e,t+=2,0),t+=2,m==1&&(t+=2,t+=2,n(e,t+=6,y),t+=4),t+=d.bin.writeUTF8(e,t,u),m==0&&(e.set(r,t),t+=r.length),t},d.crc={table:(function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,s=0;s<8;s++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e})(),update:function(e,t,u,s){for(var m=0;m<s;m++)e=d.crc.table[255&(e^t[u+m])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^d.crc.update(4294967295,e,t,u)}},d.adler=function(e,t,u){for(var s=1,m=0,y=t,n=t+u;y<n;){for(var i=Math.min(y+5552,n);y<i;)m+=s+=e[y++];s%=65521,m%=65521}return m<<16|s},d.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var s="",m=0;m<u;m++)s+=String.fromCharCode(e[t+m]);return s},writeASCII:function(e,t,u){for(var s=0;s<u.length;s++)e[t+s]=u.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var s,m="",y=0;y<u;y++)m+="%"+d.bin.pad(e[t+y].toString(16));try{s=decodeURIComponent(m)}catch{return d.bin.readASCII(e,t,u)}return s},writeUTF8:function(e,t,u){for(var s=u.length,m=0,y=0;y<s;y++){var n=u.charCodeAt(y);if((4294967168&n)==0)e[t+m]=n,m++;else if((4294965248&n)==0)e[t+m]=192|n>>6,e[t+m+1]=128|n>>0&63,m+=2;else if((4294901760&n)==0)e[t+m]=224|n>>12,e[t+m+1]=128|n>>6&63,e[t+m+2]=128|n>>0&63,m+=3;else{if((4292870144&n)!=0)throw"e";e[t+m]=240|n>>18,e[t+m+1]=128|n>>12&63,e[t+m+2]=128|n>>6&63,e[t+m+3]=128|n>>0&63,m+=4}}return m},sizeUTF8:function(e){for(var t=e.length,u=0,s=0;s<t;s++){var m=e.charCodeAt(s);if((4294967168&m)==0)u++;else if((4294965248&m)==0)u+=2;else if((4294901760&m)==0)u+=3;else{if((4292870144&m)!=0)throw"e";u+=4}}return u}},d.F={},d.F.deflateRaw=function(e,t,u,s){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],y=d.F.U,n=d.F._goodIndex;d.F._hash;var i=d.F._putsE,r=0,a=u<<3,h=0,x=e.length;if(s==0){for(;r<x;)i(t,a,r+(A=Math.min(65535,x-r))==x?1:0),a=d.F._copyExact(e,r,A,t,a+8),r+=A;return a>>>3}var E=y.lits,p=y.strt,j=y.prev,R=0,F=0,P=0,g=0,M=0,l=0;for(x>2&&(p[l=d.F._hash(e,0)]=0),r=0;r<x;r++){if(M=l,r+1<x-2){l=d.F._hash(e,r+1);var f=r+1&32767;j[f]=p[l],p[l]=f}if(h<=r){(R>14e3||F>26697)&&x-r>100&&(h<r&&(E[R]=r-h,R+=2,h=r),a=d.F._writeBlock(r==x-1||h==x?1:0,E,R,g,e,P,r-P,t,a),R=F=g=0,P=r);var b=0;r<x-2&&(b=d.F._bestMatch(e,r,j,M,Math.min(m[2],x-r),m[3]));var A=b>>>16,w=65535&b;if(b!=0){w=65535&b;var _=n(A=b>>>16,y.of0);y.lhst[257+_]++;var v=n(w,y.df0);y.dhst[v]++,g+=y.exb[_]+y.dxb[v],E[R]=A<<23|r-h,E[R+1]=w<<16|_<<8|v,R+=2,h=r+A}else y.lhst[e[r]]++;F++}}for(P==r&&e.length!=0||(h<r&&(E[R]=r-h,R+=2,h=r),a=d.F._writeBlock(1,E,R,g,e,P,r-P,t,a),R=0,F=0,R=F=g=0,P=r);(7&a)!=0;)a++;return a>>>3},d.F._bestMatch=function(e,t,u,s,m,y){var n=32767&t,i=u[n],r=n-i+32768&32767;if(i==n||s!=d.F._hash(e,t-r))return 0;for(var a=0,h=0,x=Math.min(32767,t);r<=x&&--y!=0&&i!=n;){if(a==0||e[t+a]==e[t+a-r]){var E=d.F._howLong(e,t,r);if(E>a){if(h=r,(a=E)>=m)break;r+2<E&&(E=r+2);for(var p=0,j=0;j<E-2;j++){var R=t-r+j+32768&32767,F=R-u[R]+32768&32767;F>p&&(p=F,i=R)}}}r+=(n=i)-(i=u[n])+32768&32767}return a<<16|h},d.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var s=t,m=Math.min(e.length,t+258);for(t+=3;t<m&&e[t]==e[t-u];)t++;return t-s},d.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},d.saved=0,d.F._writeBlock=function(e,t,u,s,m,y,n,i,r){var a,h,x,E,p,j,R,F,P,g=d.F.U,M=d.F._putsF,l=d.F._putsE;g.lhst[256]++,h=(a=d.F.getTrees())[0],x=a[1],E=a[2],p=a[3],j=a[4],R=a[5],F=a[6],P=a[7];var f=32+((r+3&7)==0?0:8-(r+3&7))+(n<<3),b=s+d.F.contSize(g.fltree,g.lhst)+d.F.contSize(g.fdtree,g.dhst),A=s+d.F.contSize(g.ltree,g.lhst)+d.F.contSize(g.dtree,g.dhst);A+=14+3*R+d.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var _=f<b&&f<A?0:b<A?1:2;if(M(i,r,e),M(i,r+1,_),r+=3,_==0){for(;(7&r)!=0;)r++;r=d.F._copyExact(m,y,n,i,r)}else{var v,k;if(_==1&&(v=g.fltree,k=g.fdtree),_==2){d.F.makeCodes(g.ltree,h),d.F.revCodes(g.ltree,h),d.F.makeCodes(g.dtree,x),d.F.revCodes(g.dtree,x),d.F.makeCodes(g.itree,E),d.F.revCodes(g.itree,E),v=g.ltree,k=g.dtree,l(i,r,p-257),l(i,r+=5,j-1),l(i,r+=5,R-4),r+=4;for(var c=0;c<R;c++)l(i,r+3*c,g.itree[1+(g.ordr[c]<<1)]);r+=3*R,r=d.F._codeTiny(F,g.itree,i,r),r=d.F._codeTiny(P,g.itree,i,r)}for(var o=y,T=0;T<u;T+=2){for(var U=t[T],L=U>>>23,z=o+(8388607&U);o<z;)r=d.F._writeLit(m[o++],v,i,r);if(L!=0){var O=t[T+1],H=O>>16,D=O>>8&255,C=255&O;l(i,r=d.F._writeLit(257+D,v,i,r),L-g.of0[D]),r+=g.exb[D],M(i,r=d.F._writeLit(C,k,i,r),H-g.df0[C]),r+=g.dxb[C],o+=L}}r=d.F._writeLit(256,v,i,r)}return r},d.F._copyExact=function(e,t,u,s,m){var y=m>>>3;return s[y]=u,s[y+1]=u>>>8,s[y+2]=255-s[y],s[y+3]=255-s[y+1],y+=4,s.set(new Uint8Array(e.buffer,t,u),y),m+(u+4<<3)},d.F.getTrees=function(){for(var e=d.F.U,t=d.F._hufTree(e.lhst,e.ltree,15),u=d.F._hufTree(e.dhst,e.dtree,15),s=[],m=d.F._lenCodes(e.ltree,s),y=[],n=d.F._lenCodes(e.dtree,y),i=0;i<s.length;i+=2)e.ihst[s[i]]++;for(i=0;i<y.length;i+=2)e.ihst[y[i]]++;for(var r=d.F._hufTree(e.ihst,e.itree,7),a=19;a>4&&e.itree[1+(e.ordr[a-1]<<1)]==0;)a--;return[t,u,r,m,n,a,s,y]},d.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},d.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},d.F.contSize=function(e,t){for(var u=0,s=0;s<t.length;s++)u+=t[s]*e[1+(s<<1)];return u},d.F._codeTiny=function(e,t,u,s){for(var m=0;m<e.length;m+=2){var y=e[m],n=e[m+1];s=d.F._writeLit(y,t,u,s);var i=y==16?2:y==17?3:7;y>15&&(d.F._putsE(u,s,n,i),s+=i)}return s},d.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var s=0;s<u;s+=2){var m=e[s+1],y=s+3<u?e[s+3]:-1,n=s+5<u?e[s+5]:-1,i=s==0?-1:e[s-1];if(m==0&&y==m&&n==m){for(var r=s+5;r+2<u&&e[r+2]==m;)r+=2;(a=Math.min(r+1-s>>>1,138))<11?t.push(17,a-3):t.push(18,a-11),s+=2*a-2}else if(m==i&&y==m&&n==m){for(r=s+5;r+2<u&&e[r+2]==m;)r+=2;var a=Math.min(r+1-s>>>1,6);t.push(16,a-3),s+=2*a-2}else t.push(m,0)}return u>>>1},d.F._hufTree=function(e,t,u){var s=[],m=e.length,y=t.length,n=0;for(n=0;n<y;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<m;n++)e[n]!=0&&s.push({lit:n,f:e[n]});var i=s.length,r=s.slice(0);if(i==0)return 0;if(i==1){var a=s[0].lit;return r=a==0?1:0,t[1+(a<<1)]=1,t[1+(r<<1)]=1,1}s.sort((function(F,P){return F.f-P.f}));var h=s[0],x=s[1],E=0,p=1,j=2;for(s[0]={lit:-1,f:h.f+x.f,l:h,r:x,d:0};p!=i-1;)h=E!=p&&(j==i||s[E].f<s[j].f)?s[E++]:s[j++],x=E!=p&&(j==i||s[E].f<s[j].f)?s[E++]:s[j++],s[p++]={lit:-1,f:h.f+x.f,l:h,r:x};var R=d.F.setDepth(s[p-1],0);for(R>u&&(d.F.restrictDepth(r,u,R),R=u),n=0;n<i;n++)t[1+(r[n].lit<<1)]=r[n].d;return R},d.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(d.F.setDepth(e.l,t+1),d.F.setDepth(e.r,t+1))},d.F.restrictDepth=function(e,t,u){var s=0,m=1<<u-t,y=0;for(e.sort((function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d})),s=0;s<e.length&&e[s].d>t;s++){var n=e[s].d;e[s].d=t,y+=m-(1<<u-n)}for(y>>>=u-t;y>0;)(n=e[s].d)<t?(e[s].d++,y-=1<<t-n-1):s++;for(;s>=0;s--)e[s].d==t&&y<0&&(e[s].d--,y++);y!=0&&console.log("debt left")},d.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},d.F._writeLit=function(e,t,u,s){return d.F._putsF(u,s,t[e<<1]),s+t[1+(e<<1)]},d.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var s=d.F,m=s._bitsF,y=s._bitsE,n=s._decodeTiny,i=s.makeCodes,r=s.codes2map,a=s._get17,h=s.U,x=t==null;x&&(t=new u(e.length>>>2<<3));for(var E,p,j=0,R=0,F=0,P=0,g=0,M=0,l=0,f=0,b=0;j==0;)if(j=m(e,b,1),R=m(e,b+1,2),b+=3,R!=0){if(x&&(t=d.F._check(t,f+(1<<17))),R==1&&(E=h.flmap,p=h.fdmap,M=511,l=31),R==2){F=y(e,b,5)+257,P=y(e,b+5,5)+1,g=y(e,b+10,4)+4,b+=14;for(var A=0;A<38;A+=2)h.itree[A]=0,h.itree[A+1]=0;var w=1;for(A=0;A<g;A++){var _=y(e,b+3*A,3);h.itree[1+(h.ordr[A]<<1)]=_,_>w&&(w=_)}b+=3*g,i(h.itree,w),r(h.itree,w,h.imap),E=h.lmap,p=h.dmap,b=n(h.imap,(1<<w)-1,F+P,e,b,h.ttree);var v=s._copyOut(h.ttree,0,F,h.ltree);M=(1<<v)-1;var k=s._copyOut(h.ttree,F,P,h.dtree);l=(1<<k)-1,i(h.ltree,v),r(h.ltree,v,E),i(h.dtree,k),r(h.dtree,k,p)}for(;;){var c=E[a(e,b)&M];b+=15&c;var o=c>>>4;if(!(o>>>8))t[f++]=o;else{if(o==256)break;var T=f+o-254;if(o>264){var U=h.ldef[o-257];T=f+(U>>>3)+y(e,b,7&U),b+=7&U}var L=p[a(e,b)&l];b+=15&L;var z=L>>>4,O=h.ddef[z],H=(O>>>4)+m(e,b,15&O);for(b+=15&O,x&&(t=d.F._check(t,f+(1<<17)));f<T;)t[f]=t[f++-H],t[f]=t[f++-H],t[f]=t[f++-H],t[f]=t[f++-H];f=T}}}else{(7&b)!=0&&(b+=8-(7&b));var D=4+(b>>>3),C=e[D-4]|e[D-3]<<8;x&&(t=d.F._check(t,f+C)),t.set(new u(e.buffer,e.byteOffset+D,C),f),b=D+C<<3,f+=C}return t.length==f?t:t.slice(0,f)},d.F._check=function(e,t){var u=e.length;if(t<=u)return e;var s=new Uint8Array(Math.max(u<<1,t));return s.set(e,0),s},d.F._decodeTiny=function(e,t,u,s,m,y){for(var n=d.F._bitsE,i=d.F._get17,r=0;r<u;){var a=e[i(s,m)&t];m+=15&a;var h=a>>>4;if(h<=15)y[r]=h,r++;else{var x=0,E=0;h==16?(E=3+n(s,m,2),m+=2,x=y[r-1]):h==17?(E=3+n(s,m,3),m+=3):h==18&&(E=11+n(s,m,7),m+=7);for(var p=r+E;r<p;)y[r]=x,r++}}return m},d.F._copyOut=function(e,t,u,s){for(var m=0,y=0,n=s.length>>>1;y<u;){var i=e[y+t];s[y<<1]=0,s[1+(y<<1)]=i,i>m&&(m=i),y++}for(;y<n;)s[y<<1]=0,s[1+(y<<1)]=0,y++;return m},d.F.makeCodes=function(e,t){for(var u,s,m,y,n=d.F.U,i=e.length,r=n.bl_count,a=0;a<=t;a++)r[a]=0;for(a=1;a<i;a+=2)r[e[a]]++;var h=n.next_code;for(u=0,r[0]=0,s=1;s<=t;s++)u=u+r[s-1]<<1,h[s]=u;for(m=0;m<i;m+=2)(y=e[m+1])!=0&&(e[m]=h[y],h[y]++)},d.F.codes2map=function(e,t,u){for(var s=e.length,m=d.F.U.rev15,y=0;y<s;y+=2)if(e[y+1]!=0)for(var n=y>>1,i=e[y+1],r=n<<4|i,a=t-i,h=e[y]<<a,x=h+(1<<a);h!=x;)u[m[h]>>>15-t]=r,h++},d.F.revCodes=function(e,t){for(var u=d.F.U.rev15,s=15-t,m=0;m<e.length;m+=2){var y=e[m]<<t-e[m+1];e[m]=u[y]>>>s}},d.F._putsE=function(e,t,u){u<<=7&t;var s=t>>>3;e[s]|=u,e[s+1]|=u>>>8},d.F._putsF=function(e,t,u){u<<=7&t;var s=t>>>3;e[s]|=u,e[s+1]|=u>>>8,e[s+2]|=u>>>16},d.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},d.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},d.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},d.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},d.F.U=(I=Uint16Array,N=Uint32Array,{next_code:new I(16),bl_count:new I(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new I(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new N(32),flmap:new I(512),fltree:[],fdmap:new I(32),fdtree:[],lmap:new I(32768),ltree:[],ttree:[],dmap:new I(32768),dtree:[],imap:new I(512),itree:[],rev15:new I(32768),lhst:new N(286),dhst:new N(30),ihst:new N(19),lits:new N(15e3),strt:new I(65536),prev:new I(32768)}),(function(){for(var e=d.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function s(m,y,n){for(;y--!=0;)m.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),d.F.makeCodes(e.fltree,9),d.F.codes2map(e.fltree,9,e.flmap),d.F.revCodes(e.fltree,9),s(e.fdtree,32,5),d.F.makeCodes(e.fdtree,5),d.F.codes2map(e.fdtree,5,e.fdmap),d.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)})()})();var pt=ht({__proto__:null,default:Le},[Le]);const he=(function(){var S={nextZero(n,i){for(;n[i]!=0;)i++;return i},readUshort:(n,i)=>n[i]<<8|n[i+1],writeUshort(n,i,r){n[i]=r>>8&255,n[i+1]=255&r},readUint:(n,i)=>16777216*n[i]+(n[i+1]<<16|n[i+2]<<8|n[i+3]),writeUint(n,i,r){n[i]=r>>24&255,n[i+1]=r>>16&255,n[i+2]=r>>8&255,n[i+3]=255&r},readASCII(n,i,r){let a="";for(let h=0;h<r;h++)a+=String.fromCharCode(n[i+h]);return a},writeASCII(n,i,r){for(let a=0;a<r.length;a++)n[i+a]=r.charCodeAt(a)},readBytes(n,i,r){const a=[];for(let h=0;h<r;h++)a.push(n[i+h]);return a},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,i,r){let a,h="";for(let x=0;x<r;x++)h+=`%${S.pad(n[i+x].toString(16))}`;try{a=decodeURIComponent(h)}catch{return S.readASCII(n,i,r)}return a}};function I(n,i,r,a){const h=i*r,x=t(a),E=Math.ceil(i*x/8),p=new Uint8Array(4*h),j=new Uint32Array(p.buffer),{ctype:R}=a,{depth:F}=a,P=S.readUshort;if(R==6){const U=h<<2;if(F==8)for(var g=0;g<U;g+=4)p[g]=n[g],p[g+1]=n[g+1],p[g+2]=n[g+2],p[g+3]=n[g+3];if(F==16)for(g=0;g<U;g++)p[g]=n[g<<1]}else if(R==2){const U=a.tabs.tRNS;if(U==null){if(F==8)for(g=0;g<h;g++){var M=3*g;j[g]=255<<24|n[M+2]<<16|n[M+1]<<8|n[M]}if(F==16)for(g=0;g<h;g++)M=6*g,j[g]=255<<24|n[M+4]<<16|n[M+2]<<8|n[M]}else{var l=U[0];const L=U[1],z=U[2];if(F==8)for(g=0;g<h;g++){var f=g<<2;M=3*g,j[g]=255<<24|n[M+2]<<16|n[M+1]<<8|n[M],n[M]==l&&n[M+1]==L&&n[M+2]==z&&(p[f+3]=0)}if(F==16)for(g=0;g<h;g++)f=g<<2,M=6*g,j[g]=255<<24|n[M+4]<<16|n[M+2]<<8|n[M],P(n,M)==l&&P(n,M+2)==L&&P(n,M+4)==z&&(p[f+3]=0)}}else if(R==3){const U=a.tabs.PLTE,L=a.tabs.tRNS,z=L?L.length:0;if(F==1)for(var b=0;b<r;b++){var A=b*E,w=b*i;for(g=0;g<i;g++){f=w+g<<2;var _=3*(v=n[A+(g>>3)]>>7-((7&g)<<0)&1);p[f]=U[_],p[f+1]=U[_+1],p[f+2]=U[_+2],p[f+3]=v<z?L[v]:255}}if(F==2)for(b=0;b<r;b++)for(A=b*E,w=b*i,g=0;g<i;g++)f=w+g<<2,_=3*(v=n[A+(g>>2)]>>6-((3&g)<<1)&3),p[f]=U[_],p[f+1]=U[_+1],p[f+2]=U[_+2],p[f+3]=v<z?L[v]:255;if(F==4)for(b=0;b<r;b++)for(A=b*E,w=b*i,g=0;g<i;g++)f=w+g<<2,_=3*(v=n[A+(g>>1)]>>4-((1&g)<<2)&15),p[f]=U[_],p[f+1]=U[_+1],p[f+2]=U[_+2],p[f+3]=v<z?L[v]:255;if(F==8)for(g=0;g<h;g++){var v;f=g<<2,_=3*(v=n[g]),p[f]=U[_],p[f+1]=U[_+1],p[f+2]=U[_+2],p[f+3]=v<z?L[v]:255}}else if(R==4){if(F==8)for(g=0;g<h;g++){f=g<<2;var k=n[c=g<<1];p[f]=k,p[f+1]=k,p[f+2]=k,p[f+3]=n[c+1]}if(F==16)for(g=0;g<h;g++){var c;f=g<<2,k=n[c=g<<2],p[f]=k,p[f+1]=k,p[f+2]=k,p[f+3]=n[c+2]}}else if(R==0)for(l=a.tabs.tRNS?a.tabs.tRNS:-1,b=0;b<r;b++){const U=b*E,L=b*i;if(F==1)for(var o=0;o<i;o++){var T=(k=255*(n[U+(o>>>3)]>>>7-(7&o)&1))==255*l?0:255;j[L+o]=T<<24|k<<16|k<<8|k}else if(F==2)for(o=0;o<i;o++)T=(k=85*(n[U+(o>>>2)]>>>6-((3&o)<<1)&3))==85*l?0:255,j[L+o]=T<<24|k<<16|k<<8|k;else if(F==4)for(o=0;o<i;o++)T=(k=17*(n[U+(o>>>1)]>>>4-((1&o)<<2)&15))==17*l?0:255,j[L+o]=T<<24|k<<16|k<<8|k;else if(F==8)for(o=0;o<i;o++)T=(k=n[U+o])==l?0:255,j[L+o]=T<<24|k<<16|k<<8|k;else if(F==16)for(o=0;o<i;o++)k=n[U+(o<<1)],T=P(n,U+(o<<1))==l?0:255,j[L+o]=T<<24|k<<16|k<<8|k}return p}function N(n,i,r,a){const h=t(n),x=Math.ceil(r*h/8),E=new Uint8Array((x+1+n.interlace)*a);return i=n.tabs.CgBI?e(i,E):d(i,E),n.interlace==0?i=u(i,n,0,r,a):n.interlace==1&&(i=(function(j,R){const F=R.width,P=R.height,g=t(R),M=g>>3,l=Math.ceil(F*g/8),f=new Uint8Array(P*l);let b=0;const A=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],_=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1];let k=0;for(;k<7;){const o=_[k],T=v[k];let U=0,L=0,z=A[k];for(;z<P;)z+=o,L++;let O=w[k];for(;O<F;)O+=T,U++;const H=Math.ceil(U*g/8);u(j,R,b,U,L);let D=0,C=A[k];for(;C<P;){let B=w[k],Z=b+D*H<<3;for(;B<F;){var c;if(g==1&&(c=(c=j[Z>>3])>>7-(7&Z)&1,f[C*l+(B>>3)]|=c<<7-((7&B)<<0)),g==2&&(c=(c=j[Z>>3])>>6-(7&Z)&3,f[C*l+(B>>2)]|=c<<6-((3&B)<<1)),g==4&&(c=(c=j[Z>>3])>>4-(7&Z)&15,f[C*l+(B>>1)]|=c<<4-((1&B)<<2)),g>=8){const K=C*l+B*M;for(let W=0;W<M;W++)f[K+W]=j[(Z>>3)+W]}Z+=g,B+=T}D++,C+=o}U*L!=0&&(b+=L*(1+H)),k+=1}return f})(i,n)),i}function d(n,i){return e(new Uint8Array(n.buffer,2,n.length-6),i)}var e=(function(){const n={H:{}};return n.H.N=function(i,r){const a=Uint8Array;let h,x,E=0,p=0,j=0,R=0,F=0,P=0,g=0,M=0,l=0;if(i[0]==3&&i[1]==0)return r||new a(0);const f=n.H,b=f.b,A=f.e,w=f.R,_=f.n,v=f.A,k=f.Z,c=f.m,o=r==null;for(o&&(r=new a(i.length>>>2<<5));E==0;)if(E=b(i,l,1),p=b(i,l+1,2),l+=3,p!=0){if(o&&(r=n.H.W(r,M+(1<<17))),p==1&&(h=c.J,x=c.h,P=511,g=31),p==2){j=A(i,l,5)+257,R=A(i,l+5,5)+1,F=A(i,l+10,4)+4,l+=14;let U=1;for(var T=0;T<38;T+=2)c.Q[T]=0,c.Q[T+1]=0;for(T=0;T<F;T++){const O=A(i,l+3*T,3);c.Q[1+(c.X[T]<<1)]=O,O>U&&(U=O)}l+=3*F,_(c.Q,U),v(c.Q,U,c.u),h=c.w,x=c.d,l=w(c.u,(1<<U)-1,j+R,i,l,c.v);const L=f.V(c.v,0,j,c.C);P=(1<<L)-1;const z=f.V(c.v,j,R,c.D);g=(1<<z)-1,_(c.C,L),v(c.C,L,h),_(c.D,z),v(c.D,z,x)}for(;;){const U=h[k(i,l)&P];l+=15&U;const L=U>>>4;if(!(L>>>8))r[M++]=L;else{if(L==256)break;{let z=M+L-254;if(L>264){const B=c.q[L-257];z=M+(B>>>3)+A(i,l,7&B),l+=7&B}const O=x[k(i,l)&g];l+=15&O;const H=O>>>4,D=c.c[H],C=(D>>>4)+b(i,l,15&D);for(l+=15&D;M<z;)r[M]=r[M++-C],r[M]=r[M++-C],r[M]=r[M++-C],r[M]=r[M++-C];M=z}}}}else{(7&l)!=0&&(l+=8-(7&l));const U=4+(l>>>3),L=i[U-4]|i[U-3]<<8;o&&(r=n.H.W(r,M+L)),r.set(new a(i.buffer,i.byteOffset+U,L),M),l=U+L<<3,M+=L}return r.length==M?r:r.slice(0,M)},n.H.W=function(i,r){const a=i.length;if(r<=a)return i;const h=new Uint8Array(a<<1);return h.set(i,0),h},n.H.R=function(i,r,a,h,x,E){const p=n.H.e,j=n.H.Z;let R=0;for(;R<a;){const F=i[j(h,x)&r];x+=15&F;const P=F>>>4;if(P<=15)E[R]=P,R++;else{let g=0,M=0;P==16?(M=3+p(h,x,2),x+=2,g=E[R-1]):P==17?(M=3+p(h,x,3),x+=3):P==18&&(M=11+p(h,x,7),x+=7);const l=R+M;for(;R<l;)E[R]=g,R++}}return x},n.H.V=function(i,r,a,h){let x=0,E=0;const p=h.length>>>1;for(;E<a;){const j=i[E+r];h[E<<1]=0,h[1+(E<<1)]=j,j>x&&(x=j),E++}for(;E<p;)h[E<<1]=0,h[1+(E<<1)]=0,E++;return x},n.H.n=function(i,r){const a=n.H.m,h=i.length;let x,E,p,j;const R=a.j;for(var F=0;F<=r;F++)R[F]=0;for(F=1;F<h;F+=2)R[i[F]]++;const P=a.K;for(x=0,R[0]=0,E=1;E<=r;E++)x=x+R[E-1]<<1,P[E]=x;for(p=0;p<h;p+=2)j=i[p+1],j!=0&&(i[p]=P[j],P[j]++)},n.H.A=function(i,r,a){const h=i.length,x=n.H.m.r;for(let E=0;E<h;E+=2)if(i[E+1]!=0){const p=E>>1,j=i[E+1],R=p<<4|j,F=r-j;let P=i[E]<<F;const g=P+(1<<F);for(;P!=g;)a[x[P]>>>15-r]=R,P++}},n.H.l=function(i,r){const a=n.H.m.r,h=15-r;for(let x=0;x<i.length;x+=2){const E=i[x]<<r-i[x+1];i[x]=a[E]>>>h}},n.H.M=function(i,r,a){a<<=7&r;const h=r>>>3;i[h]|=a,i[h+1]|=a>>>8},n.H.I=function(i,r,a){a<<=7&r;const h=r>>>3;i[h]|=a,i[h+1]|=a>>>8,i[h+2]|=a>>>16},n.H.e=function(i,r,a){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<a)-1},n.H.b=function(i,r,a){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<a)-1},n.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=(function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}})(),(function(){const i=n.H.m;for(var r=0;r<32768;r++){let h=r;h=(2863311530&h)>>>1|(1431655765&h)<<1,h=(3435973836&h)>>>2|(858993459&h)<<2,h=(4042322160&h)>>>4|(252645135&h)<<4,h=(4278255360&h)>>>8|(16711935&h)<<8,i.r[r]=(h>>>16|h<<16)>>>17}function a(h,x,E){for(;x--!=0;)h.push(0,E)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];a(i._,144,8),a(i._,112,9),a(i._,24,7),a(i._,8,8),n.H.n(i._,9),n.H.A(i._,9,i.J),n.H.l(i._,9),a(i.$,32,5),n.H.n(i.$,5),n.H.A(i.$,5,i.h),n.H.l(i.$,5),a(i.Q,19,0),a(i.C,286,0),a(i.D,30,0),a(i.v,320,0)})(),n.H.N})();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function u(n,i,r,a,h){let x=t(i);const E=Math.ceil(a*x/8);let p,j;x=Math.ceil(x/8);let R=n[r],F=0;if(R>1&&(n[r]=[0,0,1][R-2]),R==3)for(F=x;F<E;F++)n[F+1]=n[F+1]+(n[F+1-x]>>>1)&255;for(let P=0;P<h;P++)if(p=r+P*E,j=p+P+1,R=n[j-1],F=0,R==0)for(;F<E;F++)n[p+F]=n[j+F];else if(R==1){for(;F<x;F++)n[p+F]=n[j+F];for(;F<E;F++)n[p+F]=n[j+F]+n[p+F-x]}else if(R==2)for(;F<E;F++)n[p+F]=n[j+F]+n[p+F-E];else if(R==3){for(;F<x;F++)n[p+F]=n[j+F]+(n[p+F-E]>>>1);for(;F<E;F++)n[p+F]=n[j+F]+(n[p+F-E]+n[p+F-x]>>>1)}else{for(;F<x;F++)n[p+F]=n[j+F]+s(0,n[p+F-E],0);for(;F<E;F++)n[p+F]=n[j+F]+s(n[p+F-x],n[p+F-E],n[p+F-x-E])}return n}function s(n,i,r){const a=n+i-r,h=a-n,x=a-i,E=a-r;return h*h<=x*x&&h*h<=E*E?n:x*x<=E*E?i:r}function m(n,i,r){r.width=S.readUint(n,i),i+=4,r.height=S.readUint(n,i),i+=4,r.depth=n[i],i++,r.ctype=n[i],i++,r.compress=n[i],i++,r.filter=n[i],i++,r.interlace=n[i],i++}function y(n,i,r,a,h,x,E,p,j){const R=Math.min(i,h),F=Math.min(r,x);let P=0,g=0;for(let k=0;k<F;k++)for(let c=0;c<R;c++)if(E>=0&&p>=0?(P=k*i+c<<2,g=(p+k)*h+E+c<<2):(P=(-p+k)*i-E+c<<2,g=k*h+c<<2),j==0)a[g]=n[P],a[g+1]=n[P+1],a[g+2]=n[P+2],a[g+3]=n[P+3];else if(j==1){var M=n[P+3]*.00392156862745098,l=n[P]*M,f=n[P+1]*M,b=n[P+2]*M,A=a[g+3]*(1/255),w=a[g]*A,_=a[g+1]*A,v=a[g+2]*A;const o=1-M,T=M+A*o,U=T==0?0:1/T;a[g+3]=255*T,a[g+0]=(l+w*o)*U,a[g+1]=(f+_*o)*U,a[g+2]=(b+v*o)*U}else if(j==2)M=n[P+3],l=n[P],f=n[P+1],b=n[P+2],A=a[g+3],w=a[g],_=a[g+1],v=a[g+2],M==A&&l==w&&f==_&&b==v?(a[g]=0,a[g+1]=0,a[g+2]=0,a[g+3]=0):(a[g]=l,a[g+1]=f,a[g+2]=b,a[g+3]=M);else if(j==3){if(M=n[P+3],l=n[P],f=n[P+1],b=n[P+2],A=a[g+3],w=a[g],_=a[g+1],v=a[g+2],M==A&&l==w&&f==_&&b==v)continue;if(M<220&&A>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let a=8;const h=S,x=h.readUshort,E=h.readUint,p={tabs:{},frames:[]},j=new Uint8Array(r.length);let R,F=0,P=0;const g=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(r[M]!=g[M])throw"The input is not a PNG file!";for(;a<r.length;){const k=h.readUint(r,a);a+=4;const c=h.readASCII(r,a,4);if(a+=4,c=="IHDR")m(r,a,p);else if(c=="iCCP"){for(var l=a;r[l]!=0;)l++;h.readASCII(r,a,l-a),r[l+1];const o=r.slice(l+2,a+k);let T=null;try{T=d(o)}catch{T=e(o)}p.tabs[c]=T}else if(c=="CgBI")p.tabs[c]=r.slice(a,a+4);else if(c=="IDAT"){for(M=0;M<k;M++)j[F+M]=r[a+M];F+=k}else if(c=="acTL")p.tabs[c]={num_frames:E(r,a),num_plays:E(r,a+4)},R=new Uint8Array(r.length);else if(c=="fcTL"){P!=0&&((v=p.frames[p.frames.length-1]).data=N(p,R.slice(0,P),v.rect.width,v.rect.height),P=0);const o={x:E(r,a+12),y:E(r,a+16),width:E(r,a+4),height:E(r,a+8)};let T=x(r,a+22);T=x(r,a+20)/(T==0?100:T);const U={rect:o,delay:Math.round(1e3*T),dispose:r[a+24],blend:r[a+25]};p.frames.push(U)}else if(c=="fdAT"){for(M=0;M<k-4;M++)R[P+M]=r[a+M+4];P+=k-4}else if(c=="pHYs")p.tabs[c]=[h.readUint(r,a),h.readUint(r,a+4),r[a+8]];else if(c=="cHRM")for(p.tabs[c]=[],M=0;M<8;M++)p.tabs[c].push(h.readUint(r,a+4*M));else if(c=="tEXt"||c=="zTXt"){p.tabs[c]==null&&(p.tabs[c]={});var f=h.nextZero(r,a),b=h.readASCII(r,a,f-a),A=a+k-f-1;if(c=="tEXt")_=h.readASCII(r,f+1,A);else{var w=d(r.slice(f+2,f+2+A));_=h.readUTF8(w,0,w.length)}p.tabs[c][b]=_}else if(c=="iTXt"){p.tabs[c]==null&&(p.tabs[c]={}),f=0,l=a,f=h.nextZero(r,l),b=h.readASCII(r,l,f-l);const o=r[l=f+1];var _;r[l+1],l+=2,f=h.nextZero(r,l),h.readASCII(r,l,f-l),l=f+1,f=h.nextZero(r,l),h.readUTF8(r,l,f-l),A=k-((l=f+1)-a),o==0?_=h.readUTF8(r,l,A):(w=d(r.slice(l,l+A)),_=h.readUTF8(w,0,w.length)),p.tabs[c][b]=_}else if(c=="PLTE")p.tabs[c]=h.readBytes(r,a,k);else if(c=="hIST"){const o=p.tabs.PLTE.length/3;for(p.tabs[c]=[],M=0;M<o;M++)p.tabs[c].push(x(r,a+2*M))}else if(c=="tRNS")p.ctype==3?p.tabs[c]=h.readBytes(r,a,k):p.ctype==0?p.tabs[c]=x(r,a):p.ctype==2&&(p.tabs[c]=[x(r,a),x(r,a+2),x(r,a+4)]);else if(c=="gAMA")p.tabs[c]=h.readUint(r,a)/1e5;else if(c=="sRGB")p.tabs[c]=r[a];else if(c=="bKGD")p.ctype==0||p.ctype==4?p.tabs[c]=[x(r,a)]:p.ctype==2||p.ctype==6?p.tabs[c]=[x(r,a),x(r,a+2),x(r,a+4)]:p.ctype==3&&(p.tabs[c]=r[a]);else if(c=="IEND")break;a+=k,h.readUint(r,a),a+=4}var v;return P!=0&&((v=p.frames[p.frames.length-1]).data=N(p,R.slice(0,P),v.rect.width,v.rect.height)),p.data=N(p,j,p.width,p.height),delete p.compress,delete p.interlace,delete p.filter,p},toRGBA8:function(i){const r=i.width,a=i.height;if(i.tabs.acTL==null)return[I(i.data,r,a,i).buffer];const h=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const x=r*a*4,E=new Uint8Array(x),p=new Uint8Array(x),j=new Uint8Array(x);for(let F=0;F<i.frames.length;F++){const P=i.frames[F],g=P.rect.x,M=P.rect.y,l=P.rect.width,f=P.rect.height,b=I(P.data,l,f,i);if(F!=0)for(var R=0;R<x;R++)j[R]=E[R];if(P.blend==0?y(b,l,f,E,r,a,g,M,0):P.blend==1&&y(b,l,f,E,r,a,g,M,1),h.push(E.buffer.slice(0)),P.dispose!=0){if(P.dispose==1)y(p,l,f,E,r,a,g,M,0);else if(P.dispose==2)for(R=0;R<x;R++)E[R]=j[R]}}return h},_paeth:s,_copyTile:y,_bin:S}})();(function(){const{_copyTile:S}=he,{_bin:I}=he,N=he._paeth;var d={table:(function(){const l=new Uint32Array(256);for(let f=0;f<256;f++){let b=f;for(let A=0;A<8;A++)1&b?b=3988292384^b>>>1:b>>>=1;l[f]=b}return l})(),update(l,f,b,A){for(let w=0;w<A;w++)l=d.table[255&(l^f[b+w])]^l>>>8;return l},crc:(l,f,b)=>4294967295^d.update(4294967295,l,f,b)};function e(l,f,b,A){f[b]+=l[0]*A>>4,f[b+1]+=l[1]*A>>4,f[b+2]+=l[2]*A>>4,f[b+3]+=l[3]*A>>4}function t(l){return Math.max(0,Math.min(255,l))}function u(l,f){const b=l[0]-f[0],A=l[1]-f[1],w=l[2]-f[2],_=l[3]-f[3];return b*b+A*A+w*w+_*_}function s(l,f,b,A,w,_,v){v==null&&(v=1);const k=A.length,c=[];for(var o=0;o<k;o++){const C=A[o];c.push([C>>>0&255,C>>>8&255,C>>>16&255,C>>>24&255])}for(o=0;o<k;o++){let C=4294967295;for(var T=0,U=0;U<k;U++){var L=u(c[o],c[U]);U!=o&&L<C&&(C=L,T=U)}}const z=new Uint32Array(w.buffer),O=new Int16Array(f*b*4),H=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<H.length;o++)H[o]=255*((H[o]+.5)/16-.5);for(let C=0;C<b;C++)for(let B=0;B<f;B++){var D;o=4*(C*f+B),v!=2?D=[t(l[o]+O[o]),t(l[o+1]+O[o+1]),t(l[o+2]+O[o+2]),t(l[o+3]+O[o+3])]:(L=H[4*(3&C)+(3&B)],D=[t(l[o]+L),t(l[o+1]+L),t(l[o+2]+L),t(l[o+3]+L)]),T=0;let Z=16777215;for(U=0;U<k;U++){const G=u(D,c[U]);G<Z&&(Z=G,T=U)}const K=c[T],W=[D[0]-K[0],D[1]-K[1],D[2]-K[2],D[3]-K[3]];v==1&&(B!=f-1&&e(W,O,o+4,7),C!=b-1&&(B!=0&&e(W,O,o+4*f-4,3),e(W,O,o+4*f,5),B!=f-1&&e(W,O,o+4*f+4,1))),_[o>>2]=T,z[o>>2]=A[T]}}function m(l,f,b,A,w){w==null&&(w={});const{crc:_}=d,v=I.writeUint,k=I.writeUshort,c=I.writeASCII;let o=8;const T=l.frames.length>1;let U,L=!1,z=33+(T?20:0);if(w.sRGB!=null&&(z+=13),w.pHYs!=null&&(z+=21),w.iCCP!=null&&(U=pako.deflate(w.iCCP),z+=21+U.length+4),l.ctype==3){for(var O=l.plte.length,H=0;H<O;H++)l.plte[H]>>>24!=255&&(L=!0);z+=8+3*O+4+(L?8+1*O+4:0)}for(var D=0;D<l.frames.length;D++)T&&(z+=38),z+=(K=l.frames[D]).cimg.length+12,D!=0&&(z+=4);z+=12;const C=new Uint8Array(z),B=[137,80,78,71,13,10,26,10];for(H=0;H<8;H++)C[H]=B[H];if(v(C,o,13),o+=4,c(C,o,"IHDR"),o+=4,v(C,o,f),o+=4,v(C,o,b),o+=4,C[o]=l.depth,o++,C[o]=l.ctype,o++,C[o]=0,o++,C[o]=0,o++,C[o]=0,o++,v(C,o,_(C,o-17,17)),o+=4,w.sRGB!=null&&(v(C,o,1),o+=4,c(C,o,"sRGB"),o+=4,C[o]=w.sRGB,o++,v(C,o,_(C,o-5,5)),o+=4),w.iCCP!=null){const W=13+U.length;v(C,o,W),o+=4,c(C,o,"iCCP"),o+=4,c(C,o,"ICC profile"),o+=11,o+=2,C.set(U,o),o+=U.length,v(C,o,_(C,o-(W+4),W+4)),o+=4}if(w.pHYs!=null&&(v(C,o,9),o+=4,c(C,o,"pHYs"),o+=4,v(C,o,w.pHYs[0]),o+=4,v(C,o,w.pHYs[1]),o+=4,C[o]=w.pHYs[2],o++,v(C,o,_(C,o-13,13)),o+=4),T&&(v(C,o,8),o+=4,c(C,o,"acTL"),o+=4,v(C,o,l.frames.length),o+=4,v(C,o,w.loop!=null?w.loop:0),o+=4,v(C,o,_(C,o-12,12)),o+=4),l.ctype==3){for(v(C,o,3*(O=l.plte.length)),o+=4,c(C,o,"PLTE"),o+=4,H=0;H<O;H++){const W=3*H,G=l.plte[H],Y=255&G,te=G>>>8&255,Ae=G>>>16&255;C[o+W+0]=Y,C[o+W+1]=te,C[o+W+2]=Ae}if(o+=3*O,v(C,o,_(C,o-3*O-4,3*O+4)),o+=4,L){for(v(C,o,O),o+=4,c(C,o,"tRNS"),o+=4,H=0;H<O;H++)C[o+H]=l.plte[H]>>>24&255;o+=O,v(C,o,_(C,o-O-4,O+4)),o+=4}}let Z=0;for(D=0;D<l.frames.length;D++){var K=l.frames[D];T&&(v(C,o,26),o+=4,c(C,o,"fcTL"),o+=4,v(C,o,Z++),o+=4,v(C,o,K.rect.width),o+=4,v(C,o,K.rect.height),o+=4,v(C,o,K.rect.x),o+=4,v(C,o,K.rect.y),o+=4,k(C,o,A[D]),o+=2,k(C,o,1e3),o+=2,C[o]=K.dispose,o++,C[o]=K.blend,o++,v(C,o,_(C,o-30,30)),o+=4);const W=K.cimg;v(C,o,(O=W.length)+(D==0?0:4)),o+=4;const G=o;c(C,o,D==0?"IDAT":"fdAT"),o+=4,D!=0&&(v(C,o,Z++),o+=4),C.set(W,o),o+=O,v(C,o,_(C,G,o-G)),o+=4}return v(C,o,0),o+=4,c(C,o,"IEND"),o+=4,v(C,o,_(C,o-4,4)),o+=4,C.buffer}function y(l,f,b){for(let A=0;A<l.frames.length;A++){const w=l.frames[A];w.rect.width;const _=w.rect.height,v=new Uint8Array(_*w.bpl+_);w.cimg=a(w.img,_,w.bpp,w.bpl,v,f,b)}}function n(l,f,b,A,w){const _=w[0],v=w[1],k=w[2],c=w[3],o=w[4],T=w[5];let U=6,L=8,z=255;for(var O=0;O<l.length;O++){const ne=new Uint8Array(l[O]);for(var H=ne.length,D=0;D<H;D+=4)z&=ne[D+3]}const C=z!=255,B=(function(V,q,re,ae,J,le){const ee=[];for(var $=0;$<V.length;$++){const se=new Uint8Array(V[$]),de=new Uint32Array(se.buffer);var ce;let ue=0,ve=0,me=q,_e=re,ze=ae?1:0;if($!=0){const st=le||ae||$==1||ee[$-2].dispose!=0?1:2;let Be=0,qe=1e9;for(let Ie=0;Ie<st;Ie++){var be=new Uint8Array(V[$-1-Ie]);const ft=new Uint32Array(V[$-1-Ie]);let ye=q,we=re,Ee=-1,Me=-1;for(let Ue=0;Ue<re;Ue++)for(let ke=0;ke<q;ke++)de[ie=Ue*q+ke]!=ft[ie]&&(ke<ye&&(ye=ke),ke>Ee&&(Ee=ke),Ue<we&&(we=Ue),Ue>Me&&(Me=Ue));Ee==-1&&(ye=we=Ee=Me=0),J&&((1&ye)==1&&ye--,(1&we)==1&&we--);const $e=(Ee-ye+1)*(Me-we+1);$e<qe&&(qe=$e,Be=Ie,ue=ye,ve=we,me=Ee-ye+1,_e=Me-we+1)}be=new Uint8Array(V[$-1-Be]),Be==1&&(ee[$-1].dispose=2),ce=new Uint8Array(me*_e*4),S(be,q,re,ce,me,_e,-ue,-ve,0),ze=S(se,q,re,ce,me,_e,-ue,-ve,3)?1:0,ze==1?r(se,q,re,ce,{x:ue,y:ve,width:me,height:_e}):S(se,q,re,ce,me,_e,-ue,-ve,0)}else ce=se.slice(0);ee.push({rect:{x:ue,y:ve,width:me,height:_e},img:ce,blend:ze,dispose:0})}if(ae)for($=0;$<ee.length;$++){if((xe=ee[$]).blend==1)continue;const se=xe.rect,de=ee[$-1].rect,ue=Math.min(se.x,de.x),ve=Math.min(se.y,de.y),me={x:ue,y:ve,width:Math.max(se.x+se.width,de.x+de.width)-ue,height:Math.max(se.y+se.height,de.y+de.height)-ve};ee[$-1].dispose=1,$-1!=0&&i(V,q,re,ee,$-1,me,J),i(V,q,re,ee,$,me,J)}let Se=0;if(V.length!=1)for(var ie=0;ie<ee.length;ie++){var xe;Se+=(xe=ee[ie]).rect.width*xe.rect.height}return ee})(l,f,b,_,v,k),Z={},K=[],W=[];if(A!=0){const ne=[];for(D=0;D<B.length;D++)ne.push(B[D].img.buffer);const V=(function(J){let le=0;for(var ee=0;ee<J.length;ee++)le+=J[ee].byteLength;const $=new Uint8Array(le);let ce=0;for(ee=0;ee<J.length;ee++){const be=new Uint8Array(J[ee]),Se=be.length;for(let ie=0;ie<Se;ie+=4){let xe=be[ie],se=be[ie+1],de=be[ie+2];const ue=be[ie+3];ue==0&&(xe=se=de=0),$[ce+ie]=xe,$[ce+ie+1]=se,$[ce+ie+2]=de,$[ce+ie+3]=ue}ce+=Se}return $.buffer})(ne),q=x(V,A);for(D=0;D<q.plte.length;D++)K.push(q.plte[D].est.rgba);let re=0;for(D=0;D<B.length;D++){const ae=(Y=B[D]).img.length;var G=new Uint8Array(q.inds.buffer,re>>2,ae>>2);W.push(G);const J=new Uint8Array(q.abuf,re,ae);T&&s(Y.img,Y.rect.width,Y.rect.height,K,J,G),Y.img.set(J),re+=ae}}else for(O=0;O<B.length;O++){var Y=B[O];const ne=new Uint32Array(Y.img.buffer);var te=Y.rect.width;for(H=ne.length,G=new Uint8Array(H),W.push(G),D=0;D<H;D++){const V=ne[D];if(D!=0&&V==ne[D-1])G[D]=G[D-1];else if(D>te&&V==ne[D-te])G[D]=G[D-te];else{let q=Z[V];if(q==null&&(Z[V]=q=K.length,K.push(V),K.length>=300))break;G[D]=q}}}const Ae=K.length;for(Ae<=256&&o==0&&(L=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,L=Math.max(L,c)),O=0;O<B.length;O++){(Y=B[O]).rect.x,Y.rect.y,te=Y.rect.width;const ne=Y.rect.height;let V=Y.img;new Uint32Array(V.buffer);let q=4*te,re=4;if(Ae<=256&&o==0){q=Math.ceil(L*te/8);var ge=new Uint8Array(q*ne);const ae=W[O];for(let J=0;J<ne;J++){D=J*q;const le=J*te;if(L==8)for(var X=0;X<te;X++)ge[D+X]=ae[le+X];else if(L==4)for(X=0;X<te;X++)ge[D+(X>>1)]|=ae[le+X]<<4-4*(1&X);else if(L==2)for(X=0;X<te;X++)ge[D+(X>>2)]|=ae[le+X]<<6-2*(3&X);else if(L==1)for(X=0;X<te;X++)ge[D+(X>>3)]|=ae[le+X]<<7-1*(7&X)}V=ge,U=3,re=1}else if(C==0&&B.length==1){ge=new Uint8Array(te*ne*3);const ae=te*ne;for(D=0;D<ae;D++){const J=3*D,le=4*D;ge[J]=V[le],ge[J+1]=V[le+1],ge[J+2]=V[le+2]}V=ge,U=2,re=3,q=3*te}Y.img=V,Y.bpl=q,Y.bpp=re}return{ctype:U,depth:L,plte:K,frames:B}}function i(l,f,b,A,w,_,v){const k=Uint8Array,c=Uint32Array,o=new k(l[w-1]),T=new c(l[w-1]),U=w+1<l.length?new k(l[w+1]):null,L=new k(l[w]),z=new c(L.buffer);let O=f,H=b,D=-1,C=-1;for(let Z=0;Z<_.height;Z++)for(let K=0;K<_.width;K++){const W=_.x+K,G=_.y+Z,Y=G*f+W,te=z[Y];te==0||A[w-1].dispose==0&&T[Y]==te&&(U==null||U[4*Y+3]!=0)||(W<O&&(O=W),W>D&&(D=W),G<H&&(H=G),G>C&&(C=G))}D==-1&&(O=H=D=C=0),v&&((1&O)==1&&O--,(1&H)==1&&H--),_={x:O,y:H,width:D-O+1,height:C-H+1};const B=A[w];B.rect=_,B.blend=1,B.img=new Uint8Array(_.width*_.height*4),A[w-1].dispose==0?(S(o,f,b,B.img,_.width,_.height,-_.x,-_.y,0),r(L,f,b,B.img,_)):S(L,f,b,B.img,_.width,_.height,-_.x,-_.y,0)}function r(l,f,b,A,w){S(l,f,b,A,w.width,w.height,-w.x,-w.y,2)}function a(l,f,b,A,w,_,v){const k=[];let c,o=[0,1,2,3,4];_!=-1?o=[_]:(f*A>5e5||b==1)&&(o=[0]),v&&(c={level:0});const T=pt;for(var U=0;U<o.length;U++){for(let O=0;O<f;O++)h(w,l,O,A,b,o[U]);k.push(T.deflate(w,c))}let L,z=1e9;for(U=0;U<k.length;U++)k[U].length<z&&(L=U,z=k[U].length);return k[L]}function h(l,f,b,A,w,_){const v=b*A;let k=v+b;if(l[k]=_,k++,_==0)if(A<500)for(var c=0;c<A;c++)l[k+c]=f[v+c];else l.set(new Uint8Array(f.buffer,v,A),k);else if(_==1){for(c=0;c<w;c++)l[k+c]=f[v+c];for(c=w;c<A;c++)l[k+c]=f[v+c]-f[v+c-w]+256&255}else if(b==0){for(c=0;c<w;c++)l[k+c]=f[v+c];if(_==2)for(c=w;c<A;c++)l[k+c]=f[v+c];if(_==3)for(c=w;c<A;c++)l[k+c]=f[v+c]-(f[v+c-w]>>1)+256&255;if(_==4)for(c=w;c<A;c++)l[k+c]=f[v+c]-N(f[v+c-w],0,0)+256&255}else{if(_==2)for(c=0;c<A;c++)l[k+c]=f[v+c]+256-f[v+c-A]&255;if(_==3){for(c=0;c<w;c++)l[k+c]=f[v+c]+256-(f[v+c-A]>>1)&255;for(c=w;c<A;c++)l[k+c]=f[v+c]+256-(f[v+c-A]+f[v+c-w]>>1)&255}if(_==4){for(c=0;c<w;c++)l[k+c]=f[v+c]+256-N(0,f[v+c-A],0)&255;for(c=w;c<A;c++)l[k+c]=f[v+c]+256-N(f[v+c-w],f[v+c-A],f[v+c-w-A])&255}}}function x(l,f){const b=new Uint8Array(l),A=b.slice(0),w=new Uint32Array(A.buffer),_=E(A,f),v=_[0],k=_[1],c=b.length,o=new Uint8Array(c>>2);let T;if(b.length<2e7)for(var U=0;U<c;U+=4)T=p(v,L=b[U]*(1/255),z=b[U+1]*(1/255),O=b[U+2]*(1/255),H=b[U+3]*(1/255)),o[U>>2]=T.ind,w[U>>2]=T.est.rgba;else for(U=0;U<c;U+=4){var L=b[U]*.00392156862745098,z=b[U+1]*(1/255),O=b[U+2]*(1/255),H=b[U+3]*(1/255);for(T=v;T.left;)T=j(T.est,L,z,O,H)<=0?T.left:T.right;o[U>>2]=T.ind,w[U>>2]=T.est.rgba}return{abuf:A.buffer,inds:o,plte:k}}function E(l,f,b){b==null&&(b=1e-4);const A=new Uint32Array(l.buffer),w={i0:0,i1:l.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=P(l,w.i0,w.i1),w.est=g(w.bst);const _=[w];for(;_.length<f;){let k=0,c=0;for(var v=0;v<_.length;v++)_[v].est.L>k&&(k=_[v].est.L,c=v);if(k<b)break;const o=_[c],T=R(l,A,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=T||o.i1<=T){o.est.L=0;continue}const U={i0:o.i0,i1:T,bst:null,est:null,tdst:0,left:null,right:null};U.bst=P(l,U.i0,U.i1),U.est=g(U.bst);const L={i0:T,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:o.bst.N-U.bst.N},v=0;v<16;v++)L.bst.R[v]=o.bst.R[v]-U.bst.R[v];for(v=0;v<4;v++)L.bst.m[v]=o.bst.m[v]-U.bst.m[v];L.est=g(L.bst),o.left=U,o.right=L,_[c]=U,_.push(L)}for(_.sort(((k,c)=>c.bst.N-k.bst.N)),v=0;v<_.length;v++)_[v].ind=v;return[w,_]}function p(l,f,b,A,w){if(l.left==null)return l.tdst=(function(U,L,z,O,H){const D=L-U[0],C=z-U[1],B=O-U[2],Z=H-U[3];return D*D+C*C+B*B+Z*Z})(l.est.q,f,b,A,w),l;const _=j(l.est,f,b,A,w);let v=l.left,k=l.right;_>0&&(v=l.right,k=l.left);const c=p(v,f,b,A,w);if(c.tdst<=_*_)return c;const o=p(k,f,b,A,w);return o.tdst<c.tdst?o:c}function j(l,f,b,A,w){const{e:_}=l;return _[0]*f+_[1]*b+_[2]*A+_[3]*w-l.eMq}function R(l,f,b,A,w,_){for(A-=4;b<A;){for(;F(l,b,w)<=_;)b+=4;for(;F(l,A,w)>_;)A-=4;if(b>=A)break;const v=f[b>>2];f[b>>2]=f[A>>2],f[A>>2]=v,b+=4,A-=4}for(;F(l,b,w)>_;)b-=4;return b+4}function F(l,f,b){return l[f]*b[0]+l[f+1]*b[1]+l[f+2]*b[2]+l[f+3]*b[3]}function P(l,f,b){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],_=b-f>>2;for(let v=f;v<b;v+=4){const k=l[v]*.00392156862745098,c=l[v+1]*(1/255),o=l[v+2]*(1/255),T=l[v+3]*(1/255);w[0]+=k,w[1]+=c,w[2]+=o,w[3]+=T,A[0]+=k*k,A[1]+=k*c,A[2]+=k*o,A[3]+=k*T,A[5]+=c*c,A[6]+=c*o,A[7]+=c*T,A[10]+=o*o,A[11]+=o*T,A[15]+=T*T}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:w,N:_}}function g(l){const{R:f}=l,{m:b}=l,{N:A}=l,w=b[0],_=b[1],v=b[2],k=b[3],c=A==0?0:1/A,o=[f[0]-w*w*c,f[1]-w*_*c,f[2]-w*v*c,f[3]-w*k*c,f[4]-_*w*c,f[5]-_*_*c,f[6]-_*v*c,f[7]-_*k*c,f[8]-v*w*c,f[9]-v*_*c,f[10]-v*v*c,f[11]-v*k*c,f[12]-k*w*c,f[13]-k*_*c,f[14]-k*v*c,f[15]-k*k*c],T=o,U=M;let L=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,O=0;if(A!=0)for(let D=0;D<16&&(L=U.multVec(T,L),O=Math.sqrt(U.dot(L,L)),L=U.sml(1/O,L),!(D!=0&&Math.abs(O-z)<1e-9));D++)z=O;const H=[w*c,_*c,v*c,k*c];return{Cov:o,q:H,e:L,L:z,eMq255:U.dot(U.sml(255,H),L),eMq:U.dot(L,H),rgba:(Math.round(255*H[3])<<24|Math.round(255*H[2])<<16|Math.round(255*H[1])<<8|Math.round(255*H[0])<<0)>>>0}}var M={multVec:(l,f)=>[l[0]*f[0]+l[1]*f[1]+l[2]*f[2]+l[3]*f[3],l[4]*f[0]+l[5]*f[1]+l[6]*f[2]+l[7]*f[3],l[8]*f[0]+l[9]*f[1]+l[10]*f[2]+l[11]*f[3],l[12]*f[0]+l[13]*f[1]+l[14]*f[2]+l[15]*f[3]],dot:(l,f)=>l[0]*f[0]+l[1]*f[1]+l[2]*f[2]+l[3]*f[3],sml:(l,f)=>[l*f[0],l*f[1],l*f[2],l*f[3]]};he.encode=function(f,b,A,w,_,v,k){w==null&&(w=0),k==null&&(k=!1);const c=n(f,b,A,w,[!1,!1,!1,0,k,!1]);return y(c,-1),m(c,b,A,_,v)},he.encodeLL=function(f,b,A,w,_,v,k,c){const o={ctype:0+(w==1?0:2)+(_==0?0:4),depth:v,frames:[]},T=(w+_)*v,U=T*b;for(let L=0;L<f.length;L++)o.frames.push({rect:{x:0,y:0,width:b,height:A},img:new Uint8Array(f[L]),blend:0,dispose:1,bpp:Math.ceil(T/8),bpl:Math.ceil(U/8)});return y(o,0,!0),m(o,b,A,k,c)},he.encode.compress=n,he.encode.dither=s,he.quantize=x,he.quantize.getKDtree=E,he.quantize.getNearest=p})();const Xe={toArrayBuffer(S,I){const N=S.width,d=S.height,e=N<<2,t=S.getContext("2d").getImageData(0,0,N,d),u=new Uint32Array(t.data.buffer),s=(32*N+31)/32<<2,m=s*d,y=122+m,n=new ArrayBuffer(y),i=new DataView(n),r=1<<20;let a,h,x,E,p=r,j=0,R=0,F=0;function P(l){i.setUint16(R,l,!0),R+=2}function g(l){i.setUint32(R,l,!0),R+=4}function M(l){R+=l}P(19778),g(y),M(4),g(122),g(108),g(N),g(-d>>>0),P(1),P(32),g(3),g(m),g(2835),g(2835),M(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),(function l(){for(;j<d&&p>0;){for(E=122+j*s,a=0;a<e;)p--,h=u[F++],x=h>>>24,i.setUint32(E+a,h<<8|x),a+=4;j++}F<u.length?(p=r,setTimeout(l,Xe._dly)):I(n)})()},toBlob(S,I){this.toArrayBuffer(S,(N=>{I(new Blob([N],{type:"image/bmp"}))}))},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},vt={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Ke=typeof window<"u",Ye=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ne=Ke&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),bt=(Ke||Ye)&&(Ne&&Ne.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Je=(Ke||Ye)&&(Ne&&Ne.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Ge(S,I,N=Date.now()){return new Promise((d=>{const e=S.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let s=u.length;const m=new Uint8Array(s);for(;s--;)m[s]=u.charCodeAt(s);const y=new Blob([m],{type:t});y.name=I,y.lastModified=N,d(y)}))}function et(S){return new Promise(((I,N)=>{const d=new Je;d.onload=()=>I(d.result),d.onerror=e=>N(e),d.readAsDataURL(S)}))}function tt(S){return new Promise(((I,N)=>{const d=new Image;d.onload=()=>I(d),d.onerror=e=>N(e),d.src=S}))}function Fe(){if(Fe.cachedResult!==void 0)return Fe.cachedResult;let S=fe.ETC;const{userAgent:I}=navigator;return/Chrom(e|ium)/i.test(I)?S=fe.CHROME:/iP(ad|od|hone)/i.test(I)&&/WebKit/i.test(I)?S=fe.IOS:/Safari/i.test(I)?S=fe.DESKTOP_SAFARI:/Firefox/i.test(I)?S=fe.FIREFOX:(/MSIE/i.test(I)||document.documentMode)&&(S=fe.IE),Fe.cachedResult=S,Fe.cachedResult}function rt(S,I){const N=Fe(),d=vt[N];let e=S,t=I,u=e*t;const s=e>t?t/e:e/t;for(;u>d*d;){const m=(d+e)/2,y=(d+t)/2;m<y?(t=y,e=y*s):(t=m*s,e=m),u=e*t}return{width:e,height:t}}function He(S,I){let N,d;try{if(N=new OffscreenCanvas(S,I),d=N.getContext("2d"),d===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{N=document.createElement("canvas"),d=N.getContext("2d")}return N.width=S,N.height=I,[N,d]}function nt(S,I){const{width:N,height:d}=rt(S.width,S.height),[e,t]=He(N,d);return I&&/jpe?g/.test(I)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(S,0,0,e.width,e.height),e}function je(){return je.cachedResult!==void 0||(je.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),je.cachedResult}function De(S,I={}){return new Promise((function(N,d){let e,t;var u=function(){try{return t=nt(e,I.fileType||S.type),N([e,t])}catch(m){return d(m)}},s=function(m){try{var y=function(n){try{throw n}catch(i){return d(i)}};try{let n;return et(S).then((function(i){try{return n=i,tt(n).then((function(r){try{return e=r,(function(){try{return u()}catch(a){return d(a)}})()}catch(a){return y(a)}}),y)}catch(r){return y(r)}}),y)}catch(n){y(n)}}catch(n){return d(n)}};try{if(je()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Fe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(S).then((function(m){try{return e=m,u()}catch{return s()}}),s)}catch{s()}}))}function Oe(S,I,N,d,e=1){return new Promise((function(t,u){let s;if(I==="image/png"){let y,n,i;return y=S.getContext("2d"),{data:n}=y.getImageData(0,0,S.width,S.height),i=he.encode([n.buffer],S.width,S.height,4096*e),s=new Blob([i],{type:I}),s.name=N,s.lastModified=d,m.call(this)}{let y=function(){return m.call(this)};if(I==="image/bmp")return new Promise((n=>Xe.toBlob(S,n))).then((function(n){try{return s=n,s.name=N,s.lastModified=d,y.call(this)}catch(i){return u(i)}}).bind(this),u);{let n=function(){return y.call(this)};if(typeof OffscreenCanvas=="function"&&S instanceof OffscreenCanvas)return S.convertToBlob({type:I,quality:e}).then((function(i){try{return s=i,s.name=N,s.lastModified=d,n.call(this)}catch(r){return u(r)}}).bind(this),u);{let i;return i=S.toDataURL(I,e),Ge(i,N,d).then((function(r){try{return s=r,n.call(this)}catch(a){return u(a)}}).bind(this),u)}}}function m(){return t(s)}}))}function pe(S){S.width=0,S.height=0}function Ce(){return new Promise((function(S,I){let N,d,e,t;return Ce.cachedResult!==void 0?S(Ce.cachedResult):Ge("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return N=u,De(N).then((function(s){try{return d=s[1],Oe(d,N.type,N.name,N.lastModified).then((function(m){try{return e=m,pe(d),De(e).then((function(y){try{return t=y[0],Ce.cachedResult=t.width===1&&t.height===2,S(Ce.cachedResult)}catch(n){return I(n)}}),I)}catch(y){return I(y)}}),I)}catch(m){return I(m)}}),I)}catch(s){return I(s)}}),I)}))}function it(S){return new Promise(((I,N)=>{const d=new Je;d.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return I(-2);const u=t.byteLength;let s=2;for(;s<u;){if(t.getUint16(s+2,!1)<=8)return I(-1);const m=t.getUint16(s,!1);if(s+=2,m==65505){if(t.getUint32(s+=2,!1)!=1165519206)return I(-1);const y=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,y);const n=t.getUint16(s,y);s+=2;for(let i=0;i<n;i++)if(t.getUint16(s+12*i,y)==274)return I(t.getUint16(s+12*i+8,y))}else{if((65280&m)!=65280)break;s+=t.getUint16(s,!1)}}return I(-1)},d.onerror=e=>N(e),d.readAsArrayBuffer(S)}))}function ot(S,I){const{width:N}=S,{height:d}=S,{maxWidthOrHeight:e}=I;let t,u=S;return isFinite(e)&&(N>e||d>e)&&([u,t]=He(N,d),N>d?(u.width=e,u.height=d/N*e):(u.width=N/d*e,u.height=e),t.drawImage(S,0,0,u.width,u.height),pe(S)),u}function at(S,I){const{width:N}=S,{height:d}=S,[e,t]=He(N,d);switch(I>4&&I<9?(e.width=d,e.height=N):(e.width=N,e.height=d),I){case 2:t.transform(-1,0,0,1,N,0);break;case 3:t.transform(-1,0,0,-1,N,d);break;case 4:t.transform(1,0,0,-1,0,d);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,d,0);break;case 7:t.transform(0,-1,-1,0,d,N);break;case 8:t.transform(0,-1,1,0,0,N)}return t.drawImage(S,0,0,N,d),pe(S),e}function Ze(S,I,N=0){return new Promise((function(d,e){let t,u,s,m,y,n,i,r,a,h,x,E,p,j,R,F,P,g,M,l;function f(A=5){if(I.signal&&I.signal.aborted)throw I.signal.reason;t+=A,I.onProgress(Math.min(t,100))}function b(A){if(I.signal&&I.signal.aborted)throw I.signal.reason;t=Math.min(Math.max(A,t),100),I.onProgress(t)}return t=N,u=I.maxIteration||10,s=1024*I.maxSizeMB*1024,f(),De(S,I).then((function(A){try{return[,m]=A,f(),y=ot(m,I),f(),new Promise((function(w,_){var v;if(!(v=I.exifOrientation))return it(S).then((function(c){try{return v=c,k.call(this)}catch(o){return _(o)}}).bind(this),_);function k(){return w(v)}return k.call(this)})).then((function(w){try{return n=w,f(),Ce().then((function(_){try{return i=_?y:at(y,n),f(),r=I.initialQuality||1,a=I.fileType||S.type,Oe(i,a,S.name,S.lastModified,r).then((function(v){try{{let c=function(){if(u--&&(R>s||R>p)){let T,U;return T=l?.95*M.width:M.width,U=l?.95*M.height:M.height,[P,g]=He(T,U),g.drawImage(M,0,0,T,U),r*=a==="image/png"?.85:.95,Oe(P,a,S.name,S.lastModified,r).then((function(L){try{return F=L,pe(M),M=P,R=F.size,b(Math.min(99,Math.floor((j-R)/(j-s)*100))),c}catch(z){return e(z)}}),e)}return[1]},o=function(){return pe(M),pe(P),pe(y),pe(i),pe(m),b(100),d(F)};if(h=v,f(),x=h.size>s,E=h.size>S.size,!x&&!E)return b(100),d(h);var k;return p=S.size,j=h.size,R=j,M=i,l=!I.alwaysKeepResolution&&x,(k=(function(T){for(;T;){if(T.then)return void T.then(k,e);try{if(T.pop){if(T.length)return T.pop()?o.call(this):T;T=c}else T=T.call(this)}catch(U){return e(U)}}}).bind(this))(c)}}catch(c){return e(c)}}).bind(this),e)}catch(v){return e(v)}}).bind(this),e)}catch(_){return e(_)}}).bind(this),e)}catch(w){return e(w)}}).bind(this),e)}))}const yt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let We;function wt(S,I){return new Promise(((N,d)=>{We||(We=(function(u){const s=[];return s.push(u),URL.createObjectURL(new Blob(s))})(yt));const e=new Worker(We);e.addEventListener("message",(function(u){if(I.signal&&I.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return d(new Error(u.data.error)),void e.terminate();N(u.data.file),e.terminate()}else I.onProgress(u.data.progress)})),e.addEventListener("error",d),I.signal&&I.signal.addEventListener("abort",(()=>{d(I.signal.reason),e.terminate()})),e.postMessage({file:S,imageCompressionLibUrl:I.libURL,options:{...I,onProgress:void 0,signal:void 0}})}))}function oe(S,I){return new Promise((function(N,d){let e,t,u,s,m,y;if(e={...I},u=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=a=>{u=a,typeof s=="function"&&s(u)},!(S instanceof Blob||S instanceof bt))return d(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(S.type))return d(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||y)return Ze(S,e).then((function(a){try{return t=a,r.call(this)}catch(h){return d(h)}}).bind(this),d);var n=(function(){try{return r.call(this)}catch(a){return d(a)}}).bind(this),i=function(a){try{return Ze(S,e).then((function(h){try{return t=h,n()}catch(x){return d(x)}}),d)}catch(h){return d(h)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",wt(S,e).then((function(a){try{return t=a,n()}catch{return i()}}),i)}catch{i()}function r(){try{t.name=S.name,t.lastModified=S.lastModified}catch{}try{e.preserveExif&&S.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===S.type)&&(t=Ve(S,t))}catch{}return N(t)}}))}oe.getDataUrlFromFile=et,oe.getFilefromDataUrl=Ge,oe.loadImage=tt,oe.drawImageInCanvas=nt,oe.drawFileInCanvas=De,oe.canvasToFile=Oe,oe.getExifOrientation=it,oe.handleMaxWidthOrHeight=ot,oe.followExifOrientation=at,oe.cleanupCanvasMemory=pe,oe.isAutoOrientationInBrowser=Ce,oe.approximateBelowMaximumCanvasSizeOfBrowser=rt,oe.copyExifWithoutOrientation=Ve,oe.getBrowserName=Fe,oe.version="2.0.2";function Et({className:S=""}){const I=lt().props.auth.user,{data:N,setData:d,post:e,errors:t,processing:u,recentlySuccessful:s}=ct({ktp_photo:null,emergency_contact_name:I.emergency_contact_name||"",emergency_contact_phone:I.emergency_contact_phone||"",emergency_contact_relation:I.emergency_contact_relation||""}),[m,y]=Re.useState(I.ktp_photo?`/storage/${I.ktp_photo}`:null),[n,i]=Re.useState(!1),[r,a]=Re.useState(""),h=Re.useRef(null),x=async p=>{const j=p.target.files[0];if(a(""),j)if(j.size>2*1024*1024){a("Ukuran file KTP terlalu besar. Sistem sedang mengompres otomatis agar kualitas tetap terjaga..."),i(!0);try{const F=await oe(j,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0}),P=new File([F],j.name,{type:F.type||"image/jpeg",lastModified:Date.now()});d("ktp_photo",P),y(URL.createObjectURL(P)),a("Kompresi berhasil. Ukuran foto sekarang optimal."),setTimeout(()=>{a("")},5e3)}catch(R){console.error("Error compressing image:",R),a("Gagal mengompres gambar. Silakan unggah file dengan ukuran lebih kecil (maks. 2MB)."),h.current&&(h.current.value=""),d("ktp_photo",null),y(null)}finally{i(!1)}}else d("ktp_photo",j),y(URL.createObjectURL(j));else d("ktp_photo",null),y(null)},E=p=>{p.preventDefault(),!n&&e(route("profile.documents.update"),{preserveScroll:!0,forceFormData:!0})};return Q.jsxs("section",{className:S,children:[Q.jsxs("header",{children:[Q.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Dokumen & Kontak Darurat"}),Q.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Lengkapi identitas KTP dan data kontak darurat Anda yang bisa dihubungi dalam kondisi mendesak."})]}),Q.jsxs("form",{onSubmit:E,className:"mt-6 space-y-6",children:[Q.jsxs("div",{children:[Q.jsx(Pe,{htmlFor:"ktp_photo",value:"Foto KTP"}),Q.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format didukung: JPG, PNG. Rekomendasi maksimal 10MB (akan dikompres otomatis jika lebih dari 2MB)."}),m&&Q.jsx("div",{className:"mt-2 mb-4",children:Q.jsx("img",{src:m,alt:"KTP Preview",className:`max-w-xs rounded-lg border border-gray-300 shadow-sm transition-opacity duration-300 ${n?"opacity-50":"opacity-100"}`})}),r&&Q.jsxs("div",{className:`mt-2 mb-4 text-sm px-4 py-3 rounded-xl flex items-start gap-3 border shadow-sm ${r.includes("Gagal")?"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-900/30":r.includes("berhasil")?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-900/30":"bg-yellow-50 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-900/30"}`,children:[n?Q.jsxs("svg",{className:"animate-spin h-5 w-5 text-current shrink-0 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Q.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Q.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):r.includes("berhasil")?Q.jsx("svg",{className:"h-5 w-5 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):Q.jsx("svg",{className:"h-5 w-5 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Q.jsx("span",{className:"font-medium leading-relaxed",children:r})]}),Q.jsx("input",{type:"file",id:"ktp_photo",ref:h,onChange:x,accept:"image/*",capture:"environment",disabled:n,className:`mt-1 block w-full text-sm text-gray-700 dark:text-gray-300 border border-gray-400 dark:border-gray-500 rounded-xl bg-white/50 dark:bg-gray-900/50 shadow-sm file:mr-4 file:py-2 file:px-4 file:rounded-l-xl file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300 transition-all duration-300 ${n?"opacity-50 cursor-not-allowed":""}`}),Q.jsx(Te,{className:"mt-2",message:t.ktp_photo})]}),Q.jsxs("div",{children:[Q.jsx(Pe,{htmlFor:"emergency_contact_name",value:"Nama Kontak Darurat"}),Q.jsx(Qe,{id:"emergency_contact_name",className:"mt-1 block w-full",value:N.emergency_contact_name,onChange:p=>d("emergency_contact_name",p.target.value),required:!0}),Q.jsx(Te,{className:"mt-2",message:t.emergency_contact_name})]}),Q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[Q.jsxs("div",{children:[Q.jsx(Pe,{htmlFor:"emergency_contact_phone",value:"No. Telepon Kontak Darurat"}),Q.jsx(Qe,{id:"emergency_contact_phone",className:"mt-1 block w-full",value:N.emergency_contact_phone,onChange:p=>d("emergency_contact_phone",p.target.value),required:!0}),Q.jsx(Te,{className:"mt-2",message:t.emergency_contact_phone})]}),Q.jsxs("div",{children:[Q.jsx(Pe,{htmlFor:"emergency_contact_relation",value:"Hubungan Keluarga"}),Q.jsx(Qe,{id:"emergency_contact_relation",className:"mt-1 block w-full",value:N.emergency_contact_relation,onChange:p=>d("emergency_contact_relation",p.target.value),required:!0,placeholder:"Contoh: Suami/Istri, Orang Tua, Saudara"}),Q.jsx(Te,{className:"mt-2",message:t.emergency_contact_relation})]})]}),Q.jsxs("div",{className:"flex items-center gap-4",children:[Q.jsx(ut,{disabled:u||n,children:n?"Menyimpan...":"Simpan Dokumen"}),Q.jsx(dt,{show:s,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:Q.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Tersimpan."})})]})]})]})}export{Et as default};

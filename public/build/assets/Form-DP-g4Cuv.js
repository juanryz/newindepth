import{u as _,j as e,H as C,L as m}from"./app-CM1Y6LTV.js";import{A as P}from"./AuthenticatedLayout-Dl4Dk0q9.js";import{I as d}from"./InputError-BQToVfe0.js";import{I as n}from"./InputLabel-C6WJAqK4.js";import{T as i}from"./TextInput-DM6KsWeU.js";import{U as g}from"./user-DCxmFUJ4.js";import{M as A}from"./mail-BIo-qaiE.js";import{P as x}from"./phone-B3mQH2l8.js";import{C as F}from"./circle-alert-yIlwcXNW.js";import{c as h}from"./createLucideIcon-DIkDG3cp.js";import{S}from"./shield-Cmaf5CVf.js";import{S as K}from"./save-D4GzRTGF.js";import{C as T}from"./chevron-left-Bpu6nXF9.js";import"./transition-CEtJQUh1.js";import"./ThemeToggle-BMQkgMfp.js";import"./LiquidBackground-BWBex_Uv.js";const L=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],I=h("contact",L);const U=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],p=h("lock",U);function Y({userModel:s,roles:u,userRoles:b}){const o=!!s.id,{data:r,setData:t,post:y,put:f,processing:k,errors:l}=_({name:s.name||"",email:s.email||"",phone:s.phone||"",emergency_contact_name:s.emergency_contact_name||"",emergency_contact_phone:s.emergency_contact_phone||"",emergency_contact_relation:s.emergency_contact_relation||"",password:"",password_confirmation:"",roles:b||[]}),w=a=>{const{value:c,checked:N}=a.target;N?t("roles",[...r.roles,c]):t("roles",r.roles.filter(v=>v!==c))},j=a=>{a.preventDefault(),o?f(route("admin.users.update",s.id)):y(route("admin.users.store"))};return e.jsxs(P,{header:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(m,{href:route("admin.users.index"),className:"p-2 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 text-gray-400 hover:text-indigo-600 transition-colors shadow-sm",children:e.jsx(T,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900 dark:text-white uppercase tracking-tight",children:o?"Perbarui Profil Pengguna":"Tambah Pengguna Baru"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest mt-1",children:o?`Mengelola Akun: ${s.name}`:"Mendaftarkan Anggota Tim Atau Pasien Baru"})]})]}),children:[e.jsx(C,{title:o?"Edit User":"Tambah User"}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)]",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:j,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 rounded-2xl",children:e.jsx(g,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Informasi Pribadi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nama Lengkap"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"name",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.name,onChange:a=>t("name",a.target.value),required:!0}),e.jsx(g,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx(d,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Alamat Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"email",type:"email",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.email,onChange:a=>t("email",a.target.value),required:!0}),e.jsx(A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx(d,{message:l.email,className:"mt-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"phone",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nomor Telepon / WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"phone",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.phone,onChange:a=>t("phone",a.target.value),placeholder:"Contoh: 081234567890"}),e.jsx(x,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx(d,{message:l.phone,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-rose-50 dark:bg-rose-900/40 text-rose-600 dark:text-rose-400 rounded-2xl",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Kontak Darurat (Opsional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"emergency_contact_name",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nama Kontak"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"emergency_contact_name",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.emergency_contact_name,onChange:a=>t("emergency_contact_name",a.target.value)}),e.jsx(I,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"emergency_contact_phone",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Nomor Telepon"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"emergency_contact_phone",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.emergency_contact_phone,onChange:a=>t("emergency_contact_phone",a.target.value)}),e.jsx(x,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(n,{htmlFor:"emergency_contact_relation",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Hubungan"}),e.jsx(i,{id:"emergency_contact_relation",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl px-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.emergency_contact_relation,onChange:a=>t("emergency_contact_relation",a.target.value),placeholder:"Contoh: Orang Tua, Saudara Kandung, Teman"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400 rounded-2xl",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-[0.2em]",children:"Keamanan & Akses"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:o?"Ubah Kata Sandi (Opsional)":"Kata Sandi"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"password",type:"password",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.password,onChange:a=>t("password",a.target.value),autoComplete:"new-password"}),e.jsx(p,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsx(d,{message:l.password,className:"mt-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"password_confirmation",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Konfirmasi Kata Sandi"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"password_confirmation",type:"password",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl pl-12 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:r.password_confirmation,onChange:a=>t("password_confirmation",a.target.value),autoComplete:"new-password"}),e.jsx(p,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1",children:"Pilih Hak Akses (Roles)"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] p-6 border border-gray-100 dark:border-gray-800 space-y-3",children:u.map(a=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all ${r.roles.includes(a.name)?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-700 text-gray-500 hover:border-indigo-200"}`,children:[e.jsx("input",{type:"checkbox",className:"hidden",value:a.name,checked:r.roles.includes(a.name),onChange:w}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${r.roles.includes(a.name)?"border-white bg-white":"border-gray-300"}`,children:r.roles.includes(a.name)&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600"})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:a.name.replace(/_/g," ")})]},a.id))}),e.jsx(d,{message:l.roles,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-900 p-6 rounded-[2rem] shadow-xl border border-white dark:border-gray-800 sticky bottom-8",children:[e.jsx(m,{href:route("admin.users.index"),className:"text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-gray-600 transition-colors px-6",children:"Batal & Kembali"}),e.jsxs("button",{type:"submit",disabled:k,className:"flex items-center gap-3 px-8 py-4 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-600/20 active:scale-95 disabled:opacity-50",children:[e.jsx(K,{className:"w-4 h-4"}),o?"Simpan Perubahan":"Daftarkan Pengguna"]})]})]})})})]})}export{Y as default};

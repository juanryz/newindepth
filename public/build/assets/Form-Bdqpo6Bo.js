import{u as v,j as e,H as y,L as b}from"./app-WoilwJwa.js";import{A as k}from"./AuthenticatedLayout-CehOtvU9.js";import{I as m}from"./InputError-CddihTpc.js";import{I as o}from"./InputLabel-BoYkBTjc.js";import{P as N}from"./PrimaryButton-jPrvlK5a.js";import{T as l}from"./TextInput-D7AUevCi.js";import"./transition-BM2xG6_k.js";import"./ThemeToggle-DVG_byXM.js";function L({userModel:i,roles:c,userRoles:u}){const r=!!i.id,{data:s,setData:t,post:p,put:x,processing:g,errors:d}=v({name:i.name||"",email:i.email||"",password:"",password_confirmation:"",roles:u||[]}),h=a=>{const{value:n,checked:j}=a.target;j?t("roles",[...s.roles,n]):t("roles",s.roles.filter(w=>w!==n))},f=a=>{a.preventDefault(),r?x(route("admin.users.update",i.id)):p(route("admin.users.store"))};return e.jsxs(k,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:r?"Edit User":"Tambah User Baru"}),children:[e.jsx(y,{title:r?"Edit User":"Tambah User"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",value:"Nama Lengkap"}),e.jsx(l,{id:"name",type:"text",name:"name",value:s.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,onChange:a=>t("name",a.target.value),required:!0}),e.jsx(m,{message:d.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",value:"Email"}),e.jsx(l,{id:"email",type:"email",name:"email",value:s.email,className:"mt-1 block w-full",autoComplete:"username",onChange:a=>t("email",a.target.value),required:!0}),e.jsx(m,{message:d.email,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password",value:r?"Password Baru (Kosongkan jika tidak diubah)":"Password"}),e.jsx(l,{id:"password",type:"password",name:"password",value:s.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>t("password",a.target.value),required:!r}),e.jsx(m,{message:d.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"password_confirmation",value:"Konfirmasi Password"}),e.jsx(l,{id:"password_confirmation",type:"password",name:"password_confirmation",value:s.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>t("password_confirmation",a.target.value),required:!r&&s.password!==""})]})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Akses & Roles (Role)"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-md border border-gray-200 dark:border-gray-600",children:c.map(a=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"roles[]",value:a.name,checked:s.roles.includes(a.name),onChange:h,className:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:a.name.replace("_"," ")})]},a.id))}),e.jsx(m,{message:d.roles,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 space-x-3 gap-3",children:[e.jsx(b,{href:route("admin.users.index"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),e.jsx(N,{disabled:g,children:r?"Simpan Perubahan":"Buat User"})]})]})})})})]})}export{L as default};

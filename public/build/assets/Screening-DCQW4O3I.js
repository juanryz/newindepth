import{a as V,r as c,j as e,H,b as Y,f as J}from"./app-7VUgG5_d.js";import{A as I}from"./AuthenticatedLayout-y0hcZLIi.js";import"./transition-BKLBwnF-.js";import"./ThemeToggle-BbIlZNpb.js";import"./LiquidBackground-CS_M1rwF.js";const Q={Ringan:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300",Sedang:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-300","Berat Akut":"bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300","Berat Kronis":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300","High Risk":"bg-red-200 text-red-900 dark:bg-red-900/60 dark:text-red-200"},X=["bunuh diri","mau mati","ingin mati","tidak mau hidup","mengakhiri hidup","bisikan","suara yang menyuruh","putus asa","tidak ada harapan","self harm","menyakiti diri"],Z=t=>{const n=t.toLowerCase();return X.some(a=>n.includes(a))};function ee({current:t,total:n}){return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-2",children:[e.jsxs("span",{children:["Langkah ",t," dari ",n]}),e.jsxs("span",{children:[Math.round(t/n*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${t/n*100}%`}})})]})}function D({text:t,typing:n=!1}){return e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold shadow-md",children:"AI"}),e.jsx("div",{className:"max-w-xl bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl rounded-tl-none px-4 py-3 shadow-sm text-gray-800 dark:text-gray-100 text-sm leading-relaxed",children:n?e.jsxs("span",{className:"flex gap-1 items-center h-4",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):t})]})}function ae({text:t}){return e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx("div",{className:"max-w-xl bg-indigo-600 text-white rounded-2xl rounded-tr-none px-4 py-3 shadow-sm text-sm leading-relaxed",children:t})})}function te(){return e.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-xl flex gap-3 items-start",children:[e.jsx("span",{className:"text-2xl",children:"üÜò"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 text-sm",children:"Kami peduli dengan keselamatan Anda"}),e.jsxs("p",{className:"text-red-600 dark:text-red-300 text-sm mt-1",children:["Tim kami akan segera menghubungi Anda secara prioritas. Jika Anda membutuhkan bantuan segera, hubungi ",e.jsx("strong",{children:"ke WhatsApp 0822-2080-0034"}),"."]})]})]})}const re=["Pikiran (cemas, overthinking)","Perasaan (sedih, marah, takut)","Mental (depresi, mood disorder)","Psikosomatis","Halusinasi / gangguan persepsi","Obesitas","Pengembangan diri"],ne=["Konsultasi psikolog","Konsultasi psikiater","Obat medis","Terapi alternatif","Konseling agama","Diet / olahraga","Self healing / motivasi","Belum pernah melakukan apa pun"];function we(){const{prefill:t={},screeningResult:n}=V().props,[a,s]=c.useState(1),[r,i]=c.useState({nama:t.nama||"",email:t.email||"",wa:t.wa||""}),[x,b]=c.useState([]),[m,l]=c.useState(!1),[S,f]=c.useState({}),[R,A]=c.useState(!1),[C,_]=c.useState(!1),T={nama:!!t.nama,email:!!t.email,wa:!!t.wa},L=c.useRef(null),M={1:"Halo üëã Selamat datang di InDepth Mental Wellness. Saya akan menemani Anda melalui proses skrining singkat ini. Mari kita mulai dengan data diri Anda.",2:"Terima kasih. Sekarang, tolong ceritakan ‚Äî apa masalah utama yang ingin Anda atasi? Anda bisa memilih lebih dari satu.",3:"Baik. Seberapa besar kondisi ini mengganggu kehidupan sehari-hari Anda? Geser slider di bawah sesuai perasaan Anda (1 = sangat ringan, 10 = sangat parah).",4:"Sudah berapa lama Anda mengalami kondisi ini?",5:"Untuk membantu kami lebih memahami, berapakah estimasi kelebihan berat badan Anda?",6:"Apakah Anda pernah mendapatkan diagnosis dari profesional kesehatan sebelumnya?",7:"Apakah saat ini Anda masih dalam perawatan atau pengobatan?",8:"Upaya apa yang sudah pernah Anda lakukan untuk mengatasi kondisi ini?",9:"Sekarang, ceritakan kepada saya ‚Äî apa yang paling Anda rasakan atau alami saat ini? Tidak perlu terstruktur, tulis saja apa yang ada di hati Anda.",10:"Hampir selesai üåü Apa yang ingin Anda capai setelah menjalani program terapi bersama kami? Apa harapan Anda?"};c.useEffect(()=>{M[a]&&!S[a]&&setTimeout(()=>{f(d=>({...d,[a]:[{role:"assistant",content:M[a]}]}))},300),L.current?.scrollIntoView({behavior:"smooth"})},[a]);const u=(d,o)=>{i(g=>({...g,[d]:o}))},z=(d,o)=>{i(g=>{const p=Array.isArray(g[d])?g[d]:[];return{...g,[d]:p.includes(o)?p.filter(w=>w!==o):[...p,o]}})},B=async(d,o)=>{if(!d.trim())return;Z(d)&&A(!0);const g=x,p={role:"user",content:d},w=[...g,p];f(h=>({...h,[a]:[...h[a]||[],p]})),l(!0);try{const h=await J.post(route("screening.chat"),{message:d,history:w}),k={role:"assistant",content:h.data.reply},q=[...w,k];b(q),h.data.is_high_risk&&A(!0),f(P=>({...P,[a]:[...P[a]||[],k]}))}catch{const h={role:"assistant",content:"Terima kasih telah berbagi. Kami mendengar Anda."};f(k=>({...k,[a]:[...k[a]||[],h]}))}finally{l(!1)}},K=()=>{switch(a){case 1:return r.nama&&r.gender&&r.usia&&r.wa&&r.email&&(!(parseInt(r.usia)<17)||r.izin_wali);case 2:return!!r.masalah_utama;case 3:return r.skala!=null;case 4:return!!r.durasi;case 5:return!!r.obesitas_kg;case 6:return!!r.diagnosis;case 7:return!!r.status_perawatan;case 8:return Array.isArray(r.usaha)&&r.usaha.length>0;case 9:return!!r.detail_masalah;case 10:return!!r.outcome;default:return!0}},j=()=>r.masalah_utama==="Obesitas",U=d=>d===4&&!j()?6:d+1,W=d=>d===6&&!j()?4:d-1,E=()=>{_(!0),Y.post(route("screening.store"),{step_data:r,chat_history:x},{onError:()=>_(!1)})},O=()=>{const d=S[a]||[];return e.jsxs("div",{className:"space-y-4",children:[d.map((o,g)=>o.role==="assistant"?e.jsx(D,{text:o.content},g):e.jsx(ae,{text:o.content},g)),m&&e.jsx(D,{typing:!0}),R&&e.jsx(te,{}),e.jsxs("div",{className:"mt-4",children:[a===1&&e.jsx(de,{data:r,update:u,autofilled:T}),a===2&&e.jsx(le,{data:r,update:u}),a===3&&e.jsx(oe,{data:r,update:u}),a===4&&e.jsx(ce,{data:r,update:u}),a===5&&e.jsx(ge,{data:r,update:u}),a===6&&e.jsx(xe,{data:r,update:u}),a===7&&e.jsx(ue,{data:r,update:u}),a===8&&e.jsx(me,{data:r,toggleMulti:z}),a===9&&e.jsx(he,{data:r,update:u,onSendAi:o=>B(o)}),a===10&&e.jsx(pe,{data:r,update:u,onSendAi:o=>B(o)})]}),e.jsx("div",{ref:L})]})},[v,$]=c.useState(!1);if(n){const d=Q[n.severity_label]??"bg-indigo-100 text-indigo-800",o=n.recommended_package?n.recommended_package==="vip"?"VIP":n.recommended_package.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase()):null;return e.jsxs(I,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Hasil Skrining Klinis"}),children:[e.jsx(H,{title:"Hasil Skrining"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-8 sm:p-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-green-100 dark:bg-green-900/40 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Skrining Selesai"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ringkasan hasil analisis kesehatan mental Anda"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10",children:[e.jsxs("div",{className:"p-6 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-gray-100 dark:border-gray-700",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Tingkat Keparahan"}),e.jsx("div",{className:`inline-flex items-center px-3 py-1.5 rounded-xl text-sm font-bold ${d}`,children:n.severity_label})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-gray-100 dark:border-gray-700",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Rekomendasi Paket"}),e.jsx("div",{className:"inline-flex items-center px-3 py-1.5 rounded-xl text-sm font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900/40 dark:text-indigo-300",children:o||"Hipnoterapi"})]})]}),n.ai_summary&&e.jsxs("div",{className:"mb-10",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Analisis AI InDepth"]}),e.jsxs("div",{className:"relative p-6 bg-indigo-50/50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/30 rounded-2xl",children:[e.jsx("p",{className:`text-gray-700 dark:text-gray-300 leading-relaxed ${v?"":"line-clamp-6"}`,children:n.ai_summary}),n.ai_summary.length>400&&e.jsx("button",{onClick:()=>$(!v),className:"mt-4 text-sm font-bold text-indigo-600 dark:text-indigo-400 hover:underline",children:v?"Sembunyikan":"Baca analisis lengkap..."})]})]})]})})})})]})}const F=j()?10:9,G=a>5&&!j()?a-1:a;return e.jsxs(I,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Skrining Klinis InDepth"}),children:[e.jsx(H,{title:"Skrining Klinis"}),e.jsx("div",{className:"py-10",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsx(ee,{current:G,total:F}),e.jsx("div",{className:"min-h-[300px]",children:O()}),e.jsxs("div",{className:"mt-8 flex justify-between items-center border-t border-gray-100 dark:border-gray-700/50 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>s(W(a)),disabled:a===1,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 disabled:opacity-30 hover:text-gray-900 dark:hover:text-white transition-colors",children:"‚Üê Sebelumnya"}),a<10?e.jsx("button",{type:"button",onClick:()=>s(U(a)),disabled:!K(),className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-40 text-white font-semibold rounded-xl text-sm transition-colors shadow",children:"Selanjutnya ‚Üí"}):e.jsx("button",{type:"button",onClick:E,disabled:!K()||C,className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 disabled:opacity-40 text-white font-semibold rounded-xl text-sm transition-colors shadow",children:C?"Menyimpan...":"‚úÖ Selesai & Lihat Rekomendasi"})]})]})})})]})}function se({label:t,type:n="text",value:a,onChange:s,required:r}){return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[t,r&&" *"]}),e.jsx("input",{type:n,value:a||"",onChange:i=>s(i.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"})]})}function N({label:t,type:n="text",value:a,onChange:s,required:r,autoFilled:i=!1}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[t,r&&" *"]}),i&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}),"otomatis"]})]}),e.jsx("input",{type:n,value:a||"",onChange:x=>s(x.target.value),className:`w-full px-4 py-2.5 rounded-xl border text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${i?"border-green-300 dark:border-green-700 bg-green-50/50 dark:bg-green-900/10":"border-gray-200 dark:border-gray-600"}`})]})}function y({options:t,value:n,onChange:a}){return e.jsx("div",{className:"space-y-2",children:t.map(s=>e.jsxs("label",{className:`flex items-center gap-3 p-3.5 rounded-xl border cursor-pointer transition-all text-sm ${n===s?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300":"border-gray-200 dark:border-gray-600 hover:border-indigo-300 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("input",{type:"radio",checked:n===s,onChange:()=>a(s),className:"text-indigo-600 accent-indigo-600"}),s]},s))})}function ie({options:t,values:n,toggle:a}){const s=Array.isArray(n)?n:[];return e.jsx("div",{className:"space-y-2",children:t.map(r=>e.jsxs("label",{className:`flex items-center gap-3 p-3.5 rounded-xl border cursor-pointer transition-all text-sm ${s.includes(r)?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300":"border-gray-200 dark:border-gray-600 hover:border-indigo-300 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:s.includes(r),onChange:()=>a(r),className:"accent-indigo-600 rounded"}),r]},r))})}function de({data:t,update:n,autofilled:a={}}){const s=t.usia&&parseInt(t.usia)<17;return e.jsxs("div",{className:"space-y-4",children:[(a.nama||a.email||a.wa)&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 text-xs text-green-700 dark:text-green-400",children:[e.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Beberapa data telah diisi otomatis dari akun Anda. Silakan periksa dan ubah jika diperlukan."]}),e.jsx(N,{label:"Nama Lengkap",value:t.nama,onChange:r=>n("nama",r),autoFilled:a.nama,required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Jenis Kelamin *"}),e.jsx("div",{className:"flex gap-3",children:["Laki-laki","Perempuan"].map(r=>e.jsx("button",{type:"button",onClick:()=>n("gender",r),className:`flex-1 py-2.5 rounded-xl border text-sm font-medium transition-all ${t.gender===r?"border-indigo-500 bg-indigo-500 text-white":"border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-indigo-300"}`,children:r},r))})]}),e.jsx(se,{label:"Usia",type:"number",value:t.usia,onChange:r=>n("usia",r),required:!0}),s&&e.jsxs("label",{className:"flex items-start gap-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 rounded-xl text-sm text-yellow-800 dark:text-yellow-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!t.izin_wali,onChange:r=>n("izin_wali",r.target.checked),className:"mt-0.5 accent-yellow-600"}),"Saya mendapat izin dari orang tua / wali untuk mengikuti skrining ini *"]}),e.jsx(N,{label:"Nomor WhatsApp",type:"tel",value:t.wa,onChange:r=>n("wa",r),autoFilled:a.wa,required:!0}),e.jsx(N,{label:"Email",type:"email",value:t.email,onChange:r=>n("email",r),autoFilled:a.email,required:!0})]})}function le({data:t,update:n}){return e.jsx(y,{options:re,value:t.masalah_utama,onChange:a=>n("masalah_utama",a)})}function oe({data:t,update:n}){const a=t.skala??5,r=(i=>i<=3?{text:"Ringan",color:"text-green-600"}:i<=6?{text:"Sedang",color:"text-yellow-600"}:i<=8?{text:"Berat",color:"text-orange-600"}:{text:"Sangat Berat",color:"text-red-600"})(a);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"1 = Sangat Ringan"}),e.jsxs("span",{className:`text-2xl font-bold ${r.color}`,children:[a," ",e.jsxs("span",{className:"text-base",children:["‚Äî ",r.text]})]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"10 = Sangat Parah"})]}),e.jsx("input",{type:"range",min:1,max:10,value:a,onChange:i=>n("skala",parseInt(i.target.value)),className:"w-full accent-indigo-600 cursor-pointer"}),e.jsx("div",{className:"flex justify-between text-xs text-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(i=>e.jsx("span",{children:i},i))})]})}function ce({data:t,update:n}){return e.jsx(y,{options:["< 1 bulan","1‚Äì6 bulan","6‚Äì12 bulan","1‚Äì3 tahun","> 3 tahun"],value:t.durasi,onChange:a=>n("durasi",a)})}function ge({data:t,update:n}){return e.jsx(y,{options:["0‚Äì10 kg","10‚Äì20 kg","> 20 kg"],value:t.obesitas_kg,onChange:a=>n("obesitas_kg",a)})}function xe({data:t,update:n}){const a=t.diagnosis&&t.diagnosis!=="Tidak pernah"&&t.diagnosis!=="Tidak pernah didiagnosis";return e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{options:["Tidak pernah didiagnosis","Pernah ‚Äî oleh Dokter Umum","Pernah ‚Äî oleh Psikolog","Pernah ‚Äî oleh Psikiater","Pernah ‚Äî oleh Spesialis Lain"],value:t.diagnosis,onChange:s=>n("diagnosis",s)}),a&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tuliskan hasil diagnosisnya (opsional)"}),e.jsx("textarea",{rows:3,value:t.hasil_diagnosis||"",onChange:s=>n("hasil_diagnosis",s.target.value),placeholder:"Contoh: Gangguan kecemasan umum (GAD)...",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"})]})]})}function ue({data:t,update:n}){return e.jsx(y,{options:["Ya, masih dalam perawatan","Tidak, sudah tidak dalam perawatan"],value:t.status_perawatan,onChange:a=>n("status_perawatan",a)})}function me({data:t,toggleMulti:n}){return e.jsx(ie,{options:ne,values:t.usaha,toggle:a=>n("usaha",a)})}function he({data:t,update:n,onSendAi:a}){const[s,r]=c.useState(!1),[i,x]=c.useState(""),b=()=>{t.detail_masalah?.trim()&&(a(t.detail_masalah),r(!0))},m=()=>{i.trim()&&(a(i),x(""))};return e.jsxs("div",{className:"space-y-3",children:[!s&&e.jsx("textarea",{rows:5,value:t.detail_masalah||"",onChange:l=>n("detail_masalah",l.target.value),placeholder:"Ceritakan apa yang Anda rasakan, kapan bermula, dan bagaimana kondisi ini memengaruhi hidup Anda...",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"}),!s&&t.detail_masalah?.trim()&&e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3.5 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl leading-none",children:"üí¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-indigo-800 dark:text-indigo-300",children:"Yuk ngobrol dengan Agent kami"}),e.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-0.5",children:"untuk memahami dirimu lebih lanjut"})]})]}),e.jsxs("button",{type:"button",onClick:b,className:"flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded-xl transition-colors shadow",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Mulai Ngobrol"]})]}),s&&e.jsxs("div",{className:"flex gap-2 items-end pt-1",children:[e.jsx("input",{type:"text",value:i,onChange:l=>x(l.target.value),onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),m())},placeholder:"Ketik pesan lanjutan...",className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"}),e.jsx("button",{type:"button",onClick:m,disabled:!i.trim(),className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 disabled:opacity-40 text-white rounded-xl transition-colors shadow",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}function pe({data:t,update:n,onSendAi:a}){const[s,r]=c.useState(!1),[i,x]=c.useState(""),b=()=>{t.outcome?.trim()&&(a(t.outcome),r(!0))},m=()=>{i.trim()&&(a(i),x(""))};return e.jsxs("div",{className:"space-y-3",children:[!s&&e.jsx("textarea",{rows:4,value:t.outcome||"",onChange:l=>n("outcome",l.target.value),placeholder:"Apa yang ingin Anda capai setelah program terapi? Seperti apa kondisi ideal yang Anda impikan?",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"}),!s&&t.outcome?.trim()&&e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3.5 rounded-xl bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl leading-none",children:"üåü"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-300",children:"Yuk ngobrol dengan Agent kami"}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-0.5",children:"untuk memahami harapanmu lebih lanjut"})]})]}),e.jsxs("button",{type:"button",onClick:b,className:"flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold rounded-xl transition-colors shadow",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Mulai Ngobrol"]})]}),s&&e.jsxs("div",{className:"flex gap-2 items-end pt-1",children:[e.jsx("input",{type:"text",value:i,onChange:l=>x(l.target.value),onKeyDown:l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),m())},placeholder:"Ketik pesan lanjutan...",className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),e.jsx("button",{type:"button",onClick:m,disabled:!i.trim(),className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-purple-600 hover:bg-purple-700 disabled:opacity-40 text-white rounded-xl transition-colors shadow",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}export{we as default};

import{u as j,j as e}from"./app-B5FlPUyC.js";function S({therapists:g,onSuccess:b}){const{data:s,setData:r,post:h,processing:m,errors:a,reset:k,transform:f}=j({schedule_type:"consultation",date:"",session:"",start_time:"",end_time:"",therapist_id:""}),c=[{id:"1",name:"Sesi 1 (08:00 - 10:00)",start:"08:00",end:"10:00"},{id:"2",name:"Sesi 2 (10:00 - 12:00)",start:"10:00",end:"12:00"},{id:"3",name:"Sesi 3 (13:00 - 15:00)",start:"13:00",end:"15:00"},{id:"4",name:"Sesi 4 (17:00 - 19:00)",start:"17:00",end:"19:00"},{id:"5",name:"Sesi 5 (19:00 - 21:00)",start:"19:00",end:"21:00"},{id:"custom",name:"Waktu Custom",start:"",end:""}],x=()=>{const t=new Date,i=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${i}-${l}-${n}`},d=()=>{const t=new Date;return String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")},o=s.date===x(),p=c.filter(t=>t.id==="custom"||!o?!0:t.start>d()),w=t=>{const i=t.target.value;if(r("date",i),i===x()&&s.session&&s.session!=="custom"){const l=c.find(n=>n.id===s.session);l&&l.start<=d()&&r("session","")}},v=t=>{t.preventDefault();const i=c.find(u=>u.id===s.session);if(!i)return;let l=i.start,n=i.end;s.session==="custom"&&(l=s.start_time,n=s.end_time),f(u=>({...u,start_time:l,end_time:n})),h(route("admin.schedules.store"),{onSuccess:()=>{k(),b?.()}})};return e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Jenis Jadwal"}),e.jsxs("select",{value:s.schedule_type,onChange:t=>r("schedule_type",t.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 text-sm font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-500/10 transition-all appearance-none",required:!0,children:[e.jsx("option",{value:"consultation",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-800",children:"ðŸ‘¤ Konsultasi Pasien"}),e.jsx("option",{value:"class",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-800",children:"ðŸŽ“ Kelas / Kelompok"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Pilih Terapis"}),e.jsxs("select",{value:s.therapist_id,onChange:t=>r("therapist_id",t.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 text-sm font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-500/10 transition-all appearance-none",required:!0,children:[e.jsx("option",{value:"",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-800",children:"Pilih Terapis..."}),g.map(t=>e.jsx("option",{value:t.id,className:"text-slate-900 dark:text-white bg-white dark:bg-slate-800",children:t.name},t.id))]}),a.therapist_id&&e.jsx("div",{className:"text-rose-500 text-[10px] font-black mt-1 ml-1 uppercase",children:a.therapist_id})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Tanggal"}),e.jsx("input",{type:"date",value:s.date,onChange:w,className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 text-sm font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-500/10 transition-all",required:!0,min:x()}),a.date&&e.jsx("div",{className:"text-rose-500 text-[10px] font-black mt-1 ml-1 uppercase",children:a.date})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Sesi Waktu"}),e.jsxs("select",{value:s.session,onChange:t=>r("session",t.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 text-sm font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-500/10 transition-all appearance-none",required:!0,children:[e.jsx("option",{value:"",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-800",children:"Pilih Sesi..."}),p.map(t=>e.jsx("option",{value:t.id,className:"text-slate-900 dark:text-white bg-white dark:bg-slate-800",children:t.name},t.id))]}),a.session&&e.jsx("div",{className:"text-rose-500 text-[10px] font-black mt-1 ml-1 uppercase",children:a.session}),o&&p.filter(t=>t.id!=="custom").length===0&&e.jsx("div",{className:"text-amber-500 text-[10px] font-black mt-1 ml-1 uppercase",children:"âš ï¸ Semua sesi hari ini sudah lewat. Pilih tanggal besok atau gunakan Waktu Custom."})]})]}),s.session==="custom"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Waktu Mulai"}),e.jsx("input",{type:"time",value:s.start_time,onChange:t=>r("start_time",t.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 text-sm font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-500/10 transition-all",required:s.session==="custom",min:o?d():void 0}),a.start_time&&e.jsx("div",{className:"text-rose-500 text-[10px] font-black mt-1 ml-1 uppercase",children:a.start_time})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1",children:"Waktu Selesai"}),e.jsx("input",{type:"time",value:s.end_time,onChange:t=>r("end_time",t.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl px-5 py-4 text-sm font-bold text-slate-900 dark:text-white focus:ring-4 focus:ring-indigo-500/10 transition-all",required:s.session==="custom",min:s.start_time||(o?d():void 0)}),a.end_time&&e.jsx("div",{className:"text-rose-500 text-[10px] font-black mt-1 ml-1 uppercase",children:a.end_time})]})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-5 bg-gradient-to-r from-indigo-600 to-indigo-400 text-white rounded-[1.5rem] font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl shadow-indigo-600/20 active:scale-95 disabled:opacity-50 transition-all mt-4",children:m?"Memproses...":"Simpan Slot Jadwal"})]})}export{S as default};

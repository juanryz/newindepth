import{r as b,u as _,j as e,H as $,L as U,b as w}from"./app-dZcj-jJS.js";import{A as O}from"./AuthenticatedLayout-BJpXd8W5.js";import{M as N,S as v}from"./SecondaryButton-CzioHQzd.js";import{I as d}from"./InputLabel-CaL2BUO-.js";import{T as S}from"./TextInput-FCvrkRIw.js";import"./transition-DROBJXJm.js";import"./ThemeToggle-JioqjgUe.js";import"./LiquidBackground-DtzRno0m.js";import"./with-selector-CugCX91D.js";function se({schedule:t,availableSchedules:M,patients:A=[]}){const[g,p]=b.useState(null),[m,l]=b.useState(null),[T,h]=b.useState(!1),{data:s,setData:c,post:H,processing:k,reset:I}=_({new_schedule_id:"",new_date:"",new_start_time:"",new_end_time:"",reschedule_reason:""}),{data:o,setData:P,post:K,processing:y,reset:C}=_({no_show_party:"cancel",no_show_reason:""}),{data:D,setData:B,post:R,processing:j,reset:q,errors:u}=_({patient_id:"",package_type:"reguler",schedule_id:t.id}),[x,z]=b.useState(()=>{const a={};return t.bookings?.forEach(r=>{a[r.id]={recording_link:r.recording_link||"",therapist_notes:r.therapist_notes||""}}),a}),L=(a,r,i)=>{z(n=>({...n,[a]:{...n[a],[r]:i}}))},W=a=>{const r=x[a];w.patch(route("admin.bookings.update-details",a),{recording_link:r.recording_link,therapist_notes:r.therapist_notes},{preserveScroll:!0})},F=a=>{a.preventDefault(),H(route("admin.bookings.reschedule",g.id),{onSuccess:()=>{p(null),I()},preserveScroll:!0})},E=a=>{a.preventDefault(),o.no_show_party==="cancel"?w.post(route("admin.bookings.cancel",m.id),{},{onSuccess:()=>{l(null),C()},preserveScroll:!0}):K(route("admin.bookings.no-show",m.id),{onSuccess:()=>{l(null),C()},preserveScroll:!0})},J=a=>{a.preventDefault(),R(route("admin.bookings.store"),{onSuccess:()=>{h(!1),q()},preserveScroll:!0})};return e.jsxs(O,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Detail Sesi"}),children:[e.jsx($,{title:`Detail Sesi - ${t.therapist?.name}`}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)] transition-colors duration-500",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center px-4 sm:px-0",children:e.jsxs(U,{href:route("admin.schedules.index"),className:"inline-flex items-center text-sm font-bold text-gray-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Kalender"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[t.bookings?.length>0&&e.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-4 shadow-inner",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white text-center tracking-tight leading-tight",children:t.therapist?.name}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 mt-2 rounded-full text-[10px] font-black tracking-widest uppercase ${t.schedule_type==="class"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300"}`,children:t.schedule_type==="class"?"ðŸŽ“ Kelas":"ðŸ‘¤ Konsultasi"})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-800 space-y-4 text-center sm:text-left",children:[e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 group-hover:text-gold-500 uppercase tracking-widest mb-1 transition-colors",children:"Tanggal Sesi"}),e.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:new Date(t.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 group-hover:text-gold-500 uppercase tracking-widest mb-1 transition-colors",children:"Waktu Sesi"}),e.jsxs("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:[t.start_time.substring(0,5)," - ",t.end_time.substring(0,5)]})]})]}),(!t.bookings||t.bookings.length===0)&&e.jsx("div",{className:"pt-6",children:e.jsx("button",{onClick:()=>{confirm("Hapus jadwal ini?")&&w.delete(route("admin.schedules.destroy",t.id))},className:"w-full py-4 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-red-100 dark:hover:bg-red-900/40 transition-all border border-red-100 dark:border-red-900/30 mb-3",children:"Hapus Jadwal Kosong"})}),t.booked_count<t.quota&&t.status!=="full"&&e.jsx("div",{className:!t.bookings||t.bookings.length===0?"":"pt-6",children:e.jsx("button",{onClick:()=>h(!0),className:"w-full py-4 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-all border border-indigo-100 dark:border-indigo-900/30",children:"+ Tambah Pasien Manual"})})]})})}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.bookings&&t.bookings.length>0?t.bookings.map((a,r)=>{const i=a.patient,n=i?.screening_results?.[0];return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] shadow-xl border border-white dark:border-gray-800 overflow-hidden transition-all duration-500",children:[e.jsxs("div",{className:"p-8 bg-gray-50/50 dark:bg-gray-800/30 border-b border-gray-100 dark:border-gray-800 flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-indigo-600 flex items-center justify-center text-white text-2xl font-black shadow-lg shadow-indigo-600/20",children:i?.name?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:i?.name||"Anonim"}),e.jsx("div",{className:"text-sm font-bold text-gray-400",children:i?.email})]})]}),e.jsxs("div",{className:"flex flex-col items-center sm:items-end gap-2",children:[e.jsxs("span",{className:`px-5 py-2 rounded-full text-[10px] font-black uppercase tracking-widest ${a.package_type==="vip"?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300":"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"}`,children:["Paket ",a.package_type||"reguler"]}),e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[8px] font-black uppercase tracking-widest ${a.status==="confirmed"?"bg-blue-100 text-blue-600":a.status==="completed"?"bg-emerald-100 text-emerald-600":a.status==="cancelled"?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600"}`,children:a.status==="confirmed"?"Dikonfirmasi":a.status==="completed"?"Selesai":a.status==="in_progress"?"Sedang Berlangsung":a.status})]})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Telepon"}),e.jsx("div",{className:"text-lg font-black text-gray-900 dark:text-white",children:i?.phone||"-"})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Usia"}),e.jsxs("div",{className:"text-lg font-black text-gray-900 dark:text-white",children:[i?.age||"-"," Thn"]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Gender"}),e.jsx("div",{className:"text-lg font-black text-gray-900 dark:text-white capitalize",children:i?.gender||"-"})]})]}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hasil Screening AI"}),n.severity_label&&e.jsx("span",{className:"px-4 py-1 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-full text-[10px] font-black uppercase tracking-widest",children:n.severity_label})]}),e.jsxs("div",{className:"p-8 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800 text-sm font-bold text-gray-600 dark:text-gray-400 leading-relaxed shadow-inner",children:['"',n.ai_summary||"Tidak ada ringkasan skrining.",'"']})]}),e.jsx("hr",{className:"border-gray-50 dark:border-gray-800"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Link Meeting / Video"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:x[a.id]?.recording_link||"",placeholder:"https://zoom.us/j/...",className:"flex-1 bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",onChange:f=>L(a.id,"recording_link",f.target.value)}),a.recording_link&&e.jsx("a",{href:a.recording_link,target:"_blank",rel:"noopener noreferrer",className:"px-6 flex items-center justify-center bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 rounded-2xl hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors shadow-sm",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Hasil Sesi / Catatan Terapis"}),e.jsx("textarea",{value:x[a.id]?.therapist_notes||"",placeholder:"Tuliskan diagnosis, ringkasan sesi, atau instruksi selanjutnya di sini...",rows:"8",className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-[2rem] px-8 py-6 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all resize-none shadow-inner",onChange:f=>L(a.id,"therapist_notes",f.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center pt-8 border-t border-gray-50 dark:border-gray-800 gap-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p(a),disabled:a.status==="completed",className:"px-6 py-4 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-all border border-amber-100 dark:border-amber-900/30 disabled:opacity-50",children:"Reschedule"}),e.jsx("button",{onClick:()=>l(a),disabled:a.status==="completed",className:"px-6 py-4 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-red-100 dark:hover:bg-red-900/40 transition-all border border-red-100 dark:border-red-900/30 disabled:opacity-50",children:"No-Show / Batal"})]}),e.jsxs("button",{onClick:()=>W(a.id),disabled:x[a.id]?.recording_link===(a.recording_link||"")&&x[a.id]?.therapist_notes===(a.therapist_notes||""),className:"px-10 py-4 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-200 dark:disabled:bg-gray-800 text-white disabled:text-gray-400 font-black text-[10px] uppercase tracking-widest rounded-2xl transition-all shadow-xl shadow-indigo-600/20 active:scale-95 flex items-center gap-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"Simpan Detail"]})]}),a.status==="completed"&&e.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border-2 border-emerald-100 dark:border-emerald-800/30 rounded-3xl space-y-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-[10px] font-black text-emerald-700 dark:text-emerald-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Hasil Sesi Terakhir"]}),e.jsx("span",{className:"text-[8px] font-black text-emerald-600/50 uppercase",children:"Finalized"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter mb-1",children:"Catatan Diagnosa / Sesi:"}),e.jsxs("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 leading-relaxed italic",children:['"',a.therapist_notes||"Tidak ada catatan.",'"']})]}),a.recording_link&&e.jsx("div",{className:"pt-2",children:e.jsxs("a",{href:a.recording_link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-md",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Buka Rekaman Sesi"]})})]})]}),a.status==="completed"&&a.session_checklist&&Object.keys(a.session_checklist).length>0&&e.jsxs("div",{className:"p-6 bg-indigo-50 dark:bg-indigo-900/10 border-2 border-indigo-100 dark:border-indigo-800/30 rounded-3xl space-y-4 shadow-sm",children:[e.jsxs("h4",{className:"text-[10px] font-black text-indigo-700 dark:text-indigo-500 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Checklist Sesi Hipnoterapi"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.session_checklist.problem_name&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Masalah Klien"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.problem_name})]}),a.session_checklist.problem_score&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Angka Gangguan Awal"}),e.jsxs("p",{className:"text-lg font-black text-indigo-600",children:[a.session_checklist.problem_score,"/10"]})]}),a.session_checklist.desired_outcome&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Outcome Diinginkan"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.desired_outcome})]}),a.session_checklist.outcome_indicator&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Indikator Outcome"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.outcome_indicator})]}),a.session_checklist.induction_type?.length>0&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Induksi"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.induction_type.join(", ")})]}),a.session_checklist.deepening_technique?.length>0&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Deepening"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.deepening_technique.join(", ")})]}),a.session_checklist.core_method_type?.length>0&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Metode Inti"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.core_method_type.join(", ")})]}),a.session_checklist.suggestion_type?.length>0&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Sugesti"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.suggestion_type.join(", ")})]}),a.session_checklist.timeline_type?.length>0&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Timeline"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.timeline_type.join(", ")})]}),a.session_checklist.emerging_type?.length>0&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Emerging"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.emerging_type.join(", ")})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Abreaksi"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_abreaction?"Ya":"Tidak"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Segel Hipnotis"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_seal?"Ya":"Tidak"})]}),e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Pengujian Hasil"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_result_test?"Ya":"Tidak"})]}),a.session_checklist.final_problem_score&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Angka Masalah Akhir"}),e.jsxs("p",{className:"text-lg font-black text-emerald-600",children:[a.session_checklist.final_problem_score,"/10"]})]}),a.session_checklist.has_exception&&a.session_checklist.exception_detail&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-2xl sm:col-span-2",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Pengecualian"}),e.jsx("p",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.exception_detail})]})]})]}),a.reschedule_reason&&e.jsxs("div",{className:"mt-6 p-6 bg-amber-50 dark:bg-amber-900/10 border-2 border-dashed border-amber-200 dark:border-amber-800/30 rounded-3xl",children:[e.jsxs("p",{className:"text-[10px] font-black text-amber-700 dark:text-amber-500 uppercase flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Keterangan Reschedule / Perubahan"]}),e.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 italic",children:['"',a.reschedule_reason,'"',e.jsxs("span",{className:"block mt-2 text-[9px] font-black opacity-60 not-italic uppercase tracking-wider",children:["Rescheduled At: ",new Date(a.rescheduled_at).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"})]})]})]})]})]})]},r)}):e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[3rem] p-24 shadow-xl border-4 border-dashed border-gray-50 dark:border-gray-800 flex flex-col items-center justify-center text-center transition-all duration-500",children:[e.jsx("h4",{className:"text-2xl font-black text-gray-300 dark:text-gray-600 uppercase tracking-widest",children:"Belum Ada Pasien"}),e.jsx("p",{className:"text-gray-400 dark:text-gray-500 mt-3 font-bold italic",children:"Sesi ini masih tersedia untuk dibooking."})]})})]})]})}),e.jsx(N,{show:g!==null,onClose:()=>p(null),children:e.jsxs("form",{onSubmit:F,className:"p-8 dark:bg-gray-900 border border-transparent dark:border-gray-800 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Jadwal Ulang (Admin)"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8 font-bold",children:["Pasien: ",e.jsx("span",{className:"text-indigo-600",children:g?.patient?.name})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new_schedule_id",value:"Pilih Slot Baru",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsxs("select",{id:"new_schedule_id",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-4 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all dark:text-gray-200",value:s.new_schedule_id,onChange:a=>{c(r=>({...r,new_schedule_id:a.target.value,new_date:"",new_start_time:"",new_end_time:""}))},children:[e.jsx("option",{value:"",children:"-- Buat Jadwal Custom (Manual) --"}),M?.filter(a=>a.id!==g?.schedule_id).map(a=>e.jsxs("option",{value:a.id,children:[new Date(a.date).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short"})," | ",a.start_time?.substring(0,5)," WIB | ",a.therapist?.name||"Belum diatur"]},a.id))]})]}),!s.new_schedule_id&&e.jsxs("div",{className:"p-6 bg-indigo-50/50 dark:bg-indigo-900/10 rounded-3xl border border-indigo-100 dark:border-indigo-800/30 space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest text-center",children:"Input Jadwal Secara Manual"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx(d,{value:"Tanggal Baru",className:"text-[10px] font-black uppercase text-gray-400 mb-1"}),e.jsx(S,{type:"date",className:"w-full",value:s.new_date,onChange:a=>c("new_date",a.target.value),required:!s.new_schedule_id})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Jam Mulai",className:"text-[10px] font-black uppercase text-gray-400 mb-1"}),e.jsx(S,{type:"time",className:"w-full",value:s.new_start_time,onChange:a=>c("new_start_time",a.target.value),required:!s.new_schedule_id})]}),e.jsxs("div",{children:[e.jsx(d,{value:"Jam Selesai",className:"text-[10px] font-black uppercase text-gray-400 mb-1"}),e.jsx(S,{type:"time",className:"w-full",value:s.new_end_time,onChange:a=>c("new_end_time",a.target.value),required:!s.new_schedule_id})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"reschedule_reason",value:"Alasan Perubahan (Akan Muncul di Dashboard Pasien)",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsx("textarea",{id:"reschedule_reason",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all resize-none dark:text-gray-200",rows:"3",placeholder:"Misal: Praktisi sedang berhalangan, atau permintaan pasien...",value:s.reschedule_reason,onChange:a=>c("reschedule_reason",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(v,{onClick:()=>p(null),disabled:k,className:"rounded-2xl px-6",children:"Batal"}),e.jsx("button",{type:"submit",disabled:k||!s.new_schedule_id&&!s.new_date,className:`inline-flex items-center px-8 py-3 bg-amber-600 border border-transparent rounded-2xl font-black text-[10px] text-white uppercase tracking-widest hover:bg-amber-700 transition-all shadow-lg shadow-amber-600/20 active:scale-95 ${(k||!s.new_schedule_id&&!s.new_date)&&"opacity-25"}`,children:"Konfirmasi Jadwal Ulang"})]})]})}),e.jsx(N,{show:m!==null,onClose:()=>l(null),children:e.jsxs("form",{onSubmit:E,className:"p-8 dark:bg-gray-900 border border-transparent dark:border-gray-800 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Batalkan / No-Show"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8 font-bold",children:["Pasien: ",e.jsx("span",{className:"text-red-600",children:m?.patient?.name})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"no_show_party",value:"Keterangan Pihak Berhalangan",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsxs("select",{id:"no_show_party",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-4 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all dark:text-gray-200",value:o.no_show_party,onChange:a=>P("no_show_party",a.target.value),required:!0,children:[e.jsx("option",{value:"cancel",children:"Batalkan Total (Slot Kembali Tersedia)"}),e.jsx("option",{value:"patient",children:"Pasien Tidak Hadir (Slot Hangus)"}),e.jsx("option",{value:"therapist",children:"Praktisi Berhalangan (Slot Hangus)"})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"no_show_reason",value:"Alasan Pembatalan / No-Show",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsx("textarea",{id:"no_show_reason",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all resize-none dark:text-gray-200",rows:"3",placeholder:o.no_show_party==="cancel"?"Opsional. Tidak perlu diisi jika membatalkan karena alasan umum.":"Berikan detail singkat alasan...",value:o.no_show_reason,onChange:a=>P("no_show_reason",a.target.value),required:o.no_show_party!=="cancel"})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(v,{onClick:()=>l(null),disabled:y,className:"rounded-2xl px-6",children:"Batal"}),e.jsx("button",{type:"submit",disabled:y,className:`inline-flex items-center px-8 py-3 bg-red-600 border border-transparent rounded-2xl font-black text-[10px] text-white uppercase tracking-widest hover:bg-red-700 transition-all shadow-lg shadow-red-600/20 active:scale-95 ${y&&"opacity-25"}`,children:"Konfirmasi Pembatalan"})]})]})}),e.jsx(N,{show:T,onClose:()=>h(!1),children:e.jsxs("form",{onSubmit:J,className:"p-8 dark:bg-gray-900 border border-transparent dark:border-gray-800 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Manual Tambah Pasien"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"patient_id",value:"Pilih Pasien",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsxs("select",{id:"patient_id",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-4 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all dark:text-gray-200",value:D.patient_id,onChange:a=>B("patient_id",a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Pasien --"}),A.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.email,")"]},a.id))]}),u.patient_id&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:u.patient_id})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"package_type",value:"Pilih Tipe Paket",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsxs("select",{id:"package_type",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-4 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all dark:text-gray-200",value:D.package_type,onChange:a=>B("package_type",a.target.value),required:!0,children:[e.jsx("option",{value:"reguler",children:"Reguler / Umum"}),e.jsx("option",{value:"hipnoterapi",children:"Paket Hipnoterapi"}),e.jsx("option",{value:"upgrade",children:"Paket Upgrade (Pengembangan Diri)"}),e.jsx("option",{value:"vip",children:"Paket VIP"})]}),u.package_type&&e.jsx("p",{className:"text-red-500 text-xs mt-1 font-bold",children:u.package_type})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(v,{onClick:()=>h(!1),disabled:j,className:"rounded-2xl px-6",children:"Batal"}),e.jsx("button",{type:"submit",disabled:j,className:`inline-flex items-center px-8 py-3 bg-indigo-600 border border-transparent rounded-2xl font-black text-[10px] text-white uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-600/20 active:scale-95 ${j&&"opacity-25"}`,children:"Konfirmasi Tambah"})]})]})})]})}export{se as default};

import{u as p,r as n,j as e,H as b,L as h}from"./app-aZvzVBcr.js";import{P as k}from"./PrimaryButton-C-ZCqHIV.js";import{G as v}from"./GuestLayout-CZjgqXHn.js";import"./Navbar-C5L58lIj.js";import"./ThemeToggle-DFfyAuZ2.js";function S({status:c}){const{post:m,processing:x}=p({}),l=300,s=3,[i,o]=n.useState(0),[a,g]=n.useState(()=>{const t=localStorage.getItem("verify_email_attempts");return t?parseInt(t):0});n.useEffect(()=>{const t=localStorage.getItem("verify_email_last_sent");if(t){const r=Math.floor((Date.now()-parseInt(t))/1e3);r<l&&o(l-r)}},[]),n.useEffect(()=>{let t;return i>0&&(t=setInterval(()=>{o(r=>r-1)},1e3)),()=>clearInterval(t)},[i]),n.useEffect(()=>{localStorage.setItem("verify_email_attempts",a.toString())},[a]);const u=t=>{t.preventDefault(),!(a>=s)&&m(route("verification.send"),{onSuccess:()=>{o(l),g(r=>r+1),localStorage.setItem("verify_email_last_sent",Date.now().toString())}})},f=t=>{const r=Math.floor(t/60),d=t%60;return`${r}:${d<10?"0":""}${d}`};return e.jsxs(v,{title:"Verifikasi Email",children:[e.jsx(b,{title:"Verifikasi Email"}),e.jsxs("div",{className:"mb-10 text-center relative",children:[e.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-32 h-32 bg-gold-400/20 rounded-full blur-3xl pointer-events-none"}),e.jsx("h2",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-br from-gray-900 via-gold-700 to-gray-950 dark:from-white dark:via-gold-400 dark:to-white tracking-tighter leading-tight",children:"Verifikasi Email"}),e.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300 font-bold tracking-wide uppercase opacity-90",children:"Satu langkah terakhir"}),e.jsx("div",{className:"h-1 w-16 bg-gradient-to-r from-gold-400 via-gold-500 to-gold-600 mx-auto mt-6 rounded-full shadow-[0_2px_10px_rgba(208,170,33,0.3)]"})]}),e.jsxs("div",{className:"mb-8 text-center px-2",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed font-light",children:"Terima kasih telah bergabung! Silakan verifikasi alamat email kamu melalui tautan yang baru saja kami kirimkan."}),a<s&&e.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 italic",children:"Belum menerima email? Kamu bisa minta kirim ulang di bawah."})]}),c==="verification-link-sent"&&e.jsxs("div",{className:"mb-8 p-4 rounded-2xl bg-green-500/10 border border-green-500/20 text-sm font-bold text-green-600 dark:text-green-400 text-center animate-pulse flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Tautan verifikasi baru telah dikirimkan!"]}),a>=s&&e.jsx("div",{className:"mb-8 p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-sm font-bold text-red-600 dark:text-red-400 text-center",children:"Batas percobaan tercapai. Silakan coba lagi nanti atau hubungi bantuan."}),e.jsx("form",{onSubmit:u,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{className:"w-full",disabled:x||i>0||a>=s,children:i>0?`Tunggu ${f(i)}`:a>=s?"Batas Tercapai":"Kirim Ulang Email Verifikasi"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full",children:[e.jsx("div",{className:"flex-grow border-t border-gray-100 dark:border-gray-800"}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:["Sisa Percobaan: ",s-a]}),e.jsx("div",{className:"flex-grow border-t border-gray-100 dark:border-gray-800"})]}),e.jsx(h,{href:route("logout"),method:"post",as:"button",className:"text-sm font-bold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors underline underline-offset-4 decoration-2 decoration-gray-200 dark:decoration-gray-800",children:"Log Out"})]})]})})]})}export{S as default};

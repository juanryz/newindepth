import{d as b,b as se,u as B,j as e,H as re,L,e as te}from"./app-CXz8F8xs.js";import{A as de}from"./AuthenticatedLayout-C51h9MOX.js";import{M}from"./Modal-CR7JZnv1.js";import{I as y}from"./InputLabel-C5E1byxV.js";import"./TextInput-C3_feF5t.js";import{S as K}from"./SecondaryButton-B_lisgwU.js";import{m as i}from"./proxy-CZD4G5fr.js";import{U as ie}from"./user-4tlxPCh-.js";import{C as l}from"./circle-check-BVwhNdnz.js";import{C as H}from"./calendar-D6qV7iPI.js";import{F as $,C as f}from"./fingerprint-pattern-DVI6AhAn.js";import{P as O}from"./phone-DdkjXR0G.js";import{M as le}from"./mail-C-jLpxKj.js";import{A as w,C as n}from"./clock-vdTaQBdm.js";import{S as c}from"./shield-check-BAoIFSLE.js";import{H as U,E as u}from"./heart-BmZueSad.js";import{C as ne}from"./chevron-right-D10xE5ff.js";import{A as ce}from"./index-CxMUfxaQ.js";import{B as F}from"./book-open-D1RUoi3d.js";import{C as _}from"./circle-alert-DiXmCgeN.js";import{V as q}from"./video-C6GBQ3GD.js";import{c as oe}from"./createLucideIcon-DaKAcw6A.js";import{F as xe}from"./file-text-C5MUFMwn.js";import{C as ge}from"./chevron-left-DVa2j59k.js";import"./transition-C5xkfPmk.js";import"./ThemeToggle-DLgn2z9h.js";import"./LiquidBackground-LwDxHhHk.js";import"./with-selector-C2B8MydN.js";const me=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Y=oe("chevron-down",me);function Ue({patient:s,profileProgress:v,availableSchedules:G,fromBookingId:S}){const[t,J]=b.useState("summary"),{auth:D,flash:o,errors:A}=se().props,[x,g]=b.useState(null),[k,m]=b.useState(null),[p,T]=b.useState(null),{data:h,setData:I,post:W,processing:j,reset:V}=B({new_schedule_id:"",reschedule_reason:""}),{data:P,setData:C,post:z,processing:N,reset:Q}=B({no_show_party:"patient",no_show_reason:""}),X=a=>{a.preventDefault(),W(route("schedules.reschedule",x.id),{onSuccess:()=>{g(null),V()},preserveScroll:!0})},Z=a=>{a.preventDefault(),z(route("schedules.no-show",k.id),{onSuccess:()=>{m(null),Q()},preserveScroll:!0})},ee=a=>{confirm("Mulai sesi terapi sekarang? Status akan berubah menjadi Sedang Berlangsung.")&&te.post(route("schedules.start",a))},ae=[{id:"summary",label:"Ringkasan",icon:w},{id:"identity",label:"Identitas & S&K",icon:c},{id:"screening",label:"Hasil Skrining",icon:U},{id:"history",label:"Riwayat Sesi",icon:n}],R=a=>{switch(a){case"completed":return"text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 dark:text-emerald-400";case"confirmed":return"text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-400";case"in_progress":return"text-red-600 bg-red-50 dark:bg-red-900/30 dark:text-red-400 animate-pulse";default:return"text-gray-600 bg-gray-50 dark:bg-gray-800 dark:text-gray-400"}};return e.jsxs(de,{header:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{href:S?route("schedules.active-session",S):route("schedules.index"),className:"p-2 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors shadow-sm",children:e.jsx(ge,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-800 dark:text-white leading-tight",children:"Detail Pasien"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 uppercase tracking-widest font-bold",children:"MANAJEMEN REKAM MEDIS"})]})]}),children:[e.jsx(re,{title:`Pasien: ${s.name}`}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[o?.success&&e.jsx("div",{className:"p-4 text-sm text-green-800 dark:text-green-300 rounded-2xl bg-green-50/80 dark:bg-green-900/30 border border-green-200 dark:border-green-800/50",children:o.success}),(o?.error||A?.error)&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50",children:o?.error||A?.error}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800/60 rounded-3xl border border-gray-100 dark:border-gray-700/50 shadow-sm overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsxs("div",{className:"bg-indigo-600 p-8 flex flex-col items-center justify-center text-white relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/20 via-transparent to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center border-4 border-white/30 mb-4 overflow-hidden",children:s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"w-full h-full object-cover"}):e.jsx(ie,{className:"w-12 h-12 text-white"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-emerald-500 border-4 border-indigo-600 rounded-full flex items-center justify-center",children:e.jsx(l,{className:"w-4 h-4 text-white"})})]}),e.jsx("h1",{className:"text-2xl font-bold uppercase tracking-tight text-center",children:s.name}),e.jsx("p",{className:"text-indigo-100 text-sm font-medium mt-1",children:s.email}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-[10px] font-bold uppercase tracking-widest backdrop-blur-md border border-white/10",children:"Pasien Terverifikasi"})})]}),e.jsxs("div",{className:"flex-1 p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Informasi Dasar"}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-300",children:[e.jsx(H,{className:"w-4 h-4 text-indigo-500"}),e.jsxs("span",{className:"text-sm font-semibold",children:[s.age||"-"," Tahun"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-300 py-1",children:[e.jsx($,{className:"w-4 h-4 text-indigo-500"}),e.jsx("span",{className:"text-sm font-semibold",children:s.gender||"-"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-gray-700 dark:text-gray-300",children:[e.jsx(O,{className:"w-4 h-4 text-indigo-500"}),e.jsx("span",{className:"text-sm font-semibold",children:s.phone||"-"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Status Kelengkapan"}),e.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[e.jsxs("span",{className:"text-2xl font-black text-indigo-600 dark:text-indigo-400",children:[v.percentage,"%"]}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 mb-1",children:"DATA PROFIL"})]}),e.jsx("div",{className:"w-full h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx(i.div,{initial:{width:0},animate:{width:`${v.percentage}%`},className:"h-full bg-indigo-500"})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Aksi Cepat"}),e.jsxs("div",{className:"flex flex-col gap-2 pt-1",children:[e.jsxs("a",{href:`mailto:${s.email}`,className:"flex items-center gap-2 text-xs font-bold text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors",children:[e.jsx(le,{className:"w-3 h-3"})," KIRIM EMAIL"]}),e.jsxs("a",{href:`tel:${s.phone}`,className:"flex items-center gap-2 text-xs font-bold text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors",children:[e.jsx(O,{className:"w-3 h-3"})," TELEPON PASIEN"]})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"lg:w-72 flex-shrink-0 space-y-4",children:[e.jsx("div",{className:"bg-white/50 dark:bg-gray-800/40 backdrop-blur-md rounded-2xl border border-white/20 dark:border-gray-700/30 p-2 shadow-sm",children:ae.map(a=>e.jsxs("button",{onClick:()=>J(a.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold transition-all duration-200 ${t===a.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 dark:shadow-none translate-x-1":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700/50"}`,children:[e.jsx(a.icon,{className:`w-4 h-4 ${t===a.id?"text-white":"text-indigo-500"}`}),a.label,t===a.id&&e.jsx(ne,{className:"w-4 h-4 ml-auto"})]},a.id))}),e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-800/30 p-5",children:[e.jsx("h4",{className:"text-[10px] font-black tracking-widest text-emerald-700 dark:text-emerald-500 uppercase mb-3 px-1",children:"Kontak Darurat"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Nama"}),e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 uppercase",children:s.emergency_contact_name||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Hubungan"}),e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s.emergency_contact_relation||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Telepon"}),e.jsx("p",{className:"text-sm font-black text-indigo-600 dark:text-indigo-400",children:s.emergency_contact_phone||"-"})]})]})]})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs(ce,{mode:"wait",children:[t==="summary"&&e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 rounded-3xl p-8 border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-6",children:[e.jsx(F,{className:"w-5 h-5 text-indigo-500"})," Partisipasi Program"]}),s.courses?.length>0?e.jsx("div",{className:"space-y-3",children:s.courses.map(a=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/80 rounded-2xl border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900/50 rounded-xl flex items-center justify-center text-indigo-600 dark:text-indigo-400 shrink-0",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 truncate pr-2",children:a.title}),e.jsxs("p",{className:"text-[10px] text-gray-500 font-medium",children:["Terdaftar pada: ",new Date(a.pivot.enrolled_at).toLocaleDateString("id-ID")]})]})]},a.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-400",children:[e.jsx(_,{className:"w-10 h-10 mb-2 opacity-20"}),e.jsx("p",{className:"text-sm italic",children:"Belum terdaftar di kelas manapun."})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 rounded-3xl p-8 border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-6",children:[e.jsx(c,{className:"w-5 h-5 text-emerald-500"})," Legal & Persetujuan"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100 dark:border-emerald-800/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-emerald-700 dark:text-emerald-500",children:"Service Agreement"}),s.agreement_signed_at?e.jsx(l,{className:"w-4 h-4 text-emerald-500"}):e.jsx(_,{className:"w-4 h-4 text-amber-500"})]}),e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:s.agreement_signed_at?"Ditandatangani secara digital":"Belum Ditandatangani"}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1 font-medium",children:s.agreement_signed_at?`Tgl: ${new Date(s.agreement_signed_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`:"Tgl: -"}),s.agreement_signed_at&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-[10px] font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider",children:[e.jsx(c,{className:"w-3 h-3"})," Dokumen Disetujui"]})]}),e.jsxs("div",{className:`p-4 rounded-2xl border ${s.recommended_package?"bg-amber-50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-800/30":"bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700"}`,children:[e.jsx("span",{className:"text-[10px] font-black uppercase text-amber-700 dark:text-amber-500",children:"Rekomendasi Paket"}),e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 uppercase mt-1",children:s.recommended_package||"BELUM DITETAPKAN"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 rounded-3xl p-8 border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-6",children:[e.jsx(n,{className:"w-5 h-5 text-indigo-500"})," Sesi Selesai Paling Terakhir"]}),(()=>{const a=s.bookings?.filter(r=>r.status==="completed").sort((r,E)=>new Date(E.started_at||E.created_at)-new Date(r.started_at||r.created_at))[0];if(!a)return e.jsx("p",{className:"text-sm text-gray-400 italic",children:"Belum ada riwayat sesi yang terselesaikan."});const d=a.started_at&&a.ended_at?Math.round((new Date(a.ended_at)-new Date(a.started_at))/6e4):null;return e.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-900/40 border border-gray-100 dark:border-gray-700/50 rounded-3xl p-6 transition-all hover:shadow-md hover:bg-white dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white uppercase",children:["Kode Booking: ",a.booking_code]}),e.jsx("p",{className:"text-xs text-gray-500 font-bold mt-0.5",children:new Date(a.schedule?.date||"").toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${R(a.status)}`,children:"TERLESAIKAN"}),a.completion_outcome&&e.jsxs("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${a.completion_outcome==="Normal"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["OUTCOME: ",a.completion_outcome]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest px-1 mb-2 italic",children:"Data Sesi"}),e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/80 p-5 rounded-2xl border border-gray-100 dark:border-gray-700 space-y-3 text-xs",children:[e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Terapis:"}),e.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-200",children:a.therapist?.name||a.schedule?.therapist?.name||"-"})]}),e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Paket:"}),e.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:a.package_type||"REGULER"})]}),a.started_at&&e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-gray-700 space-y-2",children:[e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Mulai:"}),e.jsxs("span",{className:"font-bold text-emerald-600",children:[new Date(a.started_at).toLocaleTimeString("id-id",{hour:"2-digit",minute:"2-digit"})," WIB"]})]}),a.ended_at&&e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Selesai:"}),e.jsxs("span",{className:"font-bold text-red-600",children:[new Date(a.ended_at).toLocaleTimeString("id-id",{hour:"2-digit",minute:"2-digit"})," WIB"]})]}),d!==null&&e.jsxs("p",{className:"flex justify-between items-center p-2 bg-indigo-50 dark:bg-indigo-900/30 rounded-xl mt-2",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-bold uppercase text-[9px]",children:"Durasi Sesi:"}),e.jsxs("span",{className:"font-black text-indigo-700 dark:text-indigo-300",children:[d," Menit"]})]})]})]})]}),a.recording_link&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest px-1 italic",children:"Hasil Rekaman"}),e.jsxs("a",{href:a.recording_link,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-2 w-full p-4 bg-gradient-to-r from-red-600 to-rose-700 text-white rounded-2xl text-xs font-black shadow-lg shadow-red-500/20 hover:scale-[1.02] transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl group-hover:rotate-12 transition-transform",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("span",{children:"BUKA REKAMAN SESI (YT/DRIVE)"})]}),e.jsx(u,{className:"w-4 h-4 opacity-50"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest px-1 mb-2 italic",children:"Catatan Klinis (Internal)"}),e.jsx("div",{className:"bg-indigo-50/30 dark:bg-indigo-900/10 p-5 rounded-2xl border border-indigo-100/30 text-xs text-gray-700 dark:text-gray-300 min-h-[100px] leading-relaxed shadow-sm",children:a.therapist_notes||"Tidak ada catatan sesi yang dicatat."})]}),a.patient_visible_notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-emerald-600 dark:text-emerald-500 uppercase tracking-widest px-1 mb-2 italic",children:"Pesan Untuk Pasien (Publik)"}),e.jsx("div",{className:"bg-emerald-50/30 dark:bg-emerald-900/10 p-5 rounded-2xl border border-emerald-100/30 text-xs text-emerald-800 dark:text-emerald-300 leading-relaxed shadow-sm",children:a.patient_visible_notes})]}),a.session_checklist&&Object.keys(a.session_checklist).length>0&&e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>T(r=>r===a.id?null:a.id),className:"w-full flex items-center justify-between p-3 bg-indigo-50/50 dark:bg-indigo-900/10 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl border border-indigo-100/50 dark:border-indigo-800/30 transition-all group",children:[e.jsxs("span",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-500 uppercase tracking-widest flex items-center gap-1.5",children:[e.jsx(f,{className:"w-3 h-3"})," Checklist Sesi Hipnoterapi"]}),e.jsx(Y,{className:`w-4 h-4 text-indigo-400 transition-transform duration-200 ${p===a.id?"rotate-180":""}`})]}),p===a.id&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3 animate-in fade-in duration-200",children:[a.session_checklist.problem_name&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Masalah"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.problem_name})]}),a.session_checklist.problem_score&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Angka Awal"}),e.jsxs("p",{className:"text-sm font-black text-indigo-600",children:[a.session_checklist.problem_score,"/10"]})]}),a.session_checklist.final_problem_score&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Angka Akhir"}),e.jsxs("p",{className:"text-sm font-black text-emerald-600",children:[a.session_checklist.final_problem_score,"/10"]})]}),a.session_checklist.induction_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Induksi"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.induction_type.join(", ")})]}),a.session_checklist.deepening_technique?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Deepening"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.deepening_technique.join(", ")})]}),a.session_checklist.core_method_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Metode Inti"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.core_method_type.join(", ")})]}),a.session_checklist.suggestion_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Sugesti"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.suggestion_type.join(", ")})]}),a.session_checklist.timeline_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Timeline"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.timeline_type.join(", ")})]}),a.session_checklist.emerging_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Emerging"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.emerging_type.join(", ")})]}),e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Abreaksi"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_abreaction?"Ya":"Tidak"})]}),e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Segel Hipnotis"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_seal?"Ya":"Tidak"})]}),e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Pengujian Hasil"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_result_test?"Ya":"Tidak"})]}),a.session_checklist.desired_outcome&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700 col-span-2",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Outcome Diinginkan"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.desired_outcome})]}),a.session_checklist.outcome_indicator&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700 col-span-2",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Indikator Outcome"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.outcome_indicator})]}),a.session_checklist.has_exception&&a.session_checklist.exception_detail&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700 col-span-2",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Pengecualian"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.exception_detail})]})]})]})]})]})]})})()]})]},"summary"),t==="identity"&&e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 rounded-3xl p-8 border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-8",children:[e.jsx($,{className:"w-5 h-5 text-indigo-500"})," Verifikasi Identitas (KTP)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Usia"}),e.jsxs("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:[s.age||"-"," Tahun"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Jenis Kelamin"}),e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 uppercase",children:s.gender||"-"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Status Perjanjian"}),e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400",children:[e.jsx(c,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold uppercase",children:"AKTIF & DISETUJUI"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Berlaku selama 1 tahun sejak tanggal penandatanganan."})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 text-gray-700 dark:text-gray-200 text-xs font-bold rounded-xl transition-colors",children:[e.jsx(f,{className:"w-4 h-4"})," LIHAT LOG PERUBAHAN"]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-3",children:"Foto KTP / Identitas Resmi"}),s.ktp_photo_url?e.jsxs("div",{className:"relative group overflow-hidden rounded-2xl border border-gray-200 dark:border-gray-700 shadow-lg bg-gray-100 dark:bg-gray-900",children:[e.jsx("img",{src:s.ktp_photo_url,alt:"KTP",className:"w-full h-auto aspect-[1.6/1] object-contain transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("a",{href:s.ktp_photo_url,target:"_blank",className:"p-3 bg-white/20 backdrop-blur-md rounded-full text-white border border-white/30",children:e.jsx(u,{className:"w-6 h-6"})})})]}):e.jsxs("div",{className:"w-full aspect-[1.6/1] bg-gray-50 dark:bg-gray-800 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700 flex flex-col items-center justify-center text-gray-400",children:[e.jsx(xe,{className:"w-12 h-12 mb-2 opacity-10"}),e.jsx("p",{className:"text-xs italic font-medium",children:"Foto identitas belum diunggah."})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 rounded-3xl p-8 border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-6",children:[e.jsx(c,{className:"w-5 h-5 text-indigo-500"})," Syarat & Ketentuan (Service Agreement)"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/40 rounded-2xl border border-gray-100 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-[10px] font-black tracking-widest text-gray-400 uppercase",children:"Informasi Penandatanganan"}),s.agreement_signed_at&&e.jsxs(L,{href:route("agreement.patient",s.id),className:"text-[10px] font-black text-indigo-600 hover:text-indigo-800 uppercase flex items-center gap-1",children:[e.jsx(u,{className:"w-3 h-3"})," Buka Dokumen Formal"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Tanggal"}),e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 truncate",children:s.agreement_signed_at?new Date(s.agreement_signed_at).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short"}):"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Tanda Tangan Digital"}),s.digital_signature?e.jsx("div",{className:"mt-1 h-16 w-32 bg-white rounded-lg p-2 border border-gray-200",children:e.jsx("img",{src:s.digital_signature,alt:"Signature",className:"w-full h-full object-contain"})}):e.jsx("p",{className:"text-sm font-bold text-red-500 italic uppercase",children:"BELUM TANDA TANGAN"})]})]})]}),s.agreement_data&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black tracking-widest text-indigo-500 uppercase px-1",children:"Poin-poin Penting yang Disetujui"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["understand_process","honest_answers","follow_protocol","responsibility"].map(a=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-indigo-50/30 dark:bg-indigo-900/10 rounded-xl border border-indigo-100/30",children:[e.jsx(l,{className:"w-4 h-4 text-emerald-500 mt-0.5 shrink-0"}),e.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 capitalize",children:a.replace(/_/g," ")})]},a))})]})]})]})]},"identity"),t==="screening"&&e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 rounded-3xl p-8 border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-8",children:[e.jsx(U,{className:"w-5 h-5 text-red-500"})," Hasil Analisa Skrining Mental"]}),s.screening_results?.length>0?e.jsx("div",{className:"space-y-10",children:s.screening_results.map((a,d)=>e.jsxs("div",{className:`${d!==0?"pt-10 border-t border-gray-100 dark:border-gray-700":""}`,children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"p-2 bg-indigo-50 dark:bg-indigo-900 rounded-lg text-indigo-600 dark:text-indigo-400",children:e.jsx(H,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Skrining Kesehatan Mental"}),e.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Tgl: ",new Date(a.completed_at).toLocaleDateString("id-ID",{dateStyle:"full"})]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("span",{className:`px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest ${a.severity_label==="High Risk"?"bg-red-500 text-white":a.severity_label==="Berat Kronis"?"bg-red-100 text-red-700":"bg-indigo-100 text-indigo-700"}`,children:["Tingkat: ",a.severity_label||"NORMAL"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/60 p-4 rounded-2xl border border-gray-100 dark:border-gray-700/50",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Rekomendasi Paket"}),e.jsx("p",{className:"text-base font-black text-indigo-600 dark:text-indigo-400 uppercase",children:a.recommended_package||"-"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/60 p-4 rounded-2xl border border-gray-100 dark:border-gray-700/50",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Status Resiko"}),e.jsx("p",{className:`text-base font-black uppercase ${a.is_high_risk?"text-red-500":"text-emerald-500"}`,children:a.is_high_risk?"HIGH RISK":"LOW RISK"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/60 p-4 rounded-2xl border border-gray-100 dark:border-gray-700/50",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Skor Analisa (AI)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"w-4 h-4 text-emerald-500"}),e.jsx("p",{className:"text-base font-black text-gray-800 dark:text-gray-200",children:"OPTIMAL"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest px-1",children:"Ringkasan Analisa (AI Summary)"}),e.jsx("div",{className:"bg-indigo-50/30 dark:bg-indigo-900/10 p-6 rounded-3xl border border-indigo-100/30 text-gray-700 dark:text-gray-300 text-sm leading-relaxed whitespace-pre-wrap",children:a.ai_summary||"Analisa AI tidak tersedia untuk skrining ini."})]}),a.admin_notes&&e.jsxs("div",{className:"mt-6 p-6 bg-amber-50 dark:bg-amber-900/10 border-2 border-dashed border-amber-200 dark:border-amber-800/30 rounded-3xl",children:[e.jsxs("p",{className:"text-[10px] font-black text-amber-700 dark:text-amber-500 uppercase flex items-center gap-2 mb-2",children:[e.jsx(_,{className:"w-4 h-4"})," Catatan Admin/CS"]}),e.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-300 italic",children:a.admin_notes})]})]},a.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[e.jsx(w,{className:"w-16 h-16 mb-4 opacity-10"}),e.jsx("p",{className:"text-sm italic font-medium",children:"Pasien belum menyelesaikan skrining sama sekali."})]})]})},"screening"),t==="history"&&e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 rounded-3xl p-8 border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-8",children:[e.jsx(n,{className:"w-5 h-5 text-indigo-500"})," Riwayat Konsultasi & Terapi"]}),e.jsx("div",{className:"relative space-y-12 before:absolute before:left-6 before:top-2 before:bottom-0 before:w-0.5 before:bg-gray-100 dark:before:bg-gray-700/50",children:s.bookings?.length>0?s.bookings.map(a=>{const d=a.started_at&&a.ended_at?Math.round((new Date(a.ended_at)-new Date(a.started_at))/6e4):null;return e.jsxs("div",{className:"relative pl-14",children:[e.jsx("div",{className:`absolute left-0 w-12 h-12 rounded-2xl flex items-center justify-center border-4 border-white dark:border-gray-800 shadow-sm z-10 ${a.status==="completed"?"bg-emerald-100 text-emerald-600":a.status==="in_progress"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:a.status==="completed"?e.jsx(l,{className:"w-5 h-5"}):e.jsx(n,{className:"w-5 h-5"})}),e.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-900/40 border border-gray-100 dark:border-gray-700/50 rounded-3xl p-6 transition-all hover:shadow-md hover:bg-white dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-gray-900 dark:text-white uppercase",children:["Kode Booking: ",a.booking_code]}),e.jsx("p",{className:"text-xs text-gray-500 font-bold mt-0.5",children:new Date(a.schedule?.date||"").toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${R(a.status)}`,children:a.status==="completed"?"TERLESAIKAN":a.status==="in_progress"?"SEDANG BERJALAN":"AKAN DATANG"}),a.status==="confirmed"&&(a.therapist_id===D.user.id||D.user.roles.some(r=>["admin","super_admin"].includes(r.name)))&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ee(a.id),className:"px-3 py-1 bg-indigo-600 text-white rounded-lg text-[9px] font-black uppercase tracking-widest border border-indigo-700 transition-all hover:bg-indigo-700 shadow-md shadow-indigo-200",children:"Mulai Sesi"}),e.jsx("button",{onClick:()=>g(a),className:"px-3 py-1 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-amber-100 dark:border-amber-900/30 transition-all hover:bg-amber-100",children:"Reschedule"}),e.jsx("button",{onClick:()=>m(a),className:"px-3 py-1 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-red-100 dark:border-red-900/30 transition-all hover:bg-red-100",children:"No-Show / Batal"})]}),a.completion_outcome&&e.jsxs("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${a.completion_outcome==="Normal"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:["OUTCOME: ",a.completion_outcome]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest px-1 mb-2 italic",children:"Data Sesi"}),e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/80 p-5 rounded-2xl border border-gray-100 dark:border-gray-700 space-y-3 text-xs",children:[e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Terapis:"}),e.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-200",children:a.therapist?.name||a.schedule?.therapist?.name||"-"})]}),e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Paket:"}),e.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:a.package_type||"REGULER"})]}),a.started_at&&e.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 dark:border-gray-700 space-y-2",children:[e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Mulai:"}),e.jsxs("span",{className:"font-bold text-emerald-600",children:[new Date(a.started_at).toLocaleTimeString("id-id",{hour:"2-digit",minute:"2-digit"})," WIB"]})]}),a.ended_at&&e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Selesai:"}),e.jsxs("span",{className:"font-bold text-red-600",children:[new Date(a.ended_at).toLocaleTimeString("id-id",{hour:"2-digit",minute:"2-digit"})," WIB"]})]}),d!==null&&e.jsxs("p",{className:"flex justify-between items-center p-2 bg-indigo-50 dark:bg-indigo-900/30 rounded-xl mt-2",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-bold uppercase text-[9px]",children:"Durasi Sesi:"}),e.jsxs("span",{className:"font-black text-indigo-700 dark:text-indigo-300",children:[d," Menit"]})]})]})]})]}),a.recording_link&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest px-1 italic",children:"Hasil Rekaman"}),e.jsxs("a",{href:a.recording_link,target:"_blank",rel:"noreferrer",className:"flex items-center justify-between gap-2 w-full p-4 bg-gradient-to-r from-red-600 to-rose-700 text-white rounded-2xl text-xs font-black shadow-lg shadow-red-500/20 hover:scale-[1.02] transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl group-hover:rotate-12 transition-transform",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx("span",{children:"BUKA REKAMAN SESI (YT/DRIVE)"})]}),e.jsx(u,{className:"w-4 h-4 opacity-50"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest px-1 mb-2 italic",children:"Catatan Klinis (Internal)"}),e.jsx("div",{className:"bg-indigo-50/30 dark:bg-indigo-900/10 p-5 rounded-2xl border border-indigo-100/30 text-xs text-gray-700 dark:text-gray-300 min-h-[100px] leading-relaxed shadow-sm",children:a.therapist_notes||"Tidak ada catatan sesi yang dicatat."})]}),a.patient_visible_notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-emerald-600 dark:text-emerald-500 uppercase tracking-widest px-1 mb-2 italic",children:"Pesan Untuk Pasien (Publik)"}),e.jsx("div",{className:"bg-emerald-50/30 dark:bg-emerald-900/10 p-5 rounded-2xl border border-emerald-100/30 text-xs text-emerald-800 dark:text-emerald-300 leading-relaxed shadow-sm",children:a.patient_visible_notes})]}),a.session_checklist&&Object.keys(a.session_checklist).length>0&&e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>T(r=>r===a.id?null:a.id),className:"w-full flex items-center justify-between p-3 bg-indigo-50/50 dark:bg-indigo-900/10 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl border border-indigo-100/50 dark:border-indigo-800/30 transition-all group",children:[e.jsxs("span",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-500 uppercase tracking-widest flex items-center gap-1.5",children:[e.jsx(f,{className:"w-3 h-3"})," Checklist Sesi Hipnoterapi"]}),e.jsx(Y,{className:`w-4 h-4 text-indigo-400 transition-transform duration-200 ${p===a.id?"rotate-180":""}`})]}),p===a.id&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3 animate-in fade-in duration-200",children:[a.session_checklist.problem_name&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Masalah"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.problem_name})]}),a.session_checklist.problem_score&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Angka Awal"}),e.jsxs("p",{className:"text-sm font-black text-indigo-600",children:[a.session_checklist.problem_score,"/10"]})]}),a.session_checklist.final_problem_score&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Angka Akhir"}),e.jsxs("p",{className:"text-sm font-black text-emerald-600",children:[a.session_checklist.final_problem_score,"/10"]})]}),a.session_checklist.induction_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Induksi"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.induction_type.join(", ")})]}),a.session_checklist.deepening_technique?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Deepening"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.deepening_technique.join(", ")})]}),a.session_checklist.core_method_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Metode Inti"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.core_method_type.join(", ")})]}),a.session_checklist.suggestion_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Sugesti"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.suggestion_type.join(", ")})]}),a.session_checklist.timeline_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Timeline"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.timeline_type.join(", ")})]}),a.session_checklist.emerging_type?.length>0&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Emerging"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.emerging_type.join(", ")})]}),e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Abreaksi"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_abreaction?"Ya":"Tidak"})]}),e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Segel Hipnotis"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_seal?"Ya":"Tidak"})]}),e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Pengujian Hasil"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.has_result_test?"Ya":"Tidak"})]}),a.session_checklist.desired_outcome&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700 col-span-2",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Outcome Diinginkan"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.desired_outcome})]}),a.session_checklist.outcome_indicator&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700 col-span-2",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Indikator Outcome"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.outcome_indicator})]}),a.session_checklist.has_exception&&a.session_checklist.exception_detail&&e.jsxs("div",{className:"p-2.5 bg-white/50 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700 col-span-2",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-0.5",children:"Pengecualian"}),e.jsx("p",{className:"text-[11px] font-bold text-gray-800 dark:text-gray-200",children:a.session_checklist.exception_detail})]})]})]})]})]})]}),a.reschedule_reason&&e.jsxs("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-900/10 border-2 border-dashed border-amber-200 dark:border-amber-800/30 rounded-2xl",children:[e.jsxs("p",{className:"text-[9px] font-black text-amber-700 dark:text-amber-500 uppercase flex items-center gap-1.5 mb-1.5",children:[e.jsx(w,{className:"w-3 h-3"})," Info Reschedule"]}),e.jsxs("p",{className:"text-xs font-medium text-amber-800 dark:text-amber-300 italic",children:['"',a.reschedule_reason,'"']})]})]},a.id)}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 pl-8",children:[e.jsx(n,{className:"w-16 h-16 mb-4 opacity-10"}),e.jsx("p",{className:"text-sm italic font-medium",children:"Belum ada riwayat sesi konsultasi."})]})})]})},"history")]})})]})]})}),e.jsx(M,{show:x!==null,onClose:()=>g(null),children:e.jsxs("form",{onSubmit:X,className:"p-8 dark:bg-gray-900 border border-transparent dark:border-gray-800 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Jadwal Ulang"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8 font-bold text-indigo-500",children:["Anda sedang menjadwal ulang sesi ",e.jsx("strong",{children:x?.booking_code})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"new_schedule_id",value:"Pilih Slot Baru",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsxs("select",{id:"new_schedule_id",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-4 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all dark:text-gray-200",value:h.new_schedule_id,onChange:a=>I("new_schedule_id",a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Slot Tersedia --"}),G?.filter(a=>a.id!==x?.schedule_id).map(a=>e.jsxs("option",{value:a.id,children:[new Date(a.date).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short"})," | ",a.start_time?.substring(0,5)," WIB | ",a.therapist?.name||"Praktisi"]},a.id))]})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"reschedule_reason",value:"Alasan Perubahan (Akan Muncul di Dashboard Pasien)",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsx("textarea",{id:"reschedule_reason",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all resize-none dark:text-gray-200",rows:"3",placeholder:"Detail alasan reschedule...",value:h.reschedule_reason,onChange:a=>I("reschedule_reason",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(K,{onClick:()=>g(null),disabled:j,className:"rounded-2xl px-6",children:"Batal"}),e.jsx("button",{type:"submit",disabled:j||!h.new_schedule_id,className:`inline-flex items-center px-8 py-3 bg-indigo-600 border border-transparent rounded-2xl font-black text-[10px] text-white uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg active:scale-95 ${(j||!h.new_schedule_id)&&"opacity-25"}`,children:"Simpan Jadwal Baru"})]})]})}),e.jsx(M,{show:k!==null,onClose:()=>m(null),children:e.jsxs("form",{onSubmit:Z,className:"p-8 dark:bg-gray-900 border border-transparent dark:border-gray-800 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Batalkan / No-Show"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8 font-bold text-red-500",children:["Menandai booking ",e.jsx("strong",{children:k?.booking_code})," tidak hadir."]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"no_show_party",value:"Keterangan Pihak Berhalangan",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsxs("select",{id:"no_show_party",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-4 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all dark:text-gray-200",value:P.no_show_party,onChange:a=>C("no_show_party",a.target.value),required:!0,children:[e.jsx("option",{value:"patient",children:"Pasien Tidak Hadir"}),e.jsx("option",{value:"therapist",children:"Praktisi Berhalangan / Batalkan"})]})]}),e.jsxs("div",{children:[e.jsx(y,{htmlFor:"no_show_reason",value:"Alasan Pembatalan / No-Show",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 ml-1 mb-2"}),e.jsx("textarea",{id:"no_show_reason",className:"mt-1 block w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all resize-none dark:text-gray-200",rows:"3",placeholder:"Detail pembatalan...",value:P.no_show_reason,onChange:a=>C("no_show_reason",a.target.value),required:!0})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(K,{onClick:()=>m(null),disabled:N,className:"rounded-2xl px-6",children:"Batal"}),e.jsx("button",{type:"submit",disabled:N,className:`inline-flex items-center px-8 py-3 bg-red-600 border border-transparent rounded-2xl font-black text-[10px] text-white uppercase tracking-widest hover:bg-red-700 transition-all shadow-lg active:scale-95 ${N&&"opacity-25"}`,children:"Konfirmasi No-Show"})]})]})})]})}export{Ue as default};

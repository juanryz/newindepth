import{d as b,u as f,j as e,H as j,L as y}from"./app-CK5CZmab.js";import{A as k}from"./AuthenticatedLayout-jg93a4dZ.js";import{I as o}from"./InputError-DOqQ11MP.js";import{I as r}from"./InputLabel-DniLxb8n.js";import{P as v}from"./PrimaryButton-BcqOaLWA.js";import{T as d}from"./TextInput-Bog2Y7KE.js";import"./transition-DfwNSuVf.js";import"./ThemeToggle-vXFnlqIr.js";import"./LiquidBackground-Dz6VB4aM.js";function T({course:i}){const n=!!i.id,[c,u]=b.useState(i.thumbnail?`/storage/${i.thumbnail}`:null),{data:s,setData:t,post:g,processing:p,errors:l}=f({title:i.title||"",description:i.description||"",course_type:i.course_type||"online",online_platform:i.online_platform||"",online_link:i.online_link||"",location:i.location||"",price:i.price||0,thumbnail:null,is_published:i.is_published||!1,_method:n?"put":"post"}),x=a=>{const m=a.target.files[0];m&&(t("thumbnail",m),u(URL.createObjectURL(m)))},h=a=>{a.preventDefault(),g(n?route("admin.courses.update",i.id):route("admin.courses.store"),{forceFormData:!0})};return e.jsxs(k,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:n?"Edit Kelas LMS":"Tambah Kelas LMS Baru"}),children:[e.jsx(j,{title:n?"Edit Kelas":"Tambah Kelas"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"title",value:"Judul Kelas"}),e.jsx(d,{id:"title",type:"text",className:"mt-1 block w-full",value:s.title,onChange:a=>t("title",a.target.value),required:!0,isFocused:!0}),e.jsx(o,{message:l.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"price",value:"Harga (Rp) - Isi 0 Jika Gratis"}),e.jsx(d,{id:"price",type:"number",min:"0",className:"mt-1 block w-full",value:s.price,onChange:a=>t("price",a.target.value),required:!0}),e.jsx(o,{message:l.price,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"course_type",value:"Tipe Kelas"}),e.jsxs("select",{id:"course_type",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.course_type,onChange:a=>t("course_type",a.target.value),required:!0,children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"offline",children:"Offline (Tatap Muka)"})]}),e.jsx(o,{message:l.course_type,className:"mt-2"})]}),s.course_type==="online"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"online_platform",value:"Platform Online (Zoom, Meet, dll)"}),e.jsx(d,{id:"online_platform",type:"text",className:"mt-1 block w-full",value:s.online_platform,onChange:a=>t("online_platform",a.target.value),placeholder:"Contoh: Zoom Meeting",required:s.course_type==="online"}),e.jsx(o,{message:l.online_platform,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"online_link",value:"Link Meeting (Zoom/GMeet/dll)"}),e.jsx(d,{id:"online_link",type:"url",className:"mt-1 block w-full",value:s.online_link,onChange:a=>t("online_link",a.target.value),placeholder:"https://zoom.us/j/...",required:s.course_type==="online"}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*Link ini hanya akan tampil bagi pasien yang sudah membeli kelas."}),e.jsx(o,{message:l.online_link,className:"mt-2"})]})]}),s.course_type==="offline"&&e.jsxs("div",{children:[e.jsx(r,{htmlFor:"location",value:"Lokasi / Alamat"}),e.jsx(d,{id:"location",type:"text",className:"mt-1 block w-full",value:s.location,onChange:a=>t("location",a.target.value),placeholder:"Contoh: Klinik InDepth, Jakarta",required:s.course_type==="offline"}),e.jsx(o,{message:l.location,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",value:"Deskripsi Lengkap"}),e.jsx("textarea",{id:"description",className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm min-h-[150px]",value:s.description,onChange:a=>t("description",a.target.value),required:!0}),e.jsx(o,{message:l.description,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 items-start",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"thumbnail",value:"Thumbnail Kelas (Opsional)"}),e.jsx("input",{id:"thumbnail",type:"file",accept:"image/*",className:"mt-1 block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-indigo-900 dark:file:text-indigo-300",onChange:x}),e.jsx(o,{message:l.thumbnail,className:"mt-2"}),c&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),e.jsx("img",{src:c,alt:"Preview",className:"h-32 object-cover rounded shadow-md border border-gray-200 dark:border-gray-700"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 rounded-md border border-gray-200 dark:border-gray-600",children:[e.jsx(r,{value:"Status Publikasi"}),e.jsxs("label",{className:"flex items-center mt-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 cursor-pointer h-5 w-5",checked:s.is_published,onChange:a=>t("is_published",a.target.checked)}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300 font-medium",children:"Tampilkan kelas ini di katalog publik (Publish)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Jika tidak di centang, kelas akan disimpan sebagai Draft dan tidak bisa dibeli/dilihat user."})]})]}),e.jsxs("div",{className:"flex items-center justify-end mt-6 space-x-3 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(y,{href:route("admin.courses.index"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md",children:"Batal"}),e.jsx(v,{disabled:p,children:n?"Simpan Perubahan":"Buat Kelas"})]})]})})})})]})}export{T as default};

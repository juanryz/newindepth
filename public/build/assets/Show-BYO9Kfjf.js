import{b as u,j as e,H as b,L as o}from"./app-BS48rDuz.js";import{T as k}from"./ThemeToggle-DQaj5Tfz.js";import{A as f}from"./index-CvEf0b4p.js";import{m as w}from"./proxy-BAOqr2Bt.js";function M({course:s,lesson:r,isEnrolled:n,auth:y}){const[c,m]=u.useState(!0),d=s.lessons||[],l=d.findIndex(t=>t.id===r.id),x=l>0?d[l-1]:null,a=l<d.length-1?d[l+1]:null,p=t=>{if(!t)return null;if(t.includes("youtube.com/embed/"))return t;let i="";return t.includes("youtu.be/")?i=t.split("youtu.be/")[1].split("?")[0]:t.includes("v=")?i=t.split("v=")[1].split("&")[0]:t.includes("youtube.com/embed/")&&(i=t.split("youtube.com/embed/")[1].split("?")[0]),i?`https://www.youtube.com/embed/${i}?rel=0&modestbranding=1`:t};return e.jsxs("div",{className:"h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans antialiased overflow-hidden flex flex-col",children:[e.jsx(b,{children:e.jsxs("title",{children:[r.title," - ",s.title]})}),e.jsxs("nav",{className:"h-16 border-b border-gray-100 dark:border-gray-800 bg-white/80 dark:bg-gray-950/80 backdrop-blur-xl flex items-center justify-between px-6 z-50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{href:"/courses",className:"text-gray-400 hover:text-indigo-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsx("div",{className:"h-4 w-px bg-gray-200 dark:bg-gray-700 mx-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-500 leading-none mb-1",children:"Learning Player"}),e.jsx("h1",{className:"text-sm font-black uppercase text-gray-900 dark:text-white truncate max-w-[200px] sm:max-w-md leading-none",children:s.title})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{}),e.jsx("button",{onClick:()=>m(!c),className:"p-2 rounded-xl bg-gray-50 dark:bg-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all sm:flex hidden",children:e.jsx("svg",{className:`w-5 h-5 transition-transform ${c?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 19l-7-7m0 0l7-7m-7 7h18"})})}),e.jsx(o,{href:`/courses/${s.slug}`,className:"px-5 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-indigo-600 dark:hover:bg-indigo-400 dark:hover:text-white transition-all",children:"Daftar Modul"})]})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx(f,{initial:!1,children:c&&e.jsxs(w.aside,{initial:{width:0,opacity:0},animate:{width:320,opacity:1},exit:{width:0,opacity:0},className:"bg-gray-50 dark:bg-gray-900/50 border-r border-gray-100 dark:border-gray-800 flex flex-col hidden sm:flex shrink-0",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-800",children:[e.jsx("h3",{className:"text-xs font-black uppercase tracking-[0.2em] text-gray-400",children:"Kurikulum Kelas"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.length," Materi Pembelajaran"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:d.map((t,i)=>{const h=t.id===r.id,g=!n&&!t.is_preview;return e.jsxs(o,{href:g?"#":route("lessons.show",[s.slug,t.id]),className:`
                                                w-full flex items-start gap-4 p-4 rounded-2xl transition-all group
                                                ${h?"bg-white dark:bg-gray-800 shadow-xl shadow-gray-200/50 dark:shadow-none ring-1 ring-gray-100 dark:ring-gray-700":"hover:bg-gray-100 dark:hover:bg-gray-800/50"}
                                                ${g?"opacity-50 cursor-not-allowed":""}
                                            `,children:[e.jsx("div",{className:`
                                                shrink-0 w-8 h-8 rounded-lg flex items-center justify-center font-black text-xs border
                                                ${h?"bg-indigo-600 border-indigo-500 text-white":"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-400"}
                                            `,children:i+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-xs font-black uppercase truncate ${h?"text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-gray-400"}`,children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-[9px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[t.type==="video"?e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"})}):e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.type==="video"?"Video":"Reading"]}),t.is_preview&&e.jsx("span",{className:"text-[8px] font-black bg-emerald-100 text-emerald-700 px-1.5 py-0.5 rounded uppercase",children:"Free"}),g&&e.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]})]})]},t.id)})})]})}),e.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col bg-white dark:bg-gray-950",children:[r.type==="video"?e.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-black w-full relative",children:r.video_url?e.jsx("iframe",{src:p(r.video_url),className:"w-full h-full aspect-video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500 bg-gray-900",children:[e.jsx("svg",{className:"w-20 h-20 mb-4 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e.jsx("p",{className:"font-black uppercase tracking-widest text-xs",children:"Video Content Empty"})]})}):r.type==="document"&&r.attachment?e.jsxs("div",{className:"bg-indigo-900/10 py-20 px-6 sm:px-12 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center mb-6 border border-indigo-100 dark:border-gray-700",children:r.attachment.match(/\.(jpg|jpeg|png|gif)$/i)?e.jsx("img",{src:`/storage/${r.attachment}`,className:"w-full h-full object-cover rounded-2xl",alt:"Preview"}):e.jsx("svg",{className:"w-12 h-12 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-2",children:r.attachment_name||"Materi Dokumen"}),e.jsx("a",{href:`/storage/${r.attachment}`,target:"_blank",download:!0,className:"mt-4 px-10 py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-600/20",children:"Download / Buka File"})]}):e.jsxs("div",{className:"h-40 bg-gradient-to-br from-indigo-600 to-indigo-900 flex items-center px-12 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 blur-[100px] rounded-full"}),e.jsx("h2",{className:"text-white text-3xl font-black uppercase tracking-tight relative z-10",children:r.title})]}),e.jsxs("div",{className:"max-w-4xl mx-auto w-full px-6 sm:px-12 py-12",children:[r.type!=="document"&&r.attachment&&e.jsxs("div",{className:"mb-10 p-6 bg-emerald-50 dark:bg-emerald-900/20 rounded-3xl border border-emerald-100 dark:border-emerald-800 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white dark:bg-gray-800 rounded-xl flex items-center justify-center text-emerald-500 shadow-sm",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-emerald-600 dark:text-emerald-400 uppercase tracking-widest mb-1",children:"Lampiran Materi"}),e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white truncate max-w-[200px]",children:r.attachment_name})]})]}),e.jsx("a",{href:`/storage/${r.attachment}`,download:!0,className:"px-6 py-3 bg-emerald-500 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 transition-all",children:"Download"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[r.is_preview&&e.jsx("span",{className:"bg-emerald-500 text-white text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-widest shadow-lg shadow-emerald-500/20",children:"Preview Gratis"}),e.jsxs("span",{className:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-widest border border-gray-200 dark:border-gray-700",children:["MODUL ",l+1]})]}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-gray-900 dark:text-white uppercase leading-tight mb-8",children:r.title}),r.content?e.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 leading-relaxed font-medium selection:bg-indigo-500 selection:text-white",dangerouslySetInnerHTML:{__html:r.content}}):e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center border-2 border-dashed border-gray-100 dark:border-gray-800 rounded-[3rem]",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-200 dark:text-gray-700 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),e.jsx("p",{className:"text-gray-400 dark:text-gray-600 italic",children:"Tidak ada deskripsi teks untuk materi ini."})]}),e.jsxs("div",{className:"flex border-t border-gray-100 dark:border-gray-800 mt-20 pt-10 gap-4 mb-20",children:[x&&e.jsx(o,{href:route("lessons.show",[s.slug,x.id]),className:"flex-1 flex items-center justify-between p-6 bg-gray-50 dark:bg-gray-900 rounded-[2rem] border border-gray-100 dark:border-gray-800 hover:border-indigo-500 transition-all group",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover:text-indigo-600 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Sebelumnya"}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white uppercase truncate max-w-[120px] sm:max-w-none",children:x.title})]})]})}),a&&e.jsxs(o,{href:!n&&!a.is_preview?"#":route("lessons.show",[s.slug,a.id]),className:`
                                        flex-1 flex items-center justify-between p-6 rounded-[2rem] transition-all group text-right
                                        ${!n&&!a.is_preview?"bg-gray-100 dark:bg-gray-900/50 opacity-50 cursor-not-allowed border border-gray-100 dark:border-gray-800":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-xl shadow-indigo-500/20"}
                                    `,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-[10px] font-black uppercase tracking-widest leading-none mb-1 ${!n&&!a.is_preview?"text-gray-400":"text-white/60"}`,children:"Berikutnya"}),e.jsx("p",{className:"text-sm font-black uppercase truncate max-w-[120px] sm:max-w-none",children:!n&&!a.is_preview?"Modul Terkunci":a.title})]}),!n&&!a.is_preview?e.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-800 flex items-center justify-center text-gray-400 ml-4",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center text-white ml-4 group-hover:translate-x-1 transition-transform",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 5l7 7-7 7"})})})]})]})]})]})]})]})}export{M as default};

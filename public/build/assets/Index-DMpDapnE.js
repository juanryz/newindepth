import{b as s,u as j,j as e,H as Xe,f as u}from"./app-6eaGyqVV.js";import{A as Ze}from"./AuthenticatedLayout-Dq0KEW8_.js";import{M as k}from"./Modal-D_EWC0RG.js";import{T as x}from"./TextInput-C59-vOeD.js";import{I as r}from"./InputLabel-BnOYMY8h.js";import{I as i}from"./InputError-CqAUyNe6.js";import{S as w}from"./SecondaryButton-CLQArCtE.js";import{c as I}from"./createLucideIcon-B0ZTSVoK.js";import{W as Je,C as Ye,a as Ge,S as Qe,I as ea}from"./wallet-BJQRXQ2X.js";import{Z as aa}from"./zap-3VUIIJuo.js";import{C as ta}from"./chevron-right-CPG_yq4J.js";import{A as Y}from"./index-siO0MjkR.js";import{m as p}from"./proxy-PPfOng25.js";import{R as G,L as sa,C as ra,X as ia,Y as la,T as Q,a as na,P as da,b as oa,c as ca,d as xa}from"./PieChart-DF_bRe2b.js";import{S as q}from"./search-FjW67jDj.js";import{P as ee}from"./plus-qiaq-YNZ.js";import{T as pa}from"./trash-2-CGfrlvS8.js";import{F as ga}from"./file-text-DRQljOnV.js";import{C as ma}from"./circle-alert-DJuGT23z.js";import{C as ua}from"./circle-check-B251oFSB.js";import{C as ha}from"./circle-x-DOZC98Ho.js";import{C as ba}from"./calendar-DeMwW6Rx.js";import"./transition-DiBfSJmm.js";import"./ThemeToggle-B8sJKJdP.js";import"./LiquidBackground-B8SNDjzN.js";import"./with-selector-CY8ydf82.js";const ya=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fa=I("download",ya);const ja=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ka=I("history",ja);const wa=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],va=I("layout-dashboard",wa);const Na=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ca=I("receipt",Na),ae=["#6366f1","#10b981","#f59e0b","#ef4444","#a855f7","#06b6d4"],te=l=>{switch(l){case"pending":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"approved":return"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400";case"completed":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400";case"rejected":return"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400";default:return"bg-gray-100 text-gray-700"}};function at({reports:l,pettyCash:n,filters:d,auth:Sa,userRole:se}){const[o,re]=s.useState("reports"),[W,K]=s.useState(null),[ie,h]=s.useState(!1),[v,le]=s.useState(""),[N,ne]=s.useState(""),[C,de]=s.useState(""),[S,oe]=s.useState(""),[b,ce]=s.useState(""),[c,xe]=s.useState(""),[pe,y]=s.useState(!1),[ge,D]=s.useState(!1),[me,_]=s.useState(!1),[ue,P]=s.useState(!1),[f,R]=s.useState(null),[Da,_a]=s.useState(null),[H,L]=s.useState(null),T=se?.some(a=>a.toLowerCase().replace(/_/g," ")==="santa maria"||a.toLowerCase()==="santa_maria"),he=[{id:"reports",label:"Ringkasan Laporan",icon:va},{id:"petty_cash",label:"Kas Kecil Internal",icon:Je},{id:"petty_cash_external",label:"Kas Kecil Eksternal",icon:aa},{id:"activity",label:"Log Kegiatan",icon:ka}],{data:g,setData:m,post:be,processing:ye,reset:fe,errors:$}=j({transaction_date:new Date().toISOString().split("T")[0],amount:"",type:"out",description:"",category:"",receipt:null}),{data:B,setData:A,post:je,processing:ke,reset:we,errors:M}=j({type:"funding",title:"",description:"",amount:""}),{data:ve,setData:U,post:Ne,processing:Ce,reset:Se,errors:z}=j({payment_method:"transfer",transfer_proof:null}),{data:De,setData:_e,post:Pe,processing:Le,reset:Ie,errors:Ke}=j({rejection_reason:""}),{data:V,setData:F,post:Re,processing:Te,reset:$e,errors:O}=j({amount_spent:"",description:"",receipt:null}),X=a=>{const{name:t,value:E}=a.target;u.get(route("admin.finance.index"),{...d,[t]:E},{preserveState:!0})},Be=a=>{u.get(route("admin.finance.index"),{...d,proposal_status:a,active_tab:"petty_cash_external"},{preserveState:!0,preserveScroll:!0})},Ae=a=>{a.preventDefault(),je(route("admin.petty-cash.proposals.store"),{onSuccess:()=>{we(),y(!1)}})},Me=a=>{R(a),a.type==="funding"?D(!0):u.post(route("admin.petty-cash.proposals.approve",a.id),{},{preserveScroll:!0})},Fe=a=>{a.preventDefault(),Ne(route("admin.petty-cash.proposals.approve",f.id),{onSuccess:()=>{D(!1),Se()},forceFormData:!0,preserveScroll:!0})},Oe=a=>{R(a),_(!0)},Ee=a=>{a.preventDefault(),Pe(route("admin.petty-cash.proposals.reject",f.id),{onSuccess:()=>{_(!1),Ie()}})},qe=a=>{R(a),P(!0)},We=a=>{a.preventDefault(),Re(route("admin.petty-cash.proofs.store",f.id),{onSuccess:()=>{P(!1),$e()}})},He=a=>{u.post(route("admin.petty-cash.proofs.approve",a),{},{preserveScroll:!0})},Ue=a=>{u.post(route("admin.petty-cash.proofs.reject",a),{},{preserveScroll:!0})},Z=s.useMemo(()=>{const a=[];return(n?.proposals||[]).forEach(t=>{a.push({id:`prop-create-${t.id}`,type:"proposal_created",icon:"ðŸ“",color:"indigo",actor:t.user?.name||"Staff",actorRole:"Staff",action:"mengajukan kas kecil",subject:t.title,detail:`${t.type==="funding"?"Permohonan Dana":"Belanja"} Â· Rp ${new Intl.NumberFormat("id-ID").format(t.amount||0)}`,date:t.created_at}),(t.status==="approved"||t.status==="completed")&&a.push({id:`prop-approve-${t.id}`,type:"proposal_approved",icon:"âœ…",color:"emerald",actor:t.approver?.name||"Admin",actorRole:"Admin",action:"menyetujui pengajuan kas",subject:t.title,detail:`Rp ${new Intl.NumberFormat("id-ID").format(t.amount||0)}`,date:t.approved_at||t.updated_at}),t.status==="rejected"&&a.push({id:`prop-reject-${t.id}`,type:"proposal_rejected",icon:"âŒ",color:"rose",actor:t.approver?.name||"Admin",actorRole:"Admin",action:"menolak pengajuan kas",subject:t.title,detail:`Alasan: ${t.rejection_reason||"-"}`,date:t.approved_at||t.updated_at})}),(n?.transactions||[]).forEach(t=>{!t.description?.includes("Replenishment")&&!t.description?.includes("Belanja:")&&a.push({id:`pct-${t.id}`,type:"petty_cash_tx",icon:t.type==="in"?"ðŸ“ˆ":"ðŸ“‰",color:t.type==="in"?"emerald":"amber",actor:t.recorder?.name||"Staff",actorRole:"Operator",action:t.type==="in"?"mengisi kas kecil":"mencatat pemakaian kas",subject:t.description,detail:`Rp ${new Intl.NumberFormat("id-ID").format(t.amount||0)} Â· Saldo: Rp ${new Intl.NumberFormat("id-ID").format(t.balance_after||0)}`,date:t.created_at||t.transaction_date})}),a.sort((t,E)=>new Date(E.date)-new Date(t.date))},[n]),J=s.useMemo(()=>Z.filter(a=>{if(v&&a.type!==v)return!1;if(N){const t=N.toLowerCase();if(!a.actor?.toLowerCase().includes(t)&&!a.subject?.toLowerCase().includes(t)&&!a.detail?.toLowerCase().includes(t)&&!a.action?.toLowerCase().includes(t))return!1}return!(C&&new Date(a.date)<new Date(C)||S&&new Date(a.date)>new Date(S+"T23:59:59"))}),[Z,v,N,C,S]),ze=a=>{a.preventDefault(),be(route("admin.finance.petty-cash.store"),{onSuccess:()=>{fe(),h(!1)},preserveScroll:!0,forceFormData:!0})},Ve=a=>{confirm("Hapus transaksi kas kecil ini?")&&u.delete(route("admin.finance.petty-cash.destroy",a),{preserveScroll:!0})};return e.jsxs(Ze,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-2xl text-gray-800 dark:text-white leading-tight tracking-tight uppercase",children:"Manajemen Keuangan"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mt-1",children:"Laporan, Pengeluaran & Kas Kecil"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("select",{name:"month",className:"h-10 px-4 bg-white/50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-800 rounded-xl text-xs font-black uppercase tracking-widest focus:ring-indigo-500/20 focus:border-indigo-500 dark:text-white transition-all cursor-pointer",value:d.month,onChange:X,children:Array.from({length:12},(a,t)=>t+1).map(a=>e.jsxs("option",{value:a.toString().padStart(2,"0"),children:["Bulan ",a]},a))}),e.jsx("select",{name:"year",className:"h-10 px-4 bg-white/50 dark:bg-gray-800/50 border border-gray-100 dark:border-gray-800 rounded-xl text-xs font-black uppercase tracking-widest focus:ring-indigo-500/20 focus:border-indigo-500 dark:text-white transition-all cursor-pointer",value:d.year,onChange:X,children:[2024,2025,2026,2027].map(a=>e.jsx("option",{value:a,children:a},a))}),e.jsxs("a",{href:route("admin.finance.export-csv",d),className:"inline-flex items-center h-10 px-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-lg shadow-indigo-600/20 active:scale-95",children:[e.jsx(fa,{className:"w-3 h-3 mr-2"}),"Export CSV"]})]})]}),children:[e.jsx(Xe,{title:"Keuangan"}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)] transition-colors duration-500",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"w-full lg:w-80 flex-shrink-0 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-4 shadow-xl border border-white dark:border-gray-800 transition-all duration-500 sticky top-24",children:[e.jsx("div",{className:"space-y-2",children:he.map(a=>e.jsxs("button",{onClick:()=>re(a.id),className:`w-full flex items-center justify-between p-4 rounded-2xl transition-all duration-300 group ${o===a.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/30":"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-xl transition-colors ${o===a.id?"bg-white/20":"bg-gray-100 dark:bg-gray-800 group-hover:bg-white dark:group-hover:bg-gray-700"}`,children:e.jsx(a.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:a.label})]}),e.jsx(ta,{className:`w-4 h-4 transition-transform duration-300 ${o===a.id?"translate-x-0 opacity-100":"-translate-x-2 opacity-0"}`})]},a.id))}),e.jsxs("div",{className:"mt-8 p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:"Kas Kecil Tersedia"}),e.jsxs("p",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["Rp ",(n?.currentBalance??0).toLocaleString("id-ID")]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center text-[10px] font-black uppercase tracking-widest",children:[e.jsx("span",{className:"text-gray-400",children:"Total Pemasukan Bulan ini:"}),e.jsxs("span",{className:"text-indigo-600",children:["Rp ",(l?.stats?.revenue??0).toLocaleString("id-ID")]})]})]})]})}),e.jsx("div",{className:"flex-1 min-w-0 pb-12",children:e.jsxs(Y,{mode:"wait",children:[o==="reports"&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[{label:"Total Pemasukan",val:l?.stats?.revenue??0,color:"indigo"},{label:"Saldo Kas Kecil",val:n?.currentBalance??0,color:"emerald"},{label:"Komisi Afiliasi",val:l?.stats?.commissions??0,color:"amber"},{label:"Laba Bersih",val:l?.stats?.netIncome??0,color:"emerald",highlight:!0}].map((a,t)=>e.jsxs("div",{className:`p-8 rounded-[2.5rem] shadow-xl border transition-all duration-500 ${a.highlight?"bg-indigo-600 text-white border-transparent":"bg-white dark:bg-gray-900 border-white dark:border-gray-800"}`,children:[e.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.2em] mb-4 ${a.highlight?"text-white/70":"text-gray-400"}`,children:a.label}),e.jsxs("h4",{className:`text-2xl font-black ${a.highlight?"text-white":`text-${a.color}-600 dark:text-${a.color}-400`}`,children:["Rp ",a.val.toLocaleString("id-ID")]})]},t))}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 tracking-tight uppercase",children:"Tren Pendapatan"}),e.jsx("div",{className:"h-[350px]",children:e.jsx(G,{width:"100%",height:"100%",children:e.jsxs(sa,{data:l.charts.revenueByMonth,children:[e.jsx(ra,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(156, 163, 175, 0.1)"}),e.jsx(ia,{dataKey:"month_year",tick:{fontSize:10,fontWeight:"bold"}}),e.jsx(la,{tickFormatter:a=>`Rp${a/1e6}jt`,tick:{fontSize:10,fontWeight:"bold"}}),e.jsx(Q,{contentStyle:{borderRadius:"1.5rem",border:"none",background:"#111827",color:"#fff"},formatter:a=>[`Rp ${a.toLocaleString("id-ID")}`,"Pemasukan"]}),e.jsx(na,{type:"monotone",dataKey:"total",stroke:"#6366f1",strokeWidth:4,dot:{r:4},activeDot:{r:8}})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-8 tracking-tight uppercase",children:"Kategori Pengeluaran"}),e.jsx("div",{className:"h-[350px]",children:e.jsx(G,{width:"100%",height:"100%",children:e.jsxs(da,{children:[e.jsx(oa,{data:l.charts.expensesByCategory,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"total",nameKey:"category",children:l.charts.expensesByCategory.map((a,t)=>e.jsx(ca,{fill:ae[t%ae.length]},t))}),e.jsx(Q,{formatter:a=>`Rp ${a.toLocaleString("id-ID")}`}),e.jsx(xa,{wrapperStyle:{fontSize:"10px",fontWeight:"bold"}})]})})})]})]})]},"reports"),o==="petty_cash"&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight uppercase",children:"Kas Kecil Internal"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative w-full sm:w-64 group",children:[e.jsx(q,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 group-focus-within:text-indigo-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Cari transaksi...",className:"w-full pl-11 pr-4 py-3 bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-800 rounded-2xl text-xs font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",value:b,onChange:a=>ce(a.target.value)})]}),e.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center justify-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-xl shadow-indigo-600/20 active:scale-95 w-full sm:w-auto",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Catat Kas Masuk/Keluar"]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tgl / Deskripsi"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tipe"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Nominal"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Saldo Akhir"}),e.jsx("th",{className:"px-8 py-5 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:[n.transactions.filter(a=>a.description.toLowerCase().includes(b.toLowerCase())||a.category?.toLowerCase().includes(b.toLowerCase())).map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all",children:[e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:a.description}),e.jsxs("div",{className:"text-[10px] text-gray-400 mt-1 font-black uppercase tracking-widest leading-none",children:[new Date(a.transaction_date).toLocaleDateString("id-ID")," - ",a.category||"-"]})]}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest ${a.type==="in"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:a.type==="in"?"Isi Saldo (In)":"Keluar (Out)"})}),e.jsxs("td",{className:`px-8 py-6 text-right font-black text-sm ${a.type==="in"?"text-emerald-600":"text-rose-600"}`,children:[a.type==="in"?"+":"-"," Rp ",a.amount.toLocaleString("id-ID")]}),e.jsxs("td",{className:"px-8 py-6 text-right text-sm font-bold text-gray-900 dark:text-white",children:["Rp ",Number(a.balance_after).toLocaleString("id-ID")]}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[a.receipt&&e.jsx("button",{onClick:()=>K(`/storage/${a.receipt}`),className:"p-2 text-indigo-600",children:e.jsx(Ca,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ve(a.id),className:"p-2 text-rose-600",children:e.jsx(pa,{className:"w-4 h-4"})})]})})]},a.id)),n.transactions.filter(a=>a.description.toLowerCase().includes(b.toLowerCase())||a.category?.toLowerCase().includes(b.toLowerCase())).length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-8 py-16 text-center text-gray-400 italic font-medium",children:"Data transaksi tidak ditemukan."})})]})]})})})]},"petty_cash"),o==="petty_cash_external"&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight uppercase",children:"Kas Kecil Eksternal"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative w-full sm:w-64 group",children:[e.jsx(q,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 group-focus-within:text-indigo-500 transition-colors"}),e.jsx("input",{type:"text",placeholder:"Cari pengajuan...",className:"w-full pl-11 pr-4 py-3 bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-800 rounded-2xl text-xs font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",value:c,onChange:a=>xe(a.target.value)})]}),e.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center justify-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-xl shadow-indigo-600/20 active:scale-95 w-full sm:w-auto",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Buat Pengajuan Baru"]})]})]}),e.jsx("div",{className:"flex bg-white dark:bg-gray-950 p-1 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 w-fit",children:[{id:"all",label:"Semua"},{id:"pending",label:"Menunggu"},{id:"approved",label:"Disetujui"},{id:"completed",label:"Selesai"},{id:"rejected",label:"Ditolak"}].map(a=>e.jsx("button",{onClick:()=>Be(a.id),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${d.proposal_status===a.id||!d.proposal_status&&a.id==="all"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"}`,children:a.label},a.id))}),e.jsxs("div",{className:"space-y-6",children:[n.proposals.filter(a=>a.title.toLowerCase().includes(c.toLowerCase())||a.description?.toLowerCase().includes(c.toLowerCase())||a.user?.name.toLowerCase().includes(c.toLowerCase())).length===0&&e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-16 text-center border border-dashed border-gray-200 dark:border-gray-800",children:[e.jsx(ga,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest leading-none",children:"Pengajuan tidak ditemukan"}),e.jsx("p",{className:"text-[10px] text-gray-500 mt-2",children:"Coba gunakan kata kunci pencarian lain."})]}),n.proposals.filter(a=>a.title.toLowerCase().includes(c.toLowerCase())||a.description?.toLowerCase().includes(c.toLowerCase())||a.user?.name.toLowerCase().includes(c.toLowerCase())).map(a=>e.jsx(p.div,{layout:!0,className:"bg-white dark:bg-gray-900 rounded-[2.5rem] shadow-xl border border-white dark:border-gray-800 overflow-hidden group",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex flex-col xl:flex-row justify-between gap-8",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-2xl ${a.type==="funding"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20":"bg-rose-50 text-rose-600 dark:bg-rose-900/20"}`,children:a.type==="funding"?e.jsx(Ye,{className:"w-6 h-6"}):e.jsx(Ge,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a.type==="funding"?"text-emerald-500":"text-rose-500"}`,children:a.type==="funding"?"Isi Saldo":"Belanja Operasional"}),e.jsx("h4",{className:"text-xl font-black text-gray-900 dark:text-white",children:a.title}),e.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mt-0.5",children:["Oleh: ",a.user?.name," â€¢ ",new Date(a.created_at).toLocaleDateString("id-ID",{dateStyle:"long"})]})]})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-black/20 p-5 rounded-2xl border border-gray-50 dark:border-gray-800",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed font-serif",children:a.description||"Tanpa deskripsi."})}),a.status==="rejected"&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-rose-50/50 dark:bg-rose-900/10 border border-rose-100 dark:border-rose-900/20 rounded-2xl",children:[e.jsx(ma,{className:"w-4 h-4 text-rose-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-rose-600",children:"Alasan Penolakan:"}),e.jsx("p",{className:"text-xs font-bold text-rose-800 dark:text-rose-400 mt-1",children:a.rejection_reason})]})]})]}),e.jsxs("div",{className:"xl:w-72 flex flex-col justify-between items-center xl:items-end gap-6",children:[e.jsxs("div",{className:"text-center xl:text-right",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Nominal"}),e.jsxs("h3",{className:"text-2xl font-black text-gray-900 dark:text-white",children:["Rp ",parseFloat(a.amount).toLocaleString("id-ID")]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest ${te(a.status)}`,children:a.status==="pending"?"Menunggu":a.status==="approved"?"Disetujui":a.status==="completed"?"Selesai":a.status==="rejected"?"Ditolak":a.status})})]}),e.jsxs("div",{className:"w-full space-y-2",children:[T&&a.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Me(a),className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-lg transition-all",children:"Setuju"}),e.jsx("button",{onClick:()=>Oe(a),className:"flex-1 py-3 bg-rose-600 hover:bg-rose-700 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-lg transition-all",children:"Tolak"})]}),!T&&a.status==="approved"&&a.type==="spending"&&e.jsx("button",{onClick:()=>qe(a),className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-lg transition-all",children:"Upload Bukti"}),a.transfer_proof&&e.jsx("button",{onClick:()=>L(`/storage/${a.transfer_proof}`),className:"w-full py-3 bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all",children:"Lihat Bukti Transfer"})]})]})]}),a.proofs&&a.proofs.length>0&&e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-50 dark:border-gray-800",children:[e.jsxs("h5",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(Qe,{className:"w-3 h-3"})," Bukti Belanja (",a.proofs.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.proofs.map(t=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-black/20 rounded-2xl border border-gray-50 dark:border-gray-800 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("h6",{className:"text-sm font-black text-gray-900 dark:text-white",children:["Rp ",parseFloat(t.amount_spent).toLocaleString("id-ID")]}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest ${te(t.status)}`,children:t.status})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-500 mb-4 line-clamp-1",children:t.description}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>L(`/storage/${t.receipt_path}`),className:"flex-1 py-2 bg-white dark:bg-gray-800 rounded-lg text-[8px] font-black uppercase tracking-widest border border-gray-100 dark:border-gray-700",children:"Preview"}),T&&t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>He(t.id),className:"p-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:e.jsx(ua,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>Ue(t.id),className:"p-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600",children:e.jsx(ha,{className:"w-3 h-3"})})]})]})]},t.id))})]})]})},a.id))]})]},"petty_cash_external"),o==="activity"&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight uppercase",children:"Log Kegiatan Keuangan"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari aktivitas...",value:N,onChange:a=>ne(a.target.value),className:"pl-9 pr-4 py-2 bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 rounded-xl text-xs font-bold w-48 focus:ring-2 focus:ring-indigo-500 transition-all text-gray-700 dark:text-gray-300 shadow-sm"})]}),e.jsxs("select",{value:v,onChange:a=>le(a.target.value),className:"px-4 py-2 bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 rounded-xl text-xs font-bold focus:ring-2 focus:ring-indigo-500 cursor-pointer text-gray-700 dark:text-gray-300 shadow-sm",children:[e.jsx("option",{value:"",children:"Semua Tipe"}),e.jsx("option",{value:"expense",children:"Pengeluaran"}),e.jsx("option",{value:"proposal_created",children:"Pengajuan (Buat)"}),e.jsx("option",{value:"proposal_approved",children:"Pengajuan (Setuju)"}),e.jsx("option",{value:"proposal_rejected",children:"Pengajuan (Tolak)"}),e.jsx("option",{value:"petty_cash_tx",children:"Transaksi Kas"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 rounded-xl px-2 py-1 shadow-sm",children:[e.jsx(ba,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"date",value:C,onChange:a=>de(a.target.value),className:"px-2 py-1 bg-transparent border-none text-xs font-bold focus:ring-0 cursor-pointer text-gray-700 dark:text-gray-300"}),e.jsx("span",{className:"text-gray-400 text-xs",children:"-"}),e.jsx("input",{type:"date",value:S,onChange:a=>oe(a.target.value),className:"px-2 py-1 bg-transparent border-none text-xs font-bold focus:ring-0 cursor-pointer text-gray-700 dark:text-gray-300"})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest w-32",children:"Waktu"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Aktivitas"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest hidden sm:table-cell",children:"Pelaku"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Detail Informasi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:[J.slice(0,50).map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all group",children:[e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("div",{className:"text-xs font-bold text-gray-900 dark:text-white",children:new Date(a.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})}),e.jsx("div",{className:"text-[10px] text-gray-400 mt-1 font-black uppercase tracking-widest",children:new Date(a.date).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white block mb-0.5",children:a.action}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-[9px] font-black uppercase tracking-widest bg-${a.color}-50 text-${a.color}-600 dark:bg-${a.color}-900/20 dark:text-${a.color}-400 inline-block`,children:a.subject.length>30?a.subject.substring(0,30)+"...":a.subject})]})]})}),e.jsx("td",{className:"px-8 py-6 hidden sm:table-cell",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-black text-xs",children:a.actor.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-gray-900 dark:text-white leading-tight",children:a.actor}),e.jsx("div",{className:"text-[9px] text-gray-400 font-black uppercase tracking-widest mt-0.5",children:a.actorRole})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-bold leading-relaxed max-w-sm",children:a.detail})})]},a.id)),J.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-8 py-16 text-center text-gray-400 italic",children:"Belum ada aktivitas terekam."})})]})]})})})]},"activity")]})})]})})}),e.jsx(k,{show:ie,onClose:()=>h(!1),children:e.jsxs("form",{onSubmit:ze,className:"p-8 dark:bg-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:"Catat Kas Internal"}),e.jsx("button",{type:"button",onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors text-gray-400",children:"âœ•"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 p-2 bg-gray-50 dark:bg-gray-800 rounded-2xl mb-2",children:[e.jsx("button",{type:"button",onClick:()=>m("type","out"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${g.type==="out"?"bg-rose-600 text-white shadow-lg shadow-rose-600/20":"text-gray-400"}`,children:"Kas Keluar (Out)"}),e.jsx("button",{type:"button",onClick:()=>m("type","in"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase transition-all ${g.type==="in"?"bg-emerald-600 text-white shadow-lg shadow-emerald-600/20":"text-gray-400"}`,children:"Kas Masuk (In)"})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Keterangan / Deskripsi",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(x,{className:"w-full",value:g.description,onChange:a=>m("description",a.target.value),placeholder:"Contoh: Beli Kertas, Setor Tunai..."}),e.jsx(i,{message:$.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{value:"Nominal",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(x,{type:"number",className:"w-full",value:g.amount,onChange:a=>m("amount",a.target.value),placeholder:"0"}),e.jsx(i,{message:$.amount})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Kategori",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(x,{className:"w-full",value:g.category,onChange:a=>m("category",a.target.value),placeholder:"ATK, Transport..."}),e.jsx(i,{message:$.category})]})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Bukti Nota (Opsional)",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx("input",{type:"file",className:"w-full text-xs font-bold text-gray-500 mt-1",onChange:a=>m("receipt",a.target.files[0])})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(w,{onClick:()=>h(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:ye,className:`inline-flex items-center px-10 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${g.type==="in"?"bg-emerald-600 text-white shadow-emerald-600/20":"bg-rose-600 text-white shadow-rose-600/20"} shadow-lg`,children:"Simpan Transaksi"})]})]})}),e.jsx(k,{show:pe,onClose:()=>y(!1),children:e.jsxs("form",{onSubmit:Ae,className:"p-8 dark:bg-gray-900",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:"Buat Pengajuan Kas Kecil"}),e.jsx("button",{type:"button",onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors text-gray-400",children:"âœ•"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{value:"Judul Pengajuan",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(x,{className:"w-full",value:B.title,onChange:a=>A("title",a.target.value),placeholder:"Contoh: Belanja ATK Bulanan...",required:!0}),e.jsx(i,{message:M.title})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Detail Deskripsi & Keperluan",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx("textarea",{className:"w-full bg-white dark:bg-gray-900 text-gray-900 dark:text-white border-gray-100 dark:border-gray-800 rounded-2xl text-sm font-bold placeholder-gray-300 dark:placeholder-gray-500 focus:ring-indigo-500 focus:border-indigo-500 min-h-[100px]",value:B.description,onChange:a=>A("description",a.target.value),placeholder:"Jelaskan rincian keperluan dana ini secara mendetail..."}),e.jsx(i,{message:M.description})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Nominal Pengajuan",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(x,{type:"number",className:"w-full",value:B.amount,onChange:a=>A("amount",a.target.value),placeholder:"0",required:!0}),e.jsx(i,{message:M.amount})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(w,{onClick:()=>y(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:ke,className:"inline-flex items-center px-10 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-600/20",children:"Kirim Pengajuan"})]})]})}),e.jsx(k,{show:ge,onClose:()=>D(!1),children:e.jsxs("form",{onSubmit:Fe,className:"p-8 dark:bg-gray-900",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Persetujuan Pengisian Saldo"}),e.jsxs("div",{className:"p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/20 rounded-2xl mb-6",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-600 dark:text-emerald-400 mb-1",children:"Nominal yang akan ditransfer"}),e.jsxs("h3",{className:"text-3xl font-black text-emerald-700 dark:text-emerald-300",children:["Rp ",parseFloat(f?.amount||0).toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{value:"Metode Pembayaran / Pengiriman",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsxs("select",{className:"w-full bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-800 rounded-2xl text-sm font-bold focus:ring-indigo-500 focus:border-indigo-500",value:ve.payment_method,onChange:a=>U("payment_method",a.target.value),children:[e.jsx("option",{value:"transfer",children:"Bank Transfer / Digital Wallet"}),e.jsx("option",{value:"cash",children:"Tunai (Cash)"}),e.jsx("option",{value:"other",children:"Lainnya"})]}),e.jsx(i,{message:z.payment_method})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Unggah Bukti Transfer / Penyerahan (Wajib)",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx("input",{type:"file",className:"w-full text-xs font-bold text-gray-500",onChange:a=>U("transfer_proof",a.target.files[0]),required:!0}),e.jsx(i,{message:z.transfer_proof})]})]}),e.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[e.jsx(w,{onClick:()=>D(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:Ce,className:"inline-flex items-center px-10 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-600/20",children:"Konfirmasi & Posting"})]})]})}),e.jsx(k,{show:me,onClose:()=>_(!1),children:e.jsxs("form",{onSubmit:Ee,className:"p-8 dark:bg-gray-900 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-red-600 dark:text-red-400 mb-4 uppercase tracking-tight",children:"Tolak Pengajuan?"}),e.jsx("p",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 mb-6 font-serif leading-relaxed",children:"Harap sertakan alasan penolakan agar pengirim dapat merevisi atau memahami kendalanya."}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(r,{value:"Alasan Penolakan",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx("textarea",{className:"w-full bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-800 rounded-2xl text-sm font-bold placeholder-gray-300 focus:ring-red-500 focus:border-red-500 min-h-[120px]",value:De.rejection_reason,onChange:a=>_e("rejection_reason",a.target.value),placeholder:"Tulis alasan di sini...",required:!0}),e.jsx(i,{message:Ke.rejection_reason})]})}),e.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[e.jsx(w,{onClick:()=>_(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:Le,className:"inline-flex items-center px-10 py-3 bg-red-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-red-600/20",children:"Konfirmasi Tolak"})]})]})}),e.jsx(k,{show:ue,onClose:()=>P(!1),children:e.jsxs("form",{onSubmit:We,className:"p-8 dark:bg-gray-900 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Unggah Bukti Belanja"}),e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-800 rounded-2xl mb-6",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-400 mb-1",children:"Pengajuan"}),e.jsx("h4",{className:"text-lg font-black text-indigo-900 dark:text-indigo-300",children:f?.title})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{value:"Nominal pada Kwitansi",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(x,{type:"number",className:"w-full",value:V.amount_spent,onChange:a=>F("amount_spent",a.target.value),placeholder:"0",required:!0}),e.jsx(i,{message:O.amount_spent})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Unggah Foto Nota / Kwitansi",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx("input",{type:"file",className:"w-full text-xs font-bold text-gray-500 mt-1",onChange:a=>F("receipt_path",a.target.files[0]),required:!0}),e.jsx(i,{message:O.receipt_path})]})]}),e.jsxs("div",{children:[e.jsx(r,{value:"Detail Belanja (Opsional)",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 mb-2 ml-1"}),e.jsx(x,{className:"w-full",value:V.description,onChange:a=>F("description",a.target.value),placeholder:"Sebutkan rincian jika diperlukan..."}),e.jsx(i,{message:O.description})]})]}),e.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[e.jsx(w,{onClick:()=>P(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:Te,className:"inline-flex items-center px-10 py-3 bg-indigo-600 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-indigo-600/20",children:"Simpan Bukti"})]})]})}),e.jsx(Y,{children:(H||W)&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>{L(null),K(null)},children:e.jsx(p.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"relative max-w-5xl w-full",onClick:a=>a.stopPropagation(),children:e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[3rem] overflow-hidden shadow-2xl",children:e.jsxs("div",{className:"p-8 sm:p-12",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-widest flex items-center gap-3",children:[e.jsx(ea,{className:"w-6 h-6 text-indigo-600"})," Bukti Lampiran"]}),e.jsx("button",{onClick:()=>{L(null),K(null)},className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400 rounded-full hover:scale-110 transition-all font-black text-sm",children:"TUTUP (ESC)"})]}),e.jsx("div",{className:"flex justify-center bg-gray-50 dark:bg-black/40 rounded-[2.5rem] p-4 border border-gray-100 dark:border-gray-800",children:e.jsx("img",{src:H||W,className:"max-h-[70vh] w-auto rounded-xl object-contain shadow-2xl",alt:"Preview"})})]})})})})})]})}export{at as default};

import{j as e,d,u as P,H as me,e as w,L as ge}from"./app-CM1Y6LTV.js";import{A as pe}from"./AuthenticatedLayout-Dl4Dk0q9.js";import{M as u,S as v}from"./SecondaryButton-DBcDJX6y.js";import{T as A}from"./TextInput-DM6KsWeU.js";import he from"./ErrorBoundary-C21WdVWT.js";import{m as i}from"./proxy-CueuSXPz.js";import{A as T,H as z,E as be}from"./heart-BkOQ75q7.js";import{C as M}from"./calendar-64sKU_1M.js";import{C as ue,F as ye,a as ke}from"./fingerprint-pattern-BhSNY6Wd.js";import{P as je}from"./plus-CVFCME3u.js";import{U as J}from"./users-CWoDFXnf.js";import{S as I}from"./shield-check-CZQEAg9S.js";import{C as fe}from"./chevron-right-Cz2zzFlN.js";import{A as U}from"./index-BT4GQVzV.js";import{U as q}from"./user-DCxmFUJ4.js";import{C as y}from"./circle-check-Ce99v5oU.js";import{c as L}from"./createLucideIcon-DIkDG3cp.js";import{M as Ne}from"./mail-BIo-qaiE.js";import{P as we}from"./phone-B3mQH2l8.js";import{E as F}from"./eye-D_KDrRj4.js";import{S as ve}from"./save-D4GzRTGF.js";import{T as _e}from"./triangle-alert-3FDMXWhd.js";import{C as Se}from"./credit-card-GFII7VAa.js";import{C as De}from"./chevron-left-Bpu6nXF9.js";import"./transition-CEtJQUh1.js";import"./ThemeToggle-BMQkgMfp.js";import"./LiquidBackground-BWBex_Uv.js";import"./with-selector-B-R1ka5x.js";const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Pe=L("circle-x",Ce);const Ae=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Te=L("map-pin",Ae);const Ie=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Le=L("star",Ie);function Be({schedule:s,availableSchedules:W,patients:V=[]}){const[c,O]=d.useState("summary"),[_,k]=d.useState(null),[S,g]=d.useState(null),[G,p]=d.useState(!1),[r,j]=d.useState(null),[h,B]=d.useState("summary"),[o,D]=d.useState(null),{data:x,setData:b,post:Y,processing:X,reset:Z}=P({new_schedule_id:"",new_date:"",new_start_time:"",new_end_time:"",reschedule_reason:""}),{data:f,setData:E,post:Q,processing:ee,reset:K}=P({no_show_party:"cancel",no_show_reason:""}),{data:R,setData:$,post:ae,processing:te,reset:re,errors:Ee}=P({patient_id:"",package_type:"reguler",schedule_id:s.id}),[l,se]=d.useState(()=>{const a={};return s.bookings?.forEach(t=>{a[t.id]={recording_link:t.recording_link||"",therapist_notes:t.therapist_notes||"",patient_visible_notes:t.patient_visible_notes||"",status:t.status||"confirmed",completion_outcome:t.completion_outcome||"Normal",core_method:t.session_checklist?.core_method_type?.[0]||""}}),a}),m=(a,t,n)=>{se(N=>({...N,[a]:{...N[a],[t]:n}}))},ie=a=>{const t=l[a];w.patch(route("admin.bookings.update-details",a),{recording_link:t.recording_link,therapist_notes:t.therapist_notes,patient_visible_notes:t.patient_visible_notes,status:t.status,completion_outcome:t.completion_outcome,session_checklist:{core_method_type:[t.core_method]}},{preserveScroll:!0})},de=a=>{a.preventDefault(),Y(route("admin.bookings.reschedule",_.id),{onSuccess:()=>{k(null),Z()},preserveScroll:!0})},le=a=>{a.preventDefault(),f.no_show_party==="cancel"?w.post(route("admin.bookings.cancel",S.id),{},{onSuccess:()=>{g(null),K()},preserveScroll:!0}):Q(route("admin.bookings.no-show",S.id),{onSuccess:()=>{g(null),K()},preserveScroll:!0})},ne=a=>{a.preventDefault(),ae(route("admin.bookings.store"),{onSuccess:()=>{p(!1),re()},preserveScroll:!0})},ce={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},oe=[{id:"summary",label:"Ringkasan Sesi",icon:T},{id:"patients",label:"Daftar Pasien",icon:J},{id:"settings",label:"Pengaturan Sesi",icon:I}],H=new Date(s.date),xe=H.toLocaleDateString("id-ID",{weekday:"long"}),C=H.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});return e.jsxs(pe,{header:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge,{href:route("admin.orders.index"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:e.jsx(De,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900 dark:text-white leading-tight",children:"Detail Jadwal Sesi"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-[0.2em] mt-1",children:"Klinik & Jadwal Praktik"})]})]}),children:[e.jsx(me,{title:`Jadwal: ${s.therapist?.name} - ${C}`}),e.jsx("div",{className:"py-8 relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[e.jsx(i.div,{variants:ce,initial:"hidden",animate:"visible",className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 shadow-sm rounded-[2.5rem] overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-700 p-8 flex flex-col items-center justify-center text-white relative md:w-80",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-md rounded-[2rem] flex items-center justify-center border-4 border-white/30 text-4xl font-black uppercase",children:s.therapist?.name?.charAt(0)||"?"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-emerald-500 border-4 border-indigo-600 rounded-full flex items-center justify-center",children:e.jsx(T,{className:"w-4 h-4 text-white"})})]}),e.jsx("h1",{className:"text-2xl font-black text-center leading-tight uppercase tracking-tight",children:s.therapist?.name}),e.jsx("p",{className:"text-indigo-100 text-[10px] font-black uppercase tracking-widest mt-2",children:s.therapist?.email||"Praktisi / Terapis"})]}),e.jsxs("div",{className:"flex-1 p-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 items-start",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Informasi Waktu"}),e.jsxs("div",{className:"flex items-center gap-4 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 shrink-0",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Hari & Tanggal"}),e.jsxs("p",{className:"text-sm font-black text-gray-900 dark:text-white uppercase",children:[xe,", ",C]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-2xl bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 shrink-0",children:e.jsx(ue,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase",children:"Jam Sesi (WIB)"}),e.jsxs("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:[s.start_time.substring(0,5)," - ",s.end_time.substring(0,5)]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Kapasitas Slot"}),e.jsxs("div",{className:"flex items-end gap-3 mb-1",children:[e.jsx("span",{className:`text-4xl font-black ${s.booked_count>=s.quota?"text-rose-500":"text-indigo-600"}`,children:s.booked_count}),e.jsxs("span",{className:"text-[10px] font-black text-gray-400 mb-2 uppercase tracking-widest",children:["/ ",s.quota," Terdaftar"]})]}),e.jsx("div",{className:"w-full h-3 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden border border-gray-200/50 dark:border-gray-700/50",children:e.jsx(i.div,{initial:{width:0},animate:{width:`${s.booked_count/s.quota*100}%`},className:`h-full ${s.booked_count>=s.quota?"bg-rose-500":"bg-gradient-to-r from-indigo-500 to-indigo-600"}`})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-2",children:"Aksi Cepat"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-between px-5 py-3 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-800/30 rounded-2xl text-emerald-600 dark:text-emerald-400 hover:bg-emerald-100 transition-all font-black text-[10px] uppercase tracking-widest",children:["Tambah Pasien ",e.jsx(je,{className:"w-4 h-4"})]}),e.jsxs("button",{onClick:()=>w.get(route("admin.schedules.index")),className:"flex items-center justify-between px-5 py-3 bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-800/30 rounded-2xl text-indigo-600 dark:text-indigo-400 hover:bg-indigo-100 transition-all font-black text-[10px] uppercase tracking-widest",children:["Kembali ke Kalender ",e.jsx(M,{className:"w-4 h-4"})]})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-72 flex-shrink-0",children:e.jsx("div",{className:"sticky top-8 bg-white/50 dark:bg-gray-800/40 backdrop-blur-md rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 p-2 shadow-sm space-y-1",children:oe.map(a=>e.jsxs("button",{onClick:()=>O(a.id),className:`w-full flex items-center gap-4 px-6 py-4 rounded-2xl text-sm font-black transition-all duration-300 relative z-20 ${c===a.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-600/20 translate-x-2":"text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e.jsx(a.icon,{className:`w-5 h-5 ${c===a.id?"text-white":"text-indigo-500"}`}),a.label,c===a.id&&e.jsx(fe,{className:"w-5 h-5 ml-auto opacity-50"})]},a.id))})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs(U,{mode:"wait",children:[c==="summary"&&e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 p-10 shadow-sm",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-8 flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded-full"}),"Ringkasan Sesi Klinis"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-3",children:"Deskripsi Sesi"}),e.jsxs("div",{className:"p-6 bg-gray-50/50 dark:bg-gray-900/50 border border-gray-100 dark:border-gray-700/50 rounded-[2rem] text-sm font-medium text-gray-600 dark:text-gray-400 leading-relaxed capitalize",children:[s.schedule_type," Session - ",s.therapist?.name," pada ",C,". Sesi ini telah dikonfigurasi untuk menangani pendaftaran pasien dengan paket ",s.schedule_type==="class"?"group":"private","."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-50/50 dark:bg-emerald-950/20 border border-emerald-100/50 dark:border-emerald-800/30 rounded-2xl",children:[e.jsx("p",{className:"text-[9px] font-black text-emerald-600 uppercase mb-1",children:"Status Jadwal"}),e.jsx("p",{className:"text-xs font-black text-emerald-700 dark:text-emerald-400",children:"AKTIF / TERVERIFIKASI"})]}),e.jsxs("div",{className:"p-4 bg-indigo-50/50 dark:bg-indigo-950/20 border border-indigo-100/50 dark:border-indigo-800/30 rounded-2xl",children:[e.jsx("p",{className:"text-[9px] font-black text-indigo-600 uppercase mb-1",children:"Sistem Booking"}),e.jsx("p",{className:"text-xs font-black text-indigo-700 dark:text-indigo-400",children:"INDEPTH CLOUD v3"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-1",children:"Data Terapis & Kehadiran"}),e.jsxs("div",{className:"p-8 bg-indigo-600 rounded-[2.5rem] text-white shadow-xl shadow-indigo-600/20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:e.jsx(q,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black uppercase opacity-70",children:"Praktisi Bertugas"}),e.jsx("p",{className:"text-lg font-black uppercase",children:s.therapist?.name})]})]}),e.jsxs("div",{className:"space-y-2 border-t border-white/20 pt-4",children:[e.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest flex items-center gap-2",children:[e.jsx(y,{className:"w-3.5 h-3.5"})," Kehadiran Terverifikasi"]}),e.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest flex items-center gap-2",children:[e.jsx(y,{className:"w-3.5 h-3.5"})," Slot Tersedia di Kalender"]})]})]})]})]})]})},"summary"),c==="patients"&&e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:s.bookings?.length>0?s.bookings.map(a=>e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-8 bg-gray-50/50 dark:bg-gray-900/30 border-b border-gray-100 dark:border-gray-700/50 flex flex-col md:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-[1.5rem] bg-indigo-600 flex items-center justify-center text-white text-2xl font-black shadow-lg shadow-indigo-600/20",children:a.patient?.name?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-2",children:[a.patient?.name,a.package_type==="vip"&&e.jsx(Le,{className:"w-4 h-4 text-amber-500 fill-amber-500"})]}),e.jsxs("div",{className:"text-xs font-bold text-gray-400 flex items-center gap-4 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"w-3 h-3"})," ",a.patient?.email]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-3 h-3"})," ",a.patient?.phone||"-"]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center md:items-end gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"px-4 py-1.5 rounded-full bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300 text-[10px] font-black uppercase tracking-widest border border-indigo-200/50",children:["Paket ",a.package_type]}),e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${a.status==="completed"?"bg-emerald-100 text-emerald-700 border-emerald-200/50":"bg-blue-100 text-blue-700 border-blue-200/50"}`,children:a.status})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("p",{className:"text-[10px] font-black text-emerald-600 dark:text-emerald-400 uppercase tracking-widest",children:"Pembayaran Terverifikasi"})]})]})]}),e.jsx("div",{className:"p-8 space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest px-1",children:"Integrasi Sesi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-500 uppercase tracking-wider ml-1 mb-1 block",children:"Status Sesi"}),e.jsxs("select",{value:l[a.id]?.status||"confirmed",onChange:t=>m(a.id,"status",t.target.value),className:"w-full bg-gray-50/50 dark:bg-gray-900/50 border-gray-100 dark:border-gray-700/50 rounded-2xl px-5 py-3.5 text-sm font-bold shadow-inner",children:[e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"no_show",children:"No Show"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-500 uppercase tracking-wider ml-1 mb-1 block",children:"Hasil Outcome"}),e.jsxs("select",{value:l[a.id]?.completion_outcome||"Normal",onChange:t=>m(a.id,"completion_outcome",t.target.value),className:"w-full bg-gray-50/50 dark:bg-gray-900/50 border-gray-100 dark:border-gray-700/50 rounded-2xl px-5 py-3.5 text-sm font-bold shadow-inner",children:[e.jsx("option",{value:"Normal",children:"Normal"}),e.jsx("option",{value:"Abnormal/Emergency",children:"Emergency"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-500 uppercase tracking-wider ml-1 mb-1 block",children:"Metode yang Digunakan"}),e.jsxs("select",{value:l[a.id]?.core_method||"",onChange:t=>m(a.id,"core_method",t.target.value),className:"w-full bg-indigo-50/50 dark:bg-indigo-900/20 border-indigo-100 dark:border-indigo-800/30 rounded-2xl px-5 py-3.5 text-sm font-black text-indigo-700 dark:text-indigo-300 shadow-inner",children:[e.jsx("option",{value:"",children:"-- Pilih Metode Terapis --"}),e.jsx("option",{value:"InDepth Solution",children:"InDepth Solution"}),e.jsx("option",{value:"InDepth Trance State",children:"InDepth Trance State"}),e.jsx("option",{value:"Supreme Trance State",children:"Supreme Trance State"}),e.jsx("option",{value:"NLP",children:"Neuro Linguistic Programming (NLP)"}),e.jsx("option",{value:"CBT",children:"Cognitive Behavioral Therapy (CBT)"}),(a.therapist?.specialization||s.therapist?.specialization)?.split(",").map((t,n)=>e.jsx("option",{value:t.trim(),children:t.trim()},n))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-500 uppercase tracking-wider ml-1 mb-1 block",children:"Link Rekaman (Optional)"}),e.jsx("input",{type:"text",value:l[a.id]?.recording_link||"",onChange:t=>m(a.id,"recording_link",t.target.value),className:"w-full bg-gray-50/50 dark:bg-gray-900/50 border-gray-100 dark:border-gray-700/50 rounded-2xl px-5 py-3.5 text-sm font-bold shadow-inner",placeholder:"https://zoom.us/..."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[9px] font-black text-indigo-500 uppercase tracking-wider ml-1 mb-1 block",children:"Catatan Terapis (Internal/Klinis)"}),e.jsx("textarea",{value:l[a.id]?.therapist_notes||"",onChange:t=>m(a.id,"therapist_notes",t.target.value),className:"w-full bg-gray-50/50 dark:bg-gray-900/50 border-gray-100 dark:border-gray-700/50 rounded-2xl px-5 py-3.5 text-sm font-bold shadow-inner resize-none",rows:"2",placeholder:"Input catatan klinis internal..."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"text-[9px] font-black text-emerald-500 uppercase tracking-wider ml-1 mb-1 block",children:"Pesan untuk Pasien (Muncul di Dashboard)"}),e.jsx("textarea",{value:l[a.id]?.patient_visible_notes||"",onChange:t=>m(a.id,"patient_visible_notes",t.target.value),className:"w-full bg-emerald-50/30 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-800/30 rounded-2xl px-5 py-3.5 text-sm font-bold shadow-inner resize-none",rows:"2",placeholder:"Berikan semangat atau instruksi tugas..."})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest px-1",children:"Informasi Praktisi"}),e.jsxs("div",{className:"p-6 bg-indigo-50/50 dark:bg-indigo-950/20 border border-indigo-100/50 dark:border-indigo-800/30 rounded-3xl space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white dark:bg-gray-800 rounded-2xl flex items-center justify-center shadow-sm",children:e.jsx(q,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Terapis Bertanggung Jawab"}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white uppercase",children:a.therapist?.name||s.therapist?.name})]})]}),e.jsxs("div",{className:"pt-4 border-t border-indigo-100/50 dark:border-indigo-800/30 flex justify-between",children:[e.jsxs("button",{onClick:()=>{j(a.patient),B("summary")},className:"flex items-center gap-2 text-[10px] font-black text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 uppercase tracking-widest transition-colors",children:[e.jsx(F,{className:"w-4 h-4"})," Detail Lengkap Pasien"]}),e.jsxs("button",{onClick:()=>ie(a.id),className:"flex items-center gap-2 text-[10px] font-black text-emerald-600 hover:text-emerald-800 dark:text-emerald-400 uppercase tracking-widest transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"})," Simpan Data"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>k(a),className:"flex-1 py-3 bg-amber-50 dark:bg-amber-950/20 text-amber-600 text-[10px] font-black uppercase rounded-xl border border-amber-100 dark:border-amber-900/30 hover:bg-amber-100 transition-all",children:"Reschedule"}),e.jsx("button",{onClick:()=>g(a),className:"flex-1 py-3 bg-rose-50 dark:bg-rose-950/20 text-rose-600 text-[10px] font-black uppercase rounded-xl border border-rose-100 dark:border-rose-900/30 hover:bg-rose-100 transition-all",children:"No-Show / Cancel"})]})]})]})})]},a.id)):e.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/40 backdrop-blur-md rounded-[3rem] p-24 text-center border-2 border-dashed border-gray-100 dark:border-gray-800 flex flex-col items-center",children:[e.jsx(J,{className:"w-12 h-12 text-gray-200 mb-4"}),e.jsx("h4",{className:"text-2xl font-black text-gray-300 uppercase tracking-tight",children:"Belum Ada Pasien"}),e.jsx("button",{onClick:()=>p(!0),className:"mt-8 px-10 py-3 bg-indigo-600 text-white font-black text-[10px] uppercase rounded-2xl shadow-xl",children:"Tambah Pasien Manual"})]})},"patients"),c==="settings"&&e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 p-10 shadow-sm",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-8 flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-rose-500 rounded-full"}),"Pengaturan Kontrol Slot"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"p-8 bg-rose-50/30 dark:bg-rose-950/20 border border-rose-100/50 dark:border-rose-800/30 rounded-[2.5rem] space-y-6",children:[e.jsxs("h4",{className:"text-[10px] font-black text-rose-600 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(_e,{className:"w-4 h-4"})," Hazard Zone"]}),e.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase leading-relaxed p-4 bg-white/50 dark:bg-gray-900/50 rounded-2xl border border-rose-100/50",children:"Hapus jadwal hanya jika belum ada pendaftaran. Jika pendaftaran sudah ada, sistem akan memblokir penghapusan otomatis."}),e.jsx("button",{onClick:()=>{if(s.booked_count>0)return alert("Sudah ada pasien terdaftar periksa tab Daftar Pasien.");confirm("Hapus slot?")&&w.delete(route("admin.schedules.destroy",s.id))},className:`w-full py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all ${s.booked_count>0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-rose-600 text-white shadow-xl shadow-rose-600/20 hover:bg-rose-700"}`,children:"Hapus Seluruh Jadwal"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-6 bg-gray-50/50 dark:bg-gray-900/40 border border-gray-100 dark:border-gray-700/50 rounded-3xl",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"ID JADWAL"}),e.jsxs("p",{className:"text-xl font-black text-gray-900 dark:text-white font-mono",children:["#",s.id]})]}),e.jsxs("div",{className:"p-6 bg-gray-50/50 dark:bg-gray-900/40 border border-gray-100 dark:border-gray-700/50 rounded-3xl",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"TERAKHIR DIUPDATE"}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white uppercase",children:new Date(s.updated_at).toLocaleString("id-ID")})]})]})]})]})},"settings")]})})]})]})}),e.jsx(u,{show:r!==null,onClose:()=>j(null),maxWidth:"7xl",children:r&&e.jsxs("div",{className:"max-h-[90vh] overflow-y-auto custom-scrollbar bg-gray-50 dark:bg-gray-950 p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] flex items-center justify-center text-white text-3xl font-black shadow-2xl",children:r.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:r.name}),e.jsx("p",{className:"text-sm font-bold text-indigo-600 uppercase tracking-[0.2em]",children:r.email})]})]}),e.jsx("button",{onClick:()=>j(null),className:"p-3 bg-white dark:bg-gray-800 rounded-2xl hover:text-rose-500 transition-colors shadow-sm",children:e.jsx(Pe,{className:"w-8 h-8"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-8 bg-white/50 dark:bg-gray-800/40 p-2 rounded-[2rem] border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[{id:"summary",label:"Ringkasan",icon:T},{id:"legal",label:"Pernyataan & S&K",icon:I},{id:"screening",label:"Skrining AI",icon:z},{id:"financial",label:"Histori Transaksi",icon:Se}].map(a=>e.jsxs("button",{onClick:()=>B(a.id),className:`flex-1 flex items-center justify-center gap-2 py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all ${h===a.id?"bg-indigo-600 text-white shadow-lg":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx(a.icon,{className:"w-4 h-4"})," ",a.label]},a.id))}),e.jsxs(U,{mode:"wait",children:[h==="summary"&&e.jsxs(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-[2rem] border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Telepon"}),e.jsx("p",{className:"text-lg font-black text-gray-900 dark:text-white",children:r.phone||"-"})]}),e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-[2rem] border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Usia"}),e.jsxs("p",{className:"text-lg font-black text-gray-900 dark:text-white",children:[r.age||"-"," Tahun"]})]}),e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-[2rem] border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Gender"}),e.jsx("p",{className:"text-lg font-black text-gray-900 dark:text-white capitalize",children:r.gender||"-"})]})]}),e.jsxs("div",{className:"p-10 bg-white dark:bg-gray-800 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 shadow-sm space-y-8",children:[e.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(Te,{className:"w-4 h-4 text-rose-500"})," Lokasi & Kontak Darurat"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Alamat Lengkap"}),e.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:r.address||"Belum diisi."})]}),e.jsxs("div",{className:"p-6 bg-rose-50/50 dark:bg-rose-950/10 border border-rose-100 dark:border-rose-900/30 rounded-3xl space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-rose-600 uppercase",children:"Kontak Darurat"}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white uppercase",children:r.emergency_contact_name||"N/A"}),e.jsx("p",{className:"text-sm font-bold text-rose-600",children:r.emergency_contact_phone||"-"})]})]})]})]},"p-summary"),h==="legal"&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:e.jsxs("div",{className:"p-10 bg-white dark:bg-gray-800 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 shadow-sm",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase mb-8 ml-2 flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"}),"Dokumen Persetujuan Digital"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:`p-8 rounded-[2rem] border min-h-[300px] flex flex-col justify-between ${r.agreement_signed_at?"bg-emerald-50/30 dark:bg-emerald-950/10 border-emerald-100 dark:border-emerald-800/50":"bg-gray-50 border-gray-100"}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx(I,{className:`w-10 h-10 ${r.agreement_signed_at?"text-emerald-500":"text-gray-200"}`}),r.agreement_signed_at&&e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"px-4 py-1.5 bg-emerald-500 text-white rounded-full text-[9px] font-black uppercase",children:"Two Docs Signed"}),e.jsx("span",{className:"text-[8px] font-bold text-emerald-600 mt-1 uppercase",children:"VERIFIED DIGITAL"})]})]}),e.jsx("h4",{className:"text-lg font-black text-gray-900 dark:text-white uppercase leading-tight",children:"PERNYATAAN AWAL + PERJANJIAN LAYANAN"}),e.jsxs("p",{className:"text-[10px] font-bold text-gray-400 mt-2 uppercase tracking-widest",children:["Signed at: ",r.agreement_signed_at?new Date(r.agreement_signed_at).toLocaleString("id-ID"):"Not Signed"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[r.agreement_data?.signature_1&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-xl border border-emerald-100/50 dark:border-emerald-800/50",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Doc 1: Pernyataan"}),e.jsx("img",{src:r.agreement_data.signature_1,alt:"Signature 1",className:"h-10 w-full object-contain invert dark:invert-0"})]}),r.digital_signature&&e.jsxs("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-xl border border-emerald-100/50 dark:border-emerald-800/50",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Doc 2: Perjanjian"}),e.jsx("img",{src:r.digital_signature,alt:"Signature 2",className:"h-10 w-full object-contain invert dark:invert-0"})]})]}),r.agreement_signed_at&&e.jsxs("a",{href:route("admin.users.agreement",r.id),target:"_blank",rel:"noreferrer",className:"mt-6 w-full py-4 bg-white dark:bg-gray-800 text-center text-[10px] font-black uppercase rounded-2xl border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all flex items-center justify-center gap-2",children:["Lihat Kedua Dokumen ",e.jsx(be,{className:"w-3 h-3"})]})]}),e.jsxs("div",{className:`p-8 rounded-[2rem] border min-h-[300px] flex flex-col justify-between ${r.affiliate_agreement_signed_at?"bg-indigo-50/30 dark:bg-indigo-950/10 border-indigo-100 dark:border-indigo-800/50":"bg-gray-50 border-gray-100"}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx(ye,{className:`w-10 h-10 ${r.affiliate_agreement_signed_at?"text-indigo-500":"text-gray-200"}`}),r.affiliate_agreement_signed_at&&e.jsx("span",{className:"px-4 py-1.5 bg-indigo-500 text-white rounded-full text-[9px] font-black uppercase",children:"Affiliate Member"})]}),e.jsx("h4",{className:"text-lg font-black text-gray-900 dark:text-white uppercase leading-tight",children:"PERJANJIAN MITRA AFFILIATE"})]}),r.affiliate_signature?e.jsxs("div",{className:"mt-6 p-4 bg-white dark:bg-gray-900 rounded-2xl border border-indigo-100/50",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-1",children:"Affiliate Signature"}),e.jsx("img",{src:r.affiliate_signature,className:"h-16 w-full object-contain invert dark:invert-0",alt:"af-signature"})]}):e.jsx("div",{className:"mt-6 text-center text-[10px] font-bold text-gray-400 uppercase italic border border-dashed p-8 rounded-2xl",children:"Belum Bergabung Afiliasi"})]}),r.transactions?.filter(a=>a.transactionable_type?.includes("Course")&&a.payment_agreement_data).map(a=>e.jsxs("div",{className:"p-8 rounded-[2rem] border bg-gray-50/50 dark:bg-gray-800/30 border-gray-100 dark:border-gray-700 md:col-span-2",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest mb-1",children:"E-Learning / Kelas"}),e.jsxs("h4",{className:"font-black text-gray-900 dark:text-white uppercase leading-tight",children:["S&K Peserta Kelas: ",a.transactionable?.title||"Course"]}),e.jsxs("p",{className:"text-[9px] font-bold text-gray-400 mt-1",children:["Invoice: ",a.invoice_number]})]}),e.jsx(ke,{className:"w-10 h-10 text-gray-200"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-2.5 bg-emerald-500 rounded-xl text-white",children:e.jsx(y,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-600 dark:text-emerald-400",children:"Persetujuan Terdaftar"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 font-mono italic",children:new Date(a.created_at).toLocaleDateString("id-ID",{dateStyle:"medium"})})]})]}),e.jsx("button",{onClick:()=>D({tx:a,data:a.payment_agreement_data}),className:"w-full py-4 bg-white dark:bg-gray-700 border border-gray-100 dark:border-gray-600 text-[10px] font-black uppercase tracking-widest text-indigo-600 dark:text-indigo-400 rounded-2xl hover:shadow-lg transition-all",children:"Lihat Detail S&K Lengkap"})]},`course-legal-${a.id}`))]})]})},"p-legal"),h==="screening"&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:r.screening_results?.length>0?r.screening_results.map((a,t)=>e.jsxs("div",{className:"p-10 bg-white dark:bg-gray-800 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 shadow-sm space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-900 p-6 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest",children:["Sesi Skrining #",r.screening_results.length-t]}),e.jsx("p",{className:"text-sm font-bold text-gray-500",children:new Date(a.completed_at||a.created_at).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"})})]}),e.jsx("span",{className:"px-5 py-2 bg-rose-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-rose-600/20",children:a.severity_label||"Analyzed"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Summary Diagnosa AI"}),e.jsxs("p",{className:"text-2xl font-black text-gray-900 dark:text-white leading-tight italic",children:['"',a.ai_summary||"-",'"']})]}),a.chat_history&&e.jsxs("div",{className:"p-8 bg-gray-50/30 dark:bg-gray-900/40 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("h5",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-6",children:"Chat History Log"}),e.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto pr-4 custom-scrollbar",children:a.chat_history.map((n,N)=>e.jsx("div",{className:`flex ${n.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl text-xs font-bold ${n.role==="user"?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700"}`,children:n.content})},N))})]})]},a.id)):e.jsxs("div",{className:"py-24 text-center bg-white dark:bg-gray-800 rounded-[3rem] border border-dashed border-gray-100 dark:border-gray-700",children:[e.jsx(z,{className:"w-16 h-16 text-gray-100 mx-auto mb-4"}),e.jsx("p",{className:"text-[10px] font-black text-gray-300 uppercase underline decoration-rose-500 decoration-4 underline-offset-8",children:"Data Skrining Belum Tersedia"})]})},"p-screening"),h==="financial"&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsx("div",{className:"p-8 bg-emerald-50/30 dark:bg-emerald-950/20 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"})," Log Transaksi"]})}),e.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 sticky top-0 z-10",children:e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Invoice / Tanggal"}),e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Layanan"}),e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Nominal"}),e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Bukti"}),e.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Status & Verifikasi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800/50",children:r.transactions?.length>0?r.transactions.map(a=>e.jsxs("tr",{className:"hover:bg-emerald-50/10 transition-colors",children:[e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:a.invoice_number}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:new Date(a.created_at).toLocaleDateString("id-ID")})]}),e.jsxs("td",{className:"px-8 py-6",children:[e.jsx("p",{className:"text-xs font-black uppercase text-indigo-600",children:a.transactionable_type?.split("\\").pop()}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:a.transactionable?.package_type||a.transactionable?.title||"System Service"})]}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:["Rp ",new Intl.NumberFormat("id-ID").format(a.amount)]})}),e.jsx("td",{className:"px-8 py-6 text-center",children:a.payment_proof?e.jsx("a",{href:`/storage/${a.payment_proof}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 group/proof",children:e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover/proof:bg-indigo-600 group-hover/proof:text-white transition-all",children:e.jsx(F,{className:"w-4 h-4"})})}):e.jsx("span",{className:"text-[10px] font-bold text-gray-300 italic",children:"N/A"})}),e.jsx("td",{className:"px-8 py-6 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase ${a.status==="paid"?"bg-emerald-100 text-emerald-600":a.status==="rejected"?"bg-rose-100 text-rose-600":"bg-amber-100 text-amber-600"}`,children:a.status==="paid"?"VALID / LUNAS":a.status}),a.status==="paid"&&a.validated_at&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("span",{className:"text-[8px] font-black text-indigo-500 uppercase flex items-center gap-1",children:[e.jsx(y,{className:"w-2.5 h-2.5"}),"By: ",a.validated_by?.name||"Admin"]}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold",children:new Date(a.validated_at).toLocaleDateString("id-ID")})]})]})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"p-12 text-center text-[10px] font-bold text-gray-400 uppercase italic",children:"Belum ada histori transaksi aktif."})})})]})})]})},"p-finance")]}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100 dark:border-gray-800 text-center",children:e.jsx(v,{onClick:()=>j(null),className:"!rounded-2xl !px-12 !py-4 font-black uppercase tracking-widest text-[10px]",children:"Tutup Detail Pasien"})})]})}),e.jsx(u,{show:o!==null,onClose:()=>D(null),maxWidth:"2xl",children:o&&e.jsxs("div",{className:"p-10 dark:bg-gray-900 rounded-[2.5rem] relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-600/5 rounded-full -mr-16 -mt-16"}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-2",children:"Syarat & Ketentuan Peserta"}),e.jsxs("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest mb-8",children:["Kelas: ",o.tx.transactionable?.title]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-6 rounded-3xl border border-gray-100 dark:border-gray-700/50 max-h-[400px] overflow-y-auto mb-8 custom-scrollbar",children:e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:o.data.agreement_text||"Peserta setuju untuk mengikuti seluruh rangkaian materi dan mematuhi kode etik bimbingan InDepth Mental Wellness."})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700 text-center",children:[e.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase mb-2",children:"Tanda Tangan Peserta"}),e.jsx("img",{src:o.data.signature,className:"h-16 mx-auto object-contain invert dark:invert-0",alt:"course-signature"})]}),e.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-2xl border border-emerald-100/50 flex flex-col justify-center items-center",children:[e.jsx(y,{className:"w-6 h-6 text-emerald-500 mb-1"}),e.jsx("p",{className:"text-[8px] font-black text-emerald-600 uppercase",children:"Tervalidasi Sistem"}),e.jsx("p",{className:"text-[9px] font-bold text-gray-500 mt-1",children:new Date(o.tx.created_at).toLocaleDateString("id-ID")})]})]}),e.jsx("button",{onClick:()=>D(null),className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-black text-[10px] uppercase rounded-2xl shadow-xl tracking-widest",children:"Tutup Dokumen"})]})}),e.jsx(u,{show:_!==null,onClose:()=>k(null),children:e.jsxs("form",{onSubmit:de,className:"p-10 dark:bg-gray-900 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Jadwal Ulang Pasien"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("select",{className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold shadow-inner",value:x.new_schedule_id,onChange:a=>b(t=>({...t,new_schedule_id:a.target.value,new_date:"",new_start_time:"",new_end_time:""})),children:[e.jsx("option",{value:"",children:"-- Buat Jadwal Custom (Manual) --"}),W?.filter(a=>a.id!==_?.schedule_id).map(a=>e.jsxs("option",{value:a.id,children:[new Date(a.date).toLocaleDateString("id-ID")," | ",a.start_time.substring(0,5)," WIB | ",a.therapist?.name]},a.id))]}),!x.new_schedule_id&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(A,{type:"date",className:"sm:col-span-2",value:x.new_date,onChange:a=>b("new_date",a.target.value)}),e.jsx(A,{type:"time",value:x.new_start_time,onChange:a=>b("new_start_time",a.target.value)}),e.jsx(A,{type:"time",value:x.new_end_time,onChange:a=>b("new_end_time",a.target.value)})]}),e.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold shadow-inner",rows:"3",placeholder:"Alasan reschedule...",value:x.reschedule_reason,onChange:a=>b("reschedule_reason",a.target.value),required:!0})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(v,{onClick:()=>k(null),children:"Batal"}),e.jsx("button",{type:"submit",disabled:X,className:"px-8 py-3 bg-amber-600 text-white font-black text-[10px] uppercase rounded-2xl shadow-xl",children:"Konfirmasi"})]})]})}),e.jsx(u,{show:S!==null,onClose:()=>g(null),children:e.jsxs("form",{onSubmit:le,className:"p-10 dark:bg-gray-900 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Batalkan / No-Show"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("select",{className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold shadow-inner",value:f.no_show_party,onChange:a=>E("no_show_party",a.target.value),children:[e.jsx("option",{value:"cancel",children:"Batalkan Total (Open Slot)"}),e.jsx("option",{value:"patient",children:"Pasien Tidak Hadir (Slot Hangus)"}),e.jsx("option",{value:"therapist",children:"Praktisi Berhalangan (Slot Hangus)"})]}),e.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold shadow-inner",placeholder:"Alasan pembatalan...",rows:"3",value:f.no_show_reason,onChange:a=>E("no_show_reason",a.target.value),required:f.no_show_party!=="cancel"})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(v,{onClick:()=>g(null),children:"Batal"}),e.jsx("button",{type:"submit",disabled:ee,className:"px-8 py-3 bg-rose-600 text-white font-black text-[10px] uppercase rounded-2xl shadow-xl",children:"Konfirmasi"})]})]})}),e.jsx(u,{show:G,onClose:()=>p(!1),children:e.jsxs("form",{onSubmit:ne,className:"p-10 dark:bg-gray-900 rounded-[2.5rem]",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-6 uppercase tracking-tight",children:"Tambah Pasien Manual"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("select",{className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold shadow-inner",value:R.patient_id,onChange:a=>$("patient_id",a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Cari Nama Pasien --"}),V.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.email,")"]},a.id))]}),e.jsxs("select",{className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold shadow-inner",value:R.package_type,onChange:a=>$("package_type",a.target.value),children:[e.jsx("option",{value:"reguler",children:"Reguler / Umum"}),e.jsx("option",{value:"hipnoterapi",children:"Paket Hipnoterapi"}),e.jsx("option",{value:"upgrade",children:"Paket Upgrade"}),e.jsx("option",{value:"vip",children:"Paket VIP"})]})]}),e.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[e.jsx(v,{onClick:()=>p(!1),children:"Batal"}),e.jsx("button",{type:"submit",disabled:te,className:"px-10 py-3 bg-indigo-600 text-white font-black text-[10px] uppercase rounded-2xl shadow-xl",children:"Proses Pendaftaran"})]})]})})]})}function oa(s){return e.jsx(he,{children:e.jsx(Be,{...s})})}export{oa as default};

import{e as C,b as l,j as e,H as M,L as i,f as g}from"./app-vKc3cRRF.js";import{A as $}from"./AuthenticatedLayout-DH653c4F.js";import{U as T}from"./users-Dujp3miS.js";import{S as o}from"./shield-check-DzarQkje.js";import{A as p}from"./index-gSHq7Yds.js";import{m as c}from"./proxy-D9BgVkfX.js";import{c as d}from"./createLucideIcon-0mOGyO4U.js";import{C as H}from"./chevron-right-Cqz8gU4M.js";import{S as R}from"./search-CzDJDXry.js";import{E as L}from"./eye-Pe66CARc.js";import{T as y}from"./trash-2-BKzIdYiY.js";import"./transition-CX76Tz0s.js";import"./ThemeToggle-Z7e88HKE.js";import"./LiquidBackground-B5RfQoiU.js";const U=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b=d("circle-check-big",U);const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],I=d("circle-user",q);const z=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],E=d("key",z);const D=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],B=d("shield-alert",D);const K=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],V=d("square-pen",K);const Q=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],G=d("user-plus",Q);function me({users:t,roles:m,permissions:F,filters:u}){const{flash:n}=C().props,k=new URLSearchParams(window.location.search).get("tab")||"users",[s,f]=l.useState(k),[h,j]=l.useState(u.search||""),w=a=>{f(a);const r=new URL(window.location);r.searchParams.set("tab",a),window.history.replaceState({},"",r)},v=[{id:"users",label:"Daftar Pengguna",icon:T,count:t.total},{id:"roles",label:"Akses & Role",icon:o,count:m.length}],N=a=>{a.preventDefault(),g.get(route("admin.users.index"),{search:h},{preserveState:!0,preserveScroll:!0,replace:!0})},_=a=>{confirm("Apakah Anda yakin ingin menghapus pengguna ini? Semua data terkait akan ikut terhapus.")&&g.delete(route("admin.users.destroy",a))},A=a=>{confirm("Apakah Anda yakin ingin menghapus role ini?")&&g.delete(route("admin.roles.destroy",a))},[O,W]=l.useState(""),[X,Y]=l.useState(null);return e.jsxs($,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-2xl text-gray-800 dark:text-white leading-tight tracking-tight uppercase",children:"Manajemen Pengguna"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-[0.2em] mt-1",children:"Kelola Akun, Terapis, dan Hak Akses Sistem"})]}),e.jsx("div",{className:"flex gap-3",children:s==="users"?e.jsxs(i,{href:route("admin.users.create"),className:"inline-flex items-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-lg shadow-indigo-600/20 active:scale-95",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Tambah Pengguna"]}):s==="roles"?e.jsxs(i,{href:route("admin.roles.create"),className:"inline-flex items-center px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] transition-all shadow-lg shadow-emerald-600/20 active:scale-95",children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Tambah Role Baru"]}):null})]}),children:[e.jsx(M,{title:"Manajemen Pengguna"}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)] transition-colors duration-500",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs(p,{children:[n.success&&e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-8 p-4 bg-emerald-50 border border-emerald-100 dark:bg-emerald-900/20 dark:border-emerald-800 rounded-3xl text-emerald-600 dark:text-emerald-400 text-sm font-bold flex items-center gap-3 shadow-sm",children:[e.jsx(b,{className:"w-5 h-5"}),n.success]}),n.error&&e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-8 p-4 bg-rose-50 border border-rose-100 dark:bg-rose-900/20 dark:border-rose-800 rounded-3xl text-rose-600 dark:text-rose-400 text-sm font-bold flex items-center gap-3 shadow-sm",children:[e.jsx(B,{className:"w-5 h-5"}),n.error]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"w-full lg:w-80 flex-shrink-0 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-4 shadow-xl border border-white dark:border-gray-800 transition-all duration-500 sticky top-24",children:[e.jsx("div",{className:"space-y-2",children:v.map(a=>e.jsxs("button",{onClick:()=>w(a.id),className:`w-full flex items-center justify-between p-4 rounded-2xl transition-all duration-300 group ${s===a.id?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/30":"hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-xl transition-colors ${s===a.id?"bg-white/20":"bg-gray-100 dark:bg-gray-800 group-hover:bg-white dark:group-hover:bg-gray-700"}`,children:e.jsx(a.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:a.label})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded-lg ${s===a.id?"bg-white/20":"bg-gray-100 dark:bg-gray-800"}`,children:a.count}),e.jsx(H,{className:`w-4 h-4 transition-transform duration-300 ${s===a.id?"translate-x-0 opacity-100":"-translate-x-2 opacity-0"}`})]})]},a.id))}),e.jsxs("div",{className:"mt-8 p-6 bg-indigo-50/50 dark:bg-indigo-950/20 rounded-[2rem] border border-indigo-100/50 dark:border-indigo-900/30",children:[e.jsx("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-4",children:"Informasi Keamanan"}),e.jsxs("p",{className:"text-xs text-indigo-900/70 dark:text-indigo-300/70 leading-relaxed font-medium",children:["Pastikan untuk memberikan akses role sesuai dengan fungsinya. Gunakan role ",e.jsx("span",{className:"text-indigo-600 font-bold",children:"Super Admin"})," hanya untuk personil yang berwenang mengatur sistem."]})]})]})}),e.jsx("div",{className:"flex-1 min-w-0 pb-12",children:e.jsxs(p,{mode:"wait",children:[s==="users"&&e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-4 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsxs("form",{onSubmit:N,className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(R,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari user berdasarkan nama atau email...",className:"w-full bg-gray-50 dark:bg-gray-950 border-transparent focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 rounded-[1.5rem] pl-14 pr-6 py-4 text-sm font-bold text-gray-900 dark:text-white transition-all",value:h,onChange:a=>j(a.target.value)})]}),e.jsx("button",{type:"submit",className:"px-8 py-4 bg-indigo-600 text-white rounded-[1.5rem] text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-600/20",children:"Cari User"})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Informasi Pengguna"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hak Akses (Role)"}),e.jsx("th",{className:"px-8 py-6 text-center text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Verifikasi"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tindakan"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:t.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all group",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-100 dark:bg-indigo-900/40 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:a.profile_photo_url?e.jsx("img",{src:a.profile_photo_url,alt:"",className:"w-full h-full rounded-2xl object-cover"}):e.jsx(I,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 transition-colors uppercase tracking-tight",children:a.name}),e.jsx("div",{className:"text-[10px] text-gray-400 font-bold tracking-widest",children:a.email})]})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.roles.map((r,S)=>{const x=typeof r=="string"?r:r.name,P=typeof r=="string"?`${r}-${S}`:r.id;return e.jsx("span",{className:`px-3 py-1 text-[9px] font-black uppercase tracking-widest rounded-full ${x==="super_admin"?"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400":x==="therapist"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400"}`,children:x},P)}),a.roles.length===0&&e.jsx("span",{className:"text-[10px] text-gray-400 italic font-medium px-2 py-1",children:"Belum ada role"})]})}),e.jsx("td",{className:"px-8 py-6 text-center",children:a.email_verified_at?e.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-emerald-100 dark:border-emerald-800",children:[e.jsx(b,{className:"w-3 h-3"}),"Terverifikasi"]}):e.jsx("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-amber-100 dark:border-amber-800",children:"Menunggu"})}),e.jsx("td",{className:"px-8 py-6 text-right whitespace-nowrap",children:e.jsxs("div",{className:"flex justify-end gap-2 transition-all",children:[e.jsx(i,{href:route("admin.users.show",a.id),className:"p-3 bg-white dark:bg-gray-800 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 hover:scale-110 active:scale-95 transition-all",title:"Detail",children:e.jsx(L,{className:"w-4 h-4"})}),e.jsx(i,{href:route("admin.users.edit",a.id),className:"p-3 bg-white dark:bg-gray-800 text-gray-400 hover:text-emerald-600 dark:hover:text-emerald-400 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 hover:scale-110 active:scale-95 transition-all",title:"Edit",children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_(a.id),className:"p-3 bg-white dark:bg-gray-800 text-gray-400 hover:text-rose-600 dark:hover:text-rose-400 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 hover:scale-110 active:scale-95 transition-all",title:"Hapus",children:e.jsx(y,{className:"w-4 h-4"})})]})})]},a.id))})]})}),e.jsxs("div",{className:"px-8 py-6 bg-gray-50/50 dark:bg-gray-800/50 border-t border-gray-100 dark:border-gray-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Menampilkan ",t.from||0," sampai ",t.to||0," dari ",t.total," pengguna"]}),e.jsx("div",{className:"flex gap-2",children:t.links.map((a,r)=>e.jsx(i,{href:a.url||"#",className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${a.active?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"bg-white dark:bg-gray-900 text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"} ${a.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:a.label}},r))})]})]})]},"users"),s==="roles"&&e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:[e.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:"Manajemen Hak Akses"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Konfigurasi Role dan Izin Akses (Permissions)"})]}),e.jsx(o,{className:"w-10 h-10 text-indigo-500/20"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100 dark:divide-gray-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:[e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest w-1/4",children:"Nama Role"}),e.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Izin Akses (Permissions)"}),e.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-gray-400 uppercase tracking-widest w-40",children:"Tindakan"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:m.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all group",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600",children:e.jsx(o,{className:"w-5 h-5"})}),e.jsx("div",{className:"font-black text-gray-900 dark:text-white uppercase tracking-widest text-sm",children:a.name})]})}),e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(a.permissions||[]).slice(0,10).map(r=>e.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 border border-indigo-100 dark:border-indigo-800/30 rounded text-[9px] font-black uppercase tracking-tighter shadow-sm",children:r.name.replace(/[\._]/g," ")},r.id)),(a.permissions||[]).length>10&&e.jsxs("span",{className:"text-[9px] font-black text-indigo-500 px-2 uppercase my-auto",children:["+",(a.permissions||[]).length-10," lainnya"]}),(!a.permissions||a.permissions.length===0)&&e.jsx("span",{className:"text-[10px] text-gray-400 italic font-medium px-2 py-1 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"Belum ada izin akses yang diatur"})]})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(i,{href:route("admin.roles.edit",a.id),className:"p-3 bg-white dark:bg-gray-800 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 hover:scale-110 active:scale-95 transition-all",title:"Atur Hak Akses",children:e.jsx(E,{className:"w-4 h-4"})}),a.name!=="super_admin"&&e.jsx("button",{onClick:()=>A(a.id),className:"p-3 bg-white dark:bg-gray-800 text-gray-400 hover:text-rose-600 dark:hover:text-rose-400 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 hover:scale-110 active:scale-95 transition-all",title:"Hapus Role",children:e.jsx(y,{className:"w-4 h-4"})})]})})]},a.id))})]})})]})},"roles")]})})]})]})})]})}export{me as default};

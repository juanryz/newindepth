import{u as y,j as e,H as j,L as k}from"./app-W3dpybvK.js";import{A as v}from"./AuthenticatedLayout-CpycCQ0V.js";import{I as m}from"./InputError-B3uAupeo.js";import{I as l}from"./InputLabel-dkWarUoG.js";import{P as N}from"./PrimaryButton-OkxKQknX.js";import{T as w}from"./TextInput-CPMimxM6.js";import"./transition-Q9rWh4BB.js";import"./ThemeToggle-ByUFOJzc.js";function T({roleModel:s,permissions:o,rolePermissions:c}){const r=!!s.id,{data:t,setData:i,post:u,put:g,processing:p,errors:n}=y({name:s.name||"",permissions:c||[]}),x=a=>{const{value:d,checked:b}=a.target;b?i("permissions",[...t.permissions,d]):i("permissions",t.permissions.filter(f=>f!==d))},h=a=>{a.preventDefault(),r?g(route("admin.roles.update",s.id)):u(route("admin.roles.store"))};return e.jsxs(v,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:r?"Edit Role":"Tambah Role Baru"}),children:[e.jsx(j,{title:r?"Edit Role":"Tambah Role"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",value:"Nama Role (Tanpa spasi, gunakan underscore jika perlu)"}),e.jsx(w,{id:"name",type:"text",name:"name",value:t.name,className:"mt-1 block w-full bg-gray-50 focus:bg-white",autoComplete:"off",isFocused:!0,onChange:a=>i("name",a.target.value.toLowerCase().replace(/\s+/g,"_")),placeholder:"contoh: super_admin, kasir, manager",required:!0,disabled:s.name==="super_admin"}),e.jsx(m,{message:n.name,className:"mt-2"}),s.name==="super_admin"&&e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"Nama role super_admin tidak bisa diubah karena merupakan role sistem krusial."})]}),e.jsxs("div",{children:[e.jsx(l,{value:"Hak Akses (Permissions)"}),e.jsx("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-md border border-gray-200 dark:border-gray-600",children:o.length>0?o.map(a=>e.jsxs("label",{className:"flex items-start space-x-2 cursor-pointer p-2 rounded hover:bg-white dark:hover:bg-gray-600 transition-colors border border-transparent hover:border-gray-200 dark:hover:border-gray-500",children:[e.jsx("input",{type:"checkbox",name:"permissions[]",value:a.name,checked:t.permissions.includes(a.name),onChange:x,className:"mt-0.5 rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium break-words leading-tight",children:a.name})]},a.id)):e.jsx("p",{className:"text-sm text-gray-500 col-span-full",children:"Belum ada permission yang terdaftar di database."})}),e.jsx(m,{message:n.permissions,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 space-x-3 gap-3 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(k,{href:route("admin.roles.index"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),e.jsx(N,{disabled:p,children:r?"Simpan Perubahan":"Buat Role"})]})]})})})})]})}export{T as default};

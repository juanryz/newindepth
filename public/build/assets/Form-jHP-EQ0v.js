import{u as f,j as e,H as _,L as b}from"./app-Blrrdfkt.js";import{A as k}from"./AuthenticatedLayout-DUPIAoan.js";import{I as i}from"./InputError-oYcoHI8d.js";import{I as t}from"./InputLabel-DmNzSzaA.js";import{P as w}from"./PrimaryButton-tmNxwHwF.js";import{T as o}from"./TextInput-B7FThJCk.js";import"./transition-CKR8K8F1.js";import"./ThemeToggle-pKPyRqrA.js";import"./LiquidBackground-D4jF-8TJ.js";function U({userModel:n,roles:d,userRoles:g}){const l=!!n.id,{data:s,setData:r,post:x,put:p,processing:u,errors:m}=f({name:n.name||"",email:n.email||"",phone:n.phone||"",emergency_contact_name:n.emergency_contact_name||"",emergency_contact_phone:n.emergency_contact_phone||"",emergency_contact_relation:n.emergency_contact_relation||"",password:"",password_confirmation:"",roles:g||[]}),h=a=>{const{value:c,checked:y}=a.target;y?r("roles",[...s.roles,c]):r("roles",s.roles.filter(v=>v!==c))},j=a=>{a.preventDefault(),l?p(route("admin.users.update",n.id)):x(route("admin.users.store"))};return e.jsxs(k,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:l?"Edit User":"Tambah User Baru"}),children:[e.jsx(_,{title:l?"Edit User":"Tambah User"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",value:"Nama Lengkap"}),e.jsx(o,{id:"name",type:"text",name:"name",value:s.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,onChange:a=>r("name",a.target.value),required:!0}),e.jsx(i,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"email",value:"Email"}),e.jsx(o,{id:"email",type:"email",name:"email",value:s.email,className:"mt-1 block w-full",autoComplete:"username",onChange:a=>r("email",a.target.value),required:!0}),e.jsx(i,{message:m.email,className:"mt-2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx(t,{htmlFor:"phone",value:"Nomor Telepon/WA"}),e.jsx(o,{id:"phone",type:"text",name:"phone",value:s.phone,className:"mt-1 block w-full",placeholder:"08xxxxxxxx",onChange:a=>r("phone",a.target.value)}),e.jsx(i,{message:m.phone,className:"mt-2"})]})}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Kontak Darurat (Optional)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"emergency_contact_name",value:"Nama Kontak Darurat"}),e.jsx(o,{id:"emergency_contact_name",type:"text",value:s.emergency_contact_name,className:"mt-1 block w-full",onChange:a=>r("emergency_contact_name",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"emergency_contact_phone",value:"Nomor Kontak Darurat"}),e.jsx(o,{id:"emergency_contact_phone",type:"text",value:s.emergency_contact_phone,className:"mt-1 block w-full",onChange:a=>r("emergency_contact_phone",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"emergency_contact_relation",value:"Hubungan (Misal: Orang Tua, Pasangan)"}),e.jsx(o,{id:"emergency_contact_relation",type:"text",value:s.emergency_contact_relation,className:"mt-1 block w-full",onChange:a=>r("emergency_contact_relation",a.target.value)})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 uppercase tracking-widest mb-4",children:"Keamanan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password",value:l?"Password Baru (Kosongkan jika tidak diubah)":"Password"}),e.jsx(o,{id:"password",type:"password",name:"password",value:s.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>r("password",a.target.value),required:!l}),e.jsx(i,{message:m.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"password_confirmation",value:"Konfirmasi Password"}),e.jsx(o,{id:"password_confirmation",type:"password",name:"password_confirmation",value:s.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:a=>r("password_confirmation",a.target.value),required:!l&&s.password!==""})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(t,{value:"Akses & Roles (Role)"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-3 gap-3 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-md border border-gray-200 dark:border-gray-600",children:d.map(a=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"roles[]",value:a.name,checked:s.roles.includes(a.name),onChange:h,className:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:a.name.replace("_"," ")})]},a.id))}),e.jsx(i,{message:m.roles,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end mt-4 space-x-3 gap-3",children:[e.jsx(b,{href:route("admin.users.index"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),e.jsx(w,{disabled:u,children:l?"Simpan Perubahan":"Buat User"})]})]})})})})]})}export{U as default};

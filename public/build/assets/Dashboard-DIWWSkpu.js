import{e as R,b as c,u as K,j as e,H as N,L as B}from"./app-C0LHmHNO.js";import{A as v}from"./AuthenticatedLayout-kqWvBAJY.js";import{P as E}from"./PrimaryButton-Cmu3_waa.js";import U from"./AffiliateAgreementContent-DkBHeJEm.js";import"./transition--zyEMp5n.js";import"./ThemeToggle-DAqojEIg.js";import"./LiquidBackground-CSbpQVIK.js";function O({commissions:h,totalEarned:D,pendingAmount:A,referralLink:p,hasSignedAgreement:C}){const i=R().props.auth.user,[S,u]=c.useState(!1),{data:a,setData:r,post:L,processing:b,errors:_}=K({agree1:!1,agree2:!1,agree3:!1,agree4:!1,signature:"",name:i.name||"",age:i.age||"",gender:i.gender||"",phone:i.phone||""}),l=c.useRef(null),[T,k]=c.useState(!1),[o,f]=c.useState(!1),j=t=>{const s=l.current;if(!s)return;const n=s.getContext("2d"),d=s.getBoundingClientRect(),g=t.touches?t.touches[0].clientX:t.clientX,m=t.touches?t.touches[0].clientY:t.clientY;n.beginPath(),n.moveTo(g-d.left,m-d.top),k(!0),f(!0)},y=t=>{if(!T)return;t.preventDefault();const s=l.current,n=s.getContext("2d"),d=s.getBoundingClientRect(),g=t.touches?t.touches[0].clientX:t.clientX,m=t.touches?t.touches[0].clientY:t.clientY;n.lineTo(g-d.left,m-d.top),n.strokeStyle="#000",n.lineWidth=2,n.stroke()},x=()=>{k(!1);const t=l.current;t&&o&&r("signature",t.toDataURL("image/png"))},M=()=>{const t=l.current;if(!t)return;const s=t.getContext("2d");s.clearRect(0,0,t.width,t.height),s.fillStyle="white",s.fillRect(0,0,t.width,t.height),f(!1),r("signature","")},I=t=>{t.preventDefault(),!(!o||!a.agree1||!a.agree2||!a.agree3||!a.agree4||!a.name||!a.age||!a.gender||!a.phone)&&L(route("affiliate.agreement.store"))},w=a.agree1&&a.agree2&&a.agree3&&a.agree4&&o&&a.name&&a.age&&a.gender&&a.phone,P=()=>{navigator.clipboard.writeText(p),u(!0),setTimeout(()=>u(!1),2e3)};return C?e.jsxs(v,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsx("h2",{className:"font-black text-xl text-slate-900 dark:text-white tracking-tight",children:"Dashboard Affiliate"}),e.jsxs(B,{href:route("affiliate.agreement.show"),className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 border border-indigo-100 dark:border-indigo-900/30 px-3 py-1.5 rounded-full uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all shadow-sm active:scale-95 flex items-center gap-2",children:[e.jsx("span",{children:"Lihat Dokumen Perjanjian Saya"}),e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]}),children:[e.jsx(N,{title:"Affiliate Program"}),e.jsx("div",{className:"py-12 relative z-10 px-4 sm:px-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-500/90 to-purple-600/90 dark:from-indigo-600/80 dark:to-purple-700/80 rounded-2xl shadow-xl overflow-hidden backdrop-blur-xl border border-white/20",children:e.jsx("div",{className:"p-8 flex flex-col md:flex-row items-center justify-between text-white",children:e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Program Afiliasi InDepth Mental Wellness"}),e.jsxs("p",{className:"opacity-90 max-w-xl text-indigo-50",children:["Bagikan link referral Anda kepada teman atau kerabat. Dapatkan komisi sebesar ",e.jsx("span",{className:"font-bold underline decoration-indigo-200",children:"5%"})," dari setiap pendaftaran kelas atau sesi terapi yang berhasil."]}),e.jsxs("div",{className:"mt-8 flex items-center bg-white/10 dark:bg-black/20 p-2 rounded-xl backdrop-blur-md border border-white/20 max-w-lg",children:[e.jsx("input",{type:"text",readOnly:!0,value:p,className:"bg-transparent border-none text-white w-full focus:ring-0 placeholder-white/50 text-sm font-mono"}),e.jsx("button",{onClick:P,className:"ml-2 bg-white text-indigo-600 px-6 py-2.5 rounded-lg font-bold hover:bg-gray-100 transition whitespace-nowrap shadow-lg active:scale-95 transition-all",children:S?"Disalin ✓":"Salin Link"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-2xl p-6 rounded-2xl shadow-sm border border-white/80 dark:border-gray-700/50",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-2",children:"Total Komisi Dibayarkan"}),e.jsxs("h4",{className:"text-3xl font-black text-green-600 dark:text-green-400",children:["Rp ",Number(D).toLocaleString("id-ID")]})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-2xl p-6 rounded-2xl shadow-sm border border-white/80 dark:border-gray-700/50",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-2",children:"Komisi Menunggu Pencairan"}),e.jsxs("h4",{className:"text-3xl font-black text-amber-500 dark:text-amber-400",children:["Rp ",Number(A).toLocaleString("id-ID")]}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-3 italic",children:"* Komisi akan dicairkan ke rekening Anda setiap tanggal 1 bulan berikutnya."})]})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-2xl overflow-hidden shadow-xl sm:rounded-2xl border border-white/80 dark:border-gray-700/50",children:[e.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700/50",children:e.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Riwayat Komisi"})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Referred User"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Item / Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Harga Transaksi"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Komisi Anda"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status Pembayaran"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:h.data.map(t=>e.jsxs("tr",{className:"hover:bg-white/40 dark:hover:bg-gray-700/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(t.created_at).toLocaleDateString("id-ID")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900 dark:text-white",children:t.referred_user?.name||"User Tersembunyi"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:t.transaction?.transactionable_type?.includes("Booking")?"Sesi Terapi":"Kelas Online"}),e.jsxs("span",{className:`text-[10px] uppercase font-bold mt-1 ${t.transaction?.transactionable?.status==="completed"||t.transaction?.transactionable?.status==="confirmed"?"text-green-600":"text-amber-500"}`,children:["• ",t.transaction?.transactionable?.status||"Active"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:["Rp ",Number(t.transaction_amount).toLocaleString("id-ID")]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-extrabold text-green-600 dark:text-green-400",children:["Rp ",Number(t.commission_amount).toLocaleString("id-ID")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full 
                                                    ${t.status==="paid"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 border border-green-200 dark:border-green-800":t.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-800":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400 border border-amber-200 dark:border-amber-800"}`,children:t.status==="paid"?"Telah Dibayar":t.status==="rejected"?"Dibatalkan":"Menunggu"})})]},t.id))})]}),h.data.length===0&&e.jsxs("div",{className:"text-center p-12 text-gray-500 dark:text-gray-400",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-300 dark:text-gray-700 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Belum ada history komisi. Mulai bagikan link Anda sekarang!"]})]})]})]})})]}):e.jsxs(v,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Persetujuan Kemitraan Affiliate"}),children:[e.jsx(N,{title:"Persetujuan Affiliate"}),e.jsx("div",{className:"py-12 px-4 sm:px-0",children:e.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-3xl shadow-2xl p-6 sm:p-12 transition-all duration-700",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("span",{className:"inline-block py-1.5 px-4 text-[10px] font-black tracking-[0.2em] uppercase bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400 rounded-full mb-4",children:"LEGAL DOCUMENT"}),e.jsx("h1",{className:"text-3xl font-black text-gray-950 dark:text-white leading-tight",children:"PERJANJIAN MITRA AFFILIATE"}),e.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-bold mt-2",children:"InDepth Mental Wellness"}),e.jsxs("div",{className:"mt-4 text-xs text-gray-400 dark:text-gray-500 font-medium",children:["Terakhir diperbarui: ",new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 p-6 sm:p-8 rounded-2xl text-sm text-slate-700 dark:text-slate-300 max-h-[500px] overflow-y-auto font-serif leading-relaxed mb-10 shadow-inner custom-scrollbar relative",children:e.jsx(U,{})}),e.jsxs("form",{onSubmit:I,className:"space-y-10",children:[e.jsxs("section",{className:"p-6 bg-slate-50 dark:bg-slate-900/30 rounded-2xl border border-slate-100 dark:border-slate-800",children:[e.jsxs("h4",{className:"text-sm font-black text-slate-900 dark:text-white mb-6 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center text-[10px]",children:"01"}),"Data Identitas Mitra"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Nama Lengkap (Sesuai KTP)"}),e.jsx("input",{type:"text",value:a.name,onChange:t=>r("name",t.target.value),className:"w-full bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium text-slate-900 dark:text-white",placeholder:"Contoh: Budi Santoso",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Nomor WhatsApp Aktif"}),e.jsx("input",{type:"text",value:a.phone,onChange:t=>r("phone",t.target.value),className:"w-full bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium text-slate-900 dark:text-white",placeholder:"Contoh: 081234567890",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Usia Saat Ini"}),e.jsx("input",{type:"number",value:a.age,onChange:t=>r("age",t.target.value),className:"w-full bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium text-slate-900 dark:text-white",placeholder:"Contoh: 25",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest mb-2",children:"Jenis Kelamin"}),e.jsxs("select",{value:a.gender,onChange:t=>r("gender",t.target.value),className:"w-full bg-white dark:bg-slate-950 border-slate-200 dark:border-slate-800 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 text-sm font-medium text-slate-900 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Pilih Jenis Kelamin"}),e.jsx("option",{value:"Laki-laki",children:"Laki-laki"}),e.jsx("option",{value:"Perempuan",children:"Perempuan"})]})]})]}),e.jsx("p",{className:"mt-4 text-[10px] text-slate-400 italic",children:"* Data ini akan digunakan untuk keperluan administrasi dan pencairan komisi."})]}),e.jsxs("section",{children:[e.jsxs("h4",{className:"text-sm font-black text-slate-900 dark:text-white mb-6 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center text-[10px]",children:"02"}),"Konfirmasi Persetujuan"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-2xl border transition-all cursor-pointer ${a.agree1?"border-emerald-500 bg-emerald-50/50 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-800"}`,children:[e.jsx("input",{type:"checkbox",checked:a.agree1,onChange:t=>r("agree1",t.target.checked),className:"mt-1 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Saya memahami seluruh ketentuan yang berlaku."})]}),e.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-2xl border transition-all cursor-pointer ${a.agree2?"border-emerald-500 bg-emerald-50/50 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-800"}`,children:[e.jsx("input",{type:"checkbox",checked:a.agree2,onChange:t=>r("agree2",t.target.checked),className:"mt-1 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Saya tidak akan menyalahgunakan sistem affiliate."})]}),e.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-2xl border transition-all cursor-pointer ${a.agree3?"border-emerald-500 bg-emerald-50/50 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-800"}`,children:[e.jsx("input",{type:"checkbox",checked:a.agree3,onChange:t=>r("agree3",t.target.checked),className:"mt-1 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Saya menyetujui sistem sanksi bertingkat yang ditetapkan."})]}),e.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-2xl border transition-all cursor-pointer ${a.agree4?"border-emerald-500 bg-emerald-50/50 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-800"}`,children:[e.jsx("input",{type:"checkbox",checked:a.agree4,onChange:t=>r("agree4",t.target.checked),className:"mt-1 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Saya bertanggung jawab penuh atas seluruh promosi yang dilakukan."})]})]})]}),e.jsx("section",{className:"pt-8 border-t border-slate-100 dark:border-slate-800",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-10 items-center justify-between",children:[e.jsxs("div",{className:"w-full max-w-sm text-center",children:[e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-4",children:"Tanda Tangan Digital Kemitraan"}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-2xl p-1 relative shadow-inner overflow-hidden",style:{height:160},children:[e.jsx("canvas",{ref:l,width:400,height:150,onMouseDown:j,onMouseMove:y,onMouseUp:x,onMouseOut:x,onTouchStart:j,onTouchMove:y,onTouchEnd:x,className:"cursor-crosshair w-full h-full touch-none dark:invert"}),!o&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-300 dark:text-slate-600 pointer-events-none text-[10px] font-black uppercase tracking-[0.2em]",children:"Gambarlah tanda tangan di sini"})]}),e.jsx("button",{type:"button",onClick:M,className:"mt-3 text-[10px] font-black text-red-500 hover:text-red-700 uppercase tracking-widest transition-colors",children:"Hapus & Ulangi"})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center md:items-end gap-6",children:[e.jsxs("div",{className:"text-center md:text-right",children:[e.jsx("p",{className:"text-sm font-black text-slate-950 dark:text-white uppercase tracking-wider underline",children:i.name}),e.jsx("p",{className:"text-[10px] font-bold text-slate-500 mt-1 uppercase",children:"Bermitra sebagai Affiliate InDepth"})]}),e.jsx(E,{type:"submit",disabled:!w||b,className:`h-14 px-10 rounded-2xl justify-center text-xs font-black uppercase tracking-widest shadow-2xl transition-all active:scale-95 ${w?"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-600/20":"bg-slate-300 dark:bg-slate-700 grayscale cursor-not-allowed text-slate-500 opacity-50"}`,children:b?"Memproses...":"Aktifkan Akun Affiliate Saya"})]})]})})]})]})})})]})}export{O as default};

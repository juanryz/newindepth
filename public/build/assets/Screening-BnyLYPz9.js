import{b as G,d as c,j as e,H,e as q,i as Y}from"./app-Blrrdfkt.js";import{A as K}from"./AuthenticatedLayout-DUPIAoan.js";import"./transition-CKR8K8F1.js";import"./ThemeToggle-pKPyRqrA.js";import"./LiquidBackground-D4jF-8TJ.js";const V=["bunuh diri","mau mati","ingin mati","tidak mau hidup","mengakhiri hidup","bisikan","suara yang menyuruh","putus asa","tidak ada harapan","self harm","menyakiti diri"],J=a=>{const n=a.toLowerCase();return V.some(t=>n.includes(t))};function Q({current:a,total:n}){return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-2",children:[e.jsxs("span",{children:["Langkah ",a," dari ",n]}),e.jsxs("span",{children:[Math.round(a/n*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${a/n*100}%`}})})]})}function D({text:a,typing:n=!1}){return e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold shadow-md",children:"AI"}),e.jsx("div",{className:"max-w-xl bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl rounded-tl-none px-4 py-3 shadow-sm text-gray-800 dark:text-gray-100 text-sm leading-relaxed",children:n?e.jsxs("span",{className:"flex gap-1 items-center h-4",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):a})]})}function X({text:a}){return e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx("div",{className:"max-w-xl bg-indigo-600 text-white rounded-2xl rounded-tr-none px-4 py-3 shadow-sm text-sm leading-relaxed",children:a})})}function Z(){return e.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-xl flex gap-3 items-start",children:[e.jsx("span",{className:"text-2xl",children:"üÜò"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-red-700 dark:text-red-400 text-sm",children:"Kami peduli dengan keselamatan Anda"}),e.jsxs("p",{className:"text-red-600 dark:text-red-300 text-sm mt-1",children:["Tim kami akan segera menghubungi Anda secara prioritas. Jika Anda membutuhkan bantuan segera, hubungi ",e.jsx("strong",{children:"ke WhatsApp 0822-2080-0034"}),"."]})]})]})}const ee=["Pikiran (cemas, overthinking)","Perasaan (sedih, marah, takut)","Mental (depresi, mood disorder)","Psikosomatis","Halusinasi / gangguan persepsi","Obesitas","Pengembangan diri"],ae=["Konsultasi psikolog","Konsultasi psikiater","Obat medis","Terapi alternatif","Konseling agama","Diet / olahraga","Self healing / motivasi","Belum pernah melakukan apa pun"];function fe(){const{prefill:a={},screeningResult:n}=G().props,[t,i]=c.useState(1),[s,l]=c.useState({nama:a.nama||"",email:a.email||"",wa:a.wa||"",gender:a.gender||"",usia:a.usia||""});c.useEffect(()=>{Object.keys(a).length>0&&l(r=>({...r,nama:r.nama||a.nama||"",email:r.email||a.email||"",wa:r.wa||a.wa||"",gender:r.gender||a.gender||"",usia:r.usia||a.usia||""}))},[a]);const[g,b]=c.useState([]),[m,d]=c.useState(!1),[v,f]=c.useState({}),[I,S]=c.useState(!1),[A,C]=c.useState(!1),R=c.useMemo(()=>({nama:!!a.nama,email:!!a.email,wa:!!a.wa,gender:!!a.gender,usia:!!a.usia}),[a]),L=c.useRef(null),_={1:"Halo üëã Selamat datang di InDepth Mental Wellness. Saya akan menemani Anda melalui proses skrining singkat ini. Mari kita mulai dengan data diri Anda.",2:"Terima kasih. Sekarang, tolong ceritakan ‚Äî apa masalah utama yang ingin Anda atasi? Anda bisa memilih lebih dari satu.",3:"Baik. Seberapa besar kondisi ini mengganggu kehidupan sehari-hari Anda? Geser slider di bawah sesuai perasaan Anda (1 = sangat ringan, 10 = sangat parah).",4:"Sudah berapa lama Anda mengalami kondisi ini?",5:"Untuk membantu kami lebih memahami, berapakah estimasi kelebihan berat badan Anda?",6:"Apakah Anda pernah mendapatkan diagnosis dari profesional kesehatan sebelumnya?",7:"Apakah saat ini Anda masih dalam perawatan atau pengobatan?",8:"Upaya apa yang sudah pernah Anda lakukan untuk mengatasi kondisi ini?",9:"Sekarang, ceritakan kepada saya ‚Äî apa yang paling Anda rasakan atau alami saat ini? Tidak perlu terstruktur, tulis saja apa yang ada di hati Anda.",10:"Hampir selesai üåü Apa yang ingin Anda capai setelah menjalani program terapi bersama kami? Apa harapan Anda?"};c.useEffect(()=>{_[t]&&!v[t]&&setTimeout(()=>{f(r=>({...r,[t]:[{role:"assistant",content:_[t]}]}))},300),L.current?.scrollIntoView({behavior:"smooth"})},[t]);const x=(r,o)=>{l(u=>({...u,[r]:o}))},T=(r,o)=>{l(u=>{const p=Array.isArray(u[r])?u[r]:[];return{...u,[r]:p.includes(o)?p.filter(w=>w!==o):[...p,o]}})},M=async(r,o)=>{if(!r.trim())return;J(r)&&S(!0);const u=g,p={role:"user",content:r},w=[...u,p];f(h=>({...h,[t]:[...h[t]||[],p]})),d(!0);try{const h=await Y.post(route("screening.chat"),{message:r,history:w}),k={role:"assistant",content:h.data.reply},$=[...w,k];b($),h.data.is_high_risk&&S(!0),f(B=>({...B,[t]:[...B[t]||[],k]}))}catch{const h={role:"assistant",content:"Terima kasih telah berbagi. Kami mendengar Anda."};f(k=>({...k,[t]:[...k[t]||[],h]}))}finally{d(!1)}},P=()=>{switch(t){case 1:return s.nama&&s.gender&&s.usia&&s.wa&&s.email&&(!(parseInt(s.usia)<17)||s.izin_wali);case 2:return!!s.masalah_utama;case 3:return s.skala!=null;case 4:return!!s.durasi;case 5:return!!s.obesitas_kg;case 6:return!!s.diagnosis;case 7:return!!s.status_perawatan;case 8:return Array.isArray(s.usaha)&&s.usaha.length>0;case 9:return!!s.detail_masalah;case 10:return!!s.outcome;default:return!0}},j=()=>s.masalah_utama==="Obesitas",z=r=>r===4&&!j()?6:r+1,E=r=>r===6&&!j()?4:r-1,U=()=>{C(!0),q.post(route("screening.store"),{step_data:s,chat_history:g},{onError:()=>C(!1)})},W=()=>{const r=v[t]||[];return e.jsxs("div",{className:"space-y-4",children:[r.map((o,u)=>o.role==="assistant"?e.jsx(D,{text:o.content},u):e.jsx(X,{text:o.content},u)),m&&e.jsx(D,{typing:!0}),I&&e.jsx(Z,{}),e.jsxs("div",{className:"mt-4",children:[t===1&&e.jsx(se,{data:s,update:x,autofilled:R}),t===2&&e.jsx(ne,{data:s,update:x}),t===3&&e.jsx(re,{data:s,update:x}),t===4&&e.jsx(ie,{data:s,update:x}),t===5&&e.jsx(le,{data:s,update:x}),t===6&&e.jsx(de,{data:s,update:x}),t===7&&e.jsx(oe,{data:s,update:x}),t===8&&e.jsx(ce,{data:s,toggleMulti:T}),t===9&&e.jsx(ge,{data:s,update:x,onSendAi:o=>M(o)}),t===10&&e.jsx(ue,{data:s,update:x,onSendAi:o=>M(o)})]}),e.jsx("div",{ref:L})]})},[xe,me]=c.useState(!1);if(n){const r=n.recommended_package?n.recommended_package==="vip"?"VIP":n.recommended_package.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase()):null;return e.jsxs(K,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Hasil Skrining Klinis"}),children:[e.jsx(H,{title:"Hasil Skrining"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-8 sm:p-12",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-green-100 dark:bg-green-900/40 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Skrining Selesai"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ringkasan hasil analisis kesehatan mental Anda"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 mb-10",children:e.jsxs("div",{className:"p-6 rounded-2xl bg-gray-50 dark:bg-gray-900/50 border border-gray-100 dark:border-gray-700",children:[e.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest block mb-2",children:"Rekomendasi Paket"}),e.jsx("div",{className:"inline-flex items-center px-3 py-1.5 rounded-xl text-sm font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900/40 dark:text-indigo-300",children:r||"Hipnoterapi"})]})})]})})})})]})}const O=j()?10:9,F=t>5&&!j()?t-1:t;return e.jsxs(K,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Skrining Klinis InDepth"}),children:[e.jsx(H,{title:"Skrining Klinis"}),e.jsx("div",{className:"py-10",children:e.jsx("div",{className:"max-w-2xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsx(Q,{current:F,total:O}),e.jsx("div",{className:"min-h-[300px]",children:W()}),e.jsxs("div",{className:"mt-8 flex justify-between items-center border-t border-gray-100 dark:border-gray-700/50 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>i(E(t)),disabled:t===1,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 disabled:opacity-30 hover:text-gray-900 dark:hover:text-white transition-colors",children:"‚Üê Sebelumnya"}),t<10?e.jsx("button",{type:"button",onClick:()=>i(z(t)),disabled:!P(),className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-40 text-white font-semibold rounded-xl text-sm transition-colors shadow",children:"Selanjutnya ‚Üí"}):e.jsx("button",{type:"button",onClick:U,disabled:!P()||A,className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 disabled:opacity-40 text-white font-semibold rounded-xl text-sm transition-colors shadow",children:A?"Menyimpan...":"‚úÖ Selesai & Lihat Rekomendasi"})]})]})})})]})}function N({label:a,type:n="text",value:t,onChange:i,required:s,autoFilled:l=!1}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[a,s&&" *"]}),l&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}),"otomatis"]})]}),e.jsx("input",{type:n,value:t||"",onChange:g=>i(g.target.value),className:`w-full px-4 py-2.5 rounded-xl border text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${l?"border-green-300 dark:border-green-700 bg-green-50/50 dark:bg-green-900/10":"border-gray-200 dark:border-gray-600"}`})]})}function y({options:a,value:n,onChange:t}){return e.jsx("div",{className:"space-y-2",children:a.map(i=>e.jsxs("label",{className:`flex items-center gap-3 p-3.5 rounded-xl border cursor-pointer transition-all text-sm ${n===i?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300":"border-gray-200 dark:border-gray-600 hover:border-indigo-300 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("input",{type:"radio",checked:n===i,onChange:()=>t(i),className:"text-indigo-600 accent-indigo-600"}),i]},i))})}function te({options:a,values:n,toggle:t}){const i=Array.isArray(n)?n:[];return e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsxs("label",{className:`flex items-center gap-3 p-3.5 rounded-xl border cursor-pointer transition-all text-sm ${i.includes(s)?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300":"border-gray-200 dark:border-gray-600 hover:border-indigo-300 text-gray-700 dark:text-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:i.includes(s),onChange:()=>t(s),className:"accent-indigo-600 rounded"}),s]},s))})}function se({data:a,update:n,autofilled:t={}}){const i=a.usia&&parseInt(a.usia)<17;return e.jsxs("div",{className:"space-y-4",children:[(t.nama||t.email||t.wa||t.gender||t.usia)&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 text-xs text-green-700 dark:text-green-400",children:[e.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Beberapa data telah diisi otomatis dari akun Anda. Silakan periksa dan ubah jika diperlukan."]}),e.jsx(N,{label:"Nama Lengkap",value:a.nama,onChange:s=>n("nama",s),autoFilled:t.nama,required:!0}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Jenis Kelamin *"}),t.gender&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}),"otomatis"]})]}),e.jsx("div",{className:"flex gap-3",children:["Laki-laki","Perempuan"].map(s=>e.jsx("button",{type:"button",onClick:()=>n("gender",s),className:`flex-1 py-2.5 rounded-xl border text-sm font-medium transition-all ${a.gender===s?"border-indigo-500 bg-indigo-500 text-white":"border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-indigo-300"}`,children:s},s))})]}),e.jsx(N,{label:"Usia",type:"number",value:a.usia,onChange:s=>n("usia",s),autoFilled:t.usia,required:!0}),i&&e.jsxs("label",{className:"flex items-start gap-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 rounded-xl text-sm text-yellow-800 dark:text-yellow-400 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!a.izin_wali,onChange:s=>n("izin_wali",s.target.checked),className:"mt-0.5 accent-yellow-600"}),"Saya mendapat izin dari orang tua / wali untuk mengikuti skrining ini *"]}),e.jsx(N,{label:"Nomor WhatsApp",type:"tel",value:a.wa,onChange:s=>n("wa",s),autoFilled:t.wa,required:!0}),e.jsx(N,{label:"Email",type:"email",value:a.email,onChange:s=>n("email",s),autoFilled:t.email,required:!0})]})}function ne({data:a,update:n}){return e.jsx(y,{options:ee,value:a.masalah_utama,onChange:t=>n("masalah_utama",t)})}function re({data:a,update:n}){const t=a.skala??5,s=(l=>l<=3?{text:"Ringan",color:"text-green-600"}:l<=6?{text:"Sedang",color:"text-yellow-600"}:l<=8?{text:"Berat",color:"text-orange-600"}:{text:"Sangat Berat",color:"text-red-600"})(t);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"1 = Sangat Ringan"}),e.jsxs("span",{className:`text-2xl font-bold ${s.color}`,children:[t," ",e.jsxs("span",{className:"text-base",children:["‚Äî ",s.text]})]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"10 = Sangat Parah"})]}),e.jsx("input",{type:"range",min:1,max:10,value:t,onChange:l=>n("skala",parseInt(l.target.value)),className:"w-full accent-indigo-600 cursor-pointer"}),e.jsx("div",{className:"flex justify-between text-xs text-gray-400",children:[1,2,3,4,5,6,7,8,9,10].map(l=>e.jsx("span",{children:l},l))})]})}function ie({data:a,update:n}){return e.jsx(y,{options:["< 1 bulan","1‚Äì6 bulan","6‚Äì12 bulan","1‚Äì3 tahun","> 3 tahun"],value:a.durasi,onChange:t=>n("durasi",t)})}function le({data:a,update:n}){return e.jsx(y,{options:["0‚Äì10 kg","10‚Äì20 kg","> 20 kg"],value:a.obesitas_kg,onChange:t=>n("obesitas_kg",t)})}function de({data:a,update:n}){const t=a.diagnosis&&a.diagnosis!=="Tidak pernah"&&a.diagnosis!=="Tidak pernah didiagnosis";return e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{options:["Tidak pernah didiagnosis","Pernah ‚Äî oleh Dokter Umum","Pernah ‚Äî oleh Psikolog","Pernah ‚Äî oleh Psikiater","Pernah ‚Äî oleh Spesialis Lain"],value:a.diagnosis,onChange:i=>n("diagnosis",i)}),t&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tuliskan hasil diagnosisnya (opsional)"}),e.jsx("textarea",{rows:3,value:a.hasil_diagnosis||"",onChange:i=>n("hasil_diagnosis",i.target.value),placeholder:"Contoh: Gangguan kecemasan umum (GAD)...",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"})]})]})}function oe({data:a,update:n}){return e.jsx(y,{options:["Ya, masih dalam perawatan","Tidak, sudah tidak dalam perawatan"],value:a.status_perawatan,onChange:t=>n("status_perawatan",t)})}function ce({data:a,toggleMulti:n}){return e.jsx(te,{options:ae,values:a.usaha,toggle:t=>n("usaha",t)})}function ge({data:a,update:n,onSendAi:t}){const[i,s]=c.useState(!1),[l,g]=c.useState(""),b=()=>{a.detail_masalah?.trim()&&(t(a.detail_masalah),s(!0))},m=()=>{l.trim()&&(t(l),g(""))};return e.jsxs("div",{className:"space-y-3",children:[!i&&e.jsx("textarea",{rows:5,value:a.detail_masalah||"",onChange:d=>n("detail_masalah",d.target.value),placeholder:"Ceritakan apa yang Anda rasakan, kapan bermula, dan bagaimana kondisi ini memengaruhi hidup Anda...",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"}),!i&&a.detail_masalah?.trim()&&e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3.5 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl leading-none",children:"üí¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-indigo-800 dark:text-indigo-300",children:"Yuk ngobrol dengan Agent kami"}),e.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 mt-0.5",children:"untuk memahami dirimu lebih lanjut"})]})]}),e.jsxs("button",{type:"button",onClick:b,className:"flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold rounded-xl transition-colors shadow",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Mulai Ngobrol"]})]}),i&&e.jsxs("div",{className:"flex gap-2 items-end pt-1",children:[e.jsx("input",{type:"text",value:l,onChange:d=>g(d.target.value),onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),m())},placeholder:"Ketik pesan lanjutan...",className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"}),e.jsx("button",{type:"button",onClick:m,disabled:!l.trim(),className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-indigo-600 hover:bg-indigo-700 disabled:opacity-40 text-white rounded-xl transition-colors shadow",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}function ue({data:a,update:n,onSendAi:t}){const[i,s]=c.useState(!1),[l,g]=c.useState(""),b=()=>{a.outcome?.trim()&&(t(a.outcome),s(!0))},m=()=>{l.trim()&&(t(l),g(""))};return e.jsxs("div",{className:"space-y-3",children:[!i&&e.jsx("textarea",{rows:4,value:a.outcome||"",onChange:d=>n("outcome",d.target.value),placeholder:"Apa yang ingin Anda capai setelah program terapi? Seperti apa kondisi ideal yang Anda impikan?",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 resize-none transition"}),!i&&a.outcome?.trim()&&e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3.5 rounded-xl bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl leading-none",children:"üåü"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-purple-800 dark:text-purple-300",children:"Yuk ngobrol dengan Agent kami"}),e.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-0.5",children:"untuk memahami harapanmu lebih lanjut"})]})]}),e.jsxs("button",{type:"button",onClick:b,className:"flex-shrink-0 inline-flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-semibold rounded-xl transition-colors shadow",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Mulai Ngobrol"]})]}),i&&e.jsxs("div",{className:"flex gap-2 items-end pt-1",children:[e.jsx("input",{type:"text",value:l,onChange:d=>g(d.target.value),onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),m())},placeholder:"Ketik pesan lanjutan...",className:"flex-1 px-4 py-2.5 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-400 transition"}),e.jsx("button",{type:"button",onClick:m,disabled:!l.trim(),className:"flex-shrink-0 w-10 h-10 flex items-center justify-center bg-purple-600 hover:bg-purple-700 disabled:opacity-40 text-white rounded-xl transition-colors shadow",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}export{fe as default};

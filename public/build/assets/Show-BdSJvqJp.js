import{r as x,j as e,H as m,L as h,b as o}from"./app-7VUgG5_d.js";import{A as p}from"./AuthenticatedLayout-y0hcZLIi.js";import"./transition-BKLBwnF-.js";import"./ThemeToggle-BbIlZNpb.js";import"./LiquidBackground-CS_M1rwF.js";function f({schedule:a}){const[d,c]=x.useState(()=>{const r={};return a.bookings?.forEach(t=>{r[t.id]={recording_link:t.recording_link||"",therapist_notes:t.therapist_notes||""}}),r}),l=(r,t,s)=>{c(i=>({...i,[r]:{...i[r],[t]:s}}))},g=r=>{const t=d[r];o.patch(route("admin.bookings.update-details",r),{recording_link:t.recording_link,therapist_notes:t.therapist_notes},{preserveScroll:!0})};return e.jsxs(p,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Detail Sesi"}),children:[e.jsx(m,{title:`Detail Sesi - ${a.therapist?.name}`}),e.jsx("div",{className:"py-12 bg-gray-50 dark:bg-gray-950 min-h-[calc(100vh-64px)] transition-colors duration-500",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center px-4 sm:px-0",children:e.jsxs(h,{href:route("admin.schedules.index"),className:"inline-flex items-center text-sm font-bold text-gray-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Kalender"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-[2rem] p-8 shadow-xl border border-white dark:border-gray-800 transition-all duration-500",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[a.bookings?.length>0&&e.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-indigo-600 dark:text-indigo-400 mb-4 shadow-inner",children:e.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white text-center tracking-tight leading-tight",children:a.therapist?.name}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 mt-2 rounded-full text-[10px] font-black tracking-widest uppercase ${a.schedule_type==="class"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/40 dark:text-emerald-300"}`,children:a.schedule_type==="class"?"ðŸŽ“ Kelas":"ðŸ‘¤ Konsultasi"})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-800 space-y-4 text-center sm:text-left",children:[e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 group-hover:text-gold-500 uppercase tracking-widest mb-1 transition-colors",children:"Tanggal Sesi"}),e.jsx("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:new Date(a.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),e.jsxs("div",{className:"group",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 group-hover:text-gold-500 uppercase tracking-widest mb-1 transition-colors",children:"Waktu Sesi"}),e.jsxs("div",{className:"font-bold text-gray-900 dark:text-gray-100",children:[a.start_time.substring(0,5)," - ",a.end_time.substring(0,5)]})]})]}),(!a.bookings||a.bookings.length===0)&&e.jsx("div",{className:"pt-6",children:e.jsx("button",{onClick:()=>{confirm("Hapus jadwal ini?")&&o.delete(route("admin.schedules.destroy",a.id))},className:"w-full py-4 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-red-100 dark:hover:bg-red-900/40 transition-all border border-red-100 dark:border-red-900/30",children:"Hapus Jadwal Kosong"})})]})})}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.bookings&&a.bookings.length>0?a.bookings.map((r,t)=>{const s=r.patient,i=s?.screening_results?.[0];return e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] shadow-xl border border-white dark:border-gray-800 overflow-hidden transition-all duration-500",children:[e.jsxs("div",{className:"p-8 bg-gray-50/50 dark:bg-gray-800/30 border-b border-gray-100 dark:border-gray-800 flex flex-col sm:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-3xl bg-indigo-600 flex items-center justify-center text-white text-2xl font-black shadow-lg shadow-indigo-600/20",children:s?.name?.charAt(0)||"?"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:s?.name||"Anonim"}),e.jsx("div",{className:"text-sm font-bold text-gray-400",children:s?.email})]})]}),e.jsx("div",{className:"flex flex-col items-center sm:items-end",children:e.jsxs("span",{className:`px-5 py-2 rounded-full text-[10px] font-black uppercase tracking-widest ${r.package_type==="vip"?"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-300":"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/40 dark:text-indigo-300"}`,children:["Paket ",r.package_type||"reguler"]})})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Telepon"}),e.jsx("div",{className:"text-lg font-black text-gray-900 dark:text-white",children:s?.phone||"-"})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Usia"}),e.jsxs("div",{className:"text-lg font-black text-gray-900 dark:text-white",children:[s?.age||"-"," Thn"]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2",children:"Gender"}),e.jsx("div",{className:"text-lg font-black text-gray-900 dark:text-white capitalize",children:s?.gender||"-"})]})]}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Hasil Screening AI"}),i.severity_label&&e.jsx("span",{className:"px-4 py-1 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-full text-[10px] font-black uppercase tracking-widest",children:i.severity_label})]}),e.jsxs("div",{className:"p-8 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800 text-sm font-bold text-gray-600 dark:text-gray-400 leading-relaxed shadow-inner",children:['"',i.ai_summary||"Tidak ada ringkasan skrining.",'"']})]}),e.jsx("hr",{className:"border-gray-50 dark:border-gray-800"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Link Meeting / Video"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"text",value:d[r.id]?.recording_link||"",placeholder:"https://zoom.us/j/...",className:"flex-1 bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all",onChange:n=>l(r.id,"recording_link",n.target.value)}),r.recording_link&&e.jsx("a",{href:r.recording_link,target:"_blank",rel:"noopener noreferrer",className:"px-6 flex items-center justify-center bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 rounded-2xl hover:bg-indigo-100 dark:hover:bg-indigo-900/50 transition-colors shadow-sm",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 block ml-1",children:"Hasil Sesi / Catatan Terapis"}),e.jsx("textarea",{value:d[r.id]?.therapist_notes||"",placeholder:"Tuliskan diagnosis, ringkasan sesi, atau instruksi selanjutnya di sini...",rows:"8",className:"w-full bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 rounded-[2rem] px-8 py-6 text-sm font-bold focus:ring-4 focus:ring-indigo-500/10 focus:border-indigo-500 transition-all resize-none shadow-inner",onChange:n=>l(r.id,"therapist_notes",n.target.value)})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:()=>g(r.id),disabled:d[r.id]?.recording_link===(r.recording_link||"")&&d[r.id]?.therapist_notes===(r.therapist_notes||""),className:"px-12 py-5 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-200 dark:disabled:bg-gray-800 text-white disabled:text-gray-400 font-black text-[10px] uppercase tracking-widest rounded-3xl transition-all shadow-2xl shadow-indigo-600/30 active:scale-95 flex items-center gap-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"Simpan Perubahan"]})})]})]})]},t)}):e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[3rem] p-24 shadow-xl border-4 border-dashed border-gray-50 dark:border-gray-800 flex flex-col items-center justify-center text-center transition-all duration-500",children:[e.jsx("h4",{className:"text-2xl font-black text-gray-300 dark:text-gray-600 uppercase tracking-widest",children:"Belum Ada Pasien"}),e.jsx("p",{className:"text-gray-400 dark:text-gray-500 mt-3 font-bold italic",children:"Sesi ini masih tersedia untuk dibooking."})]})})]})]})})]})}export{f as default};

import{e as Ie,b as i,u as M,j as e,H as Pe,L as ne,f as G}from"./app-4TanezUh.js";import{A as Le}from"./AuthenticatedLayout-CC_wSJOf.js";import{M as I}from"./Modal-BTvPOsVC.js";import{S as P}from"./SecondaryButton-BiLxB29K.js";import{T as Be}from"./TextInput-DQ2W-pqJ.js";import{I as x}from"./InputLabel-BTTWRr_-.js";import{F as Ae,i as Re,a as Ee,b as Ke}from"./index-B3ZuitBm.js";import"./transition-CYEtAmIJ.js";import"./ThemeToggle-B7gFWg-a.js";import"./LiquidBackground-DtAj74N1.js";import"./with-selector-BaWMVgr3.js";function et({bookings:b,availableSchedules:ie=[],calendarSchedules:de=[],mySchedules:d=[]}){const{auth:J,flash:N,errors:U}=Ie().props,q=J.user?.roles?.some(t=>["admin","super_admin"].includes(t.name))??!1,[g,le]=i.useState(null),[_,O]=i.useState(null),[S,Y]=i.useState(null),[L,V]=i.useState(null),[f,X]=i.useState("calendar"),[k,oe]=i.useState("pending"),[p,w]=i.useState(""),[m,y]=i.useState(""),[Fe,He]=i.useState(!1),[B,ce]=i.useState(typeof window<"u"?window.innerWidth<768:!1),[u,Q]=i.useState(1),j=10,Z=d.slice((u-1)*j,u*j),ee=Math.ceil(d.length/j);i.useEffect(()=>{const t=()=>ce(window.innerWidth<768);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const{data:r,setData:h,post:xe,processing:te,reset:ge,errors:D}=M({days_of_week:[],start_time:"09:00",end_time:"12:00",date_from:"",date_to:"",quota:1,schedule_type:"consultation"}),A=[{id:1,short:"Sen",long:"Senin"},{id:2,short:"Sel",long:"Selasa"},{id:3,short:"Rab",long:"Rabu"},{id:4,short:"Kam",long:"Kamis"},{id:5,short:"Jum",long:"Jumat"}],pe=t=>{const a=r.days_of_week;h("days_of_week",a.includes(t)?a.filter(n=>n!==t):[...a,t])},ae=new Date().toISOString().split("T")[0],{data:T,setData:v,post:me,processing:R,reset:ue,errors:$e}=M({recording_link:"",therapist_notes:"",patient_visible_notes:"",completion_outcome:"Normal"}),{data:C,setData:E,post:he,processing:K,reset:be}=M({new_schedule_id:"",reschedule_reason:""}),{data:re,setData:F,post:fe,processing:H,reset:ke}=M({no_show_party:"patient",no_show_reason:""}),se=()=>{le(null)},we=t=>{confirm("Mulai sesi terapi sekarang? Status akan berubah menjadi Sedang Berlangsung.")&&G.post(route("schedules.start",t))},ye=t=>{O(t),v({recording_link:t.recording_link||"",therapist_notes:t.therapist_notes||"",patient_visible_notes:t.patient_visible_notes||"",completion_outcome:t.completion_outcome||"Normal"})},$=()=>{O(null),ue()},je=t=>{t.preventDefault(),me(route("schedules.complete",_.id),{onSuccess:()=>$()})},ve=t=>{Y(t),E({new_schedule_id:"",reschedule_reason:""})},W=()=>{Y(null),be()},Ne=t=>{t.preventDefault(),he(route("schedules.reschedule",S.id),{onSuccess:()=>W()})},_e=t=>{V(t),F({no_show_party:"patient",no_show_reason:""})},z=()=>{V(null),ke()},Se=t=>{t.preventDefault(),fe(route("schedules.no-show",L.id),{onSuccess:()=>z()})},De=t=>{t.preventDefault(),xe(route("schedules.store-recurring"),{onSuccess:()=>ge()})},Te=t=>{const a=t.event.extendedProps.is_mine,n=t.event.extendedProps.bookings?.[0];if(n)X("history"),setTimeout(()=>{const s=document.getElementById(`booking-${n.id}`);s&&(s.scrollIntoView({behavior:"smooth",block:"center"}),s.classList.add("ring-2","ring-indigo-500","animate-pulse"),setTimeout(()=>s.classList.remove("ring-2","ring-indigo-500","animate-pulse"),3e3))},100);else{if(!a){alert("Anda tidak dapat menghapus slot jadwal yang dibuat oleh praktisi lain.");return}confirm("Slot ini masih kosong. Hapus slot ini?")&&G.delete(route("schedules.destroy",t.event.id))}},Ce=t=>{const{event:a}=t,n=a.extendedProps.is_mine,s=a.extendedProps.bookings&&a.extendedProps.bookings.length>0,l=s?a.extendedProps.bookings[0].status:a.extendedProps.status||"available",Me=s?a.extendedProps.bookings[0].patient?.name:null;let o="h-full w-full p-1 sm:p-2 rounded-xl flex flex-col justify-center gap-0 sm:gap-1 overflow-hidden transition-all duration-300 ",c="font-black truncate leading-none uppercase tracking-tight pointer-events-none ";return l==="off"?(o+="bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 opacity-60",c+="text-[9px] text-slate-500 italic",e.jsxs("div",{className:o,children:[e.jsx("div",{className:"flex items-center justify-between pointer-events-none mb-0.5",children:e.jsx("span",{className:"text-[8px] sm:text-[9px] font-black uppercase tracking-widest opacity-60 leading-tight truncate",children:t.timeText})}),e.jsx("div",{className:c,children:"ðŸï¸ LIBUR"}),e.jsx("div",{className:"text-[7.5px] font-bold opacity-60 uppercase tracking-widest truncate",children:"DILIBURKAN ADMIN"})]})):(n?l==="in_progress"?(o+="bg-gradient-to-br from-red-500 to-rose-600 text-white shadow-lg shadow-red-500/20",c+="text-xs text-white"):l==="completed"?(o+="bg-gradient-to-br from-slate-400 to-slate-500 text-white shadow-inner opacity-80",c+="text-[10px] text-white"):(o+="bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/20",c+="text-xs text-white"):s?(o+="bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 opacity-60",c+="text-[9px] text-slate-400 dark:text-slate-500"):(o+="bg-white dark:bg-slate-800 border-2 border-indigo-100 dark:border-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-sm hover:border-indigo-300",c+="text-[9px] text-slate-900 dark:text-white"),e.jsxs("div",{className:o,children:[e.jsxs("div",{className:"flex items-center justify-between pointer-events-none mb-0.5",children:[e.jsx("span",{className:"text-[8px] sm:text-[9px] font-black uppercase tracking-widest opacity-60 leading-tight truncate",children:t.timeText}),n&&l==="confirmed"&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse shadow-[0_0_8px_white]"})]}),e.jsx("div",{className:c,children:n?l==="in_progress"?"ðŸ”´ LIVE":Me||"TUGAS ANDA":s?"TERISI":"SLOT TERSEDIA"}),e.jsxs("div",{className:"text-[7.5px] sm:text-[8px] font-bold opacity-60 uppercase tracking-widest pointer-events-none flex items-center gap-1 truncate",children:[a.extendedProps.schedule_type==="class"?"ðŸŽ“ Kelas":"ðŸ‘¥ Sesi",n&&l==="completed"&&" â€¢ SELESAI"]})]}))};return e.jsxs(Le,{user:J.user,header:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white uppercase tracking-tight leading-none",children:"Kelola Jadwal"}),e.jsx("p",{className:"text-xs font-bold text-slate-400 dark:text-slate-300 mt-2 uppercase tracking-[0.2em]",children:"Pantau sesi terapi Anda"})]})}),children:[e.jsx(Pe,{title:"Kelola Jadwal Praktik"}),e.jsx("style",{children:`
        .fc {
            --fc-border-color: rgba(255, 255, 255, 0.05);
            --fc-button-bg-color: transparent;
            --fc-button-border-color: rgba(255, 255, 255, 0.1);
            --fc-button-hover-bg-color: rgba(99, 102, 241, 0.1);
            --fc-button-active-bg-color: rgba(99, 102, 241, 0.2);
            --fc-today-bg-color: rgba(99, 102, 241, 0.05);
            font-family: 'Inter', sans-serif;
            border: none !important;
        }
        .dark .fc {
            --fc-border-color: rgba(255, 255, 255, 0.03);
        }
        .fc-theme-standard td, .fc-theme-standard th {
            border: 1px solid var(--fc-border-color) !important;
        }
        .fc-col-header-cell {
            padding: 20px 0 !important;
            background: rgba(255, 255, 255, 0.02);
        }
        .fc-col-header-cell-cushion {
            text-transform: uppercase;
            font-size: 11px;
            font-weight: 900;
            letter-spacing: 0.1em;
            color: #6366f1;
        }
        .fc-timegrid-slot {
            height: 4em !important;
            border-bottom: 1px solid var(--fc-border-color) !important;
        }
        .fc-timegrid-slot-label-cushion {
            font-size: 10px;
            font-weight: 800;
            color: #94a3b8;
            text-transform: uppercase;
        }
        .fc-event {
            border: none !important;
            border-radius: 12px !important;
            padding: 4px !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .fc-event:hover {
            transform: scale(1.02) translateY(-2px);
            z-index: 50;
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }
        .fc-v-event {
            background: transparent !important;
        }
        .fc-event-main {
            padding: 4px !important;
        }
        .fc-timegrid-now-indicator-line {
            border-color: #6366f1 !important;
            border-width: 2px !important;
        }
        .fc-timegrid-now-indicator-arrow {
            border-color: #6366f1 !important;
            border-top-color: transparent !important;
            border-bottom-color: transparent !important;
        }
        .fc-toolbar-title {
            font-size: 1.25rem !important;
            font-weight: 900 !important;
            text-transform: uppercase;
            letter-spacing: -0.025em;
            color: #1e293b;
        }
        .dark .fc-toolbar-title {
            color: #f8fafc;
        }
        .fc-daygrid-day-number {
            font-weight: 400 !important;
            font-size: 14px !important;
            color: #475569;
        }
        .dark .fc-daygrid-day-number {
            color: #94a3b8;
        }
        .fc-daygrid-day-top {
            font-weight: 400 !important;
        }
        .fc-daygrid-event {
            font-weight: 500 !important;
        }
        .fc-button-primary {
            background-color: white !important;
            border: 1px solid rgba(0,0,0,0.05) !important;
            color: #475569 !important;
            font-weight: 800 !important;
            font-size: 11px !important;
            text-transform: uppercase !important;
            border-radius: 12px !important;
            padding: 8px 16px !important;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1) !important;
        }
        .dark .fc-button-primary {
            background-color: #1e293b !important;
            border-color: rgba(255,255,255,0.05) !important;
            color: #cbd5e1 !important;
        }
        .fc-button-primary:hover {
            background-color: #f8fafc !important;
        }
        .dark .fc-button-primary:hover {
            background-color: #334155 !important;
        }
        .fc-button-active {
            background-color: #4f46e5 !important;
            border-color: #4f46e5 !important;
            color: white !important;
        }
        @media (max-width: 767px) {
            .fc-toolbar { flex-direction: column !important; gap: 8px !important; align-items: stretch !important; }
            .fc-toolbar-title { font-size: 0.9rem !important; text-align: center; }
            .fc-toolbar-chunk { display: flex !important; justify-content: center !important; flex-wrap: wrap !important; gap: 4px !important; }
            .fc-button-primary { font-size: 9px !important; padding: 6px 10px !important; }
            .fc .fc-col-header-cell-cushion { font-size: 9px !important; padding: 4px !important; }
            .fc .fc-timegrid-slot-label-cushion { font-size: 9px !important; }
            .fc-timegrid-slot { height: 3em !important; }
        }
    `}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[N?.success&&e.jsx("div",{className:"p-4 text-sm text-green-800 dark:text-green-300 rounded-2xl bg-green-50/80 dark:bg-green-900/30 border border-green-200 dark:border-green-800/50 mb-4",children:N.success}),(N?.error||U?.error)&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50 mb-4",children:N?.error||U?.error}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"lg:w-72 flex-shrink-0 space-y-4",children:[e.jsx("div",{className:"bg-white/50 dark:bg-gray-800/40 backdrop-blur-md rounded-[2rem] border border-gray-100 dark:border-gray-700/50 p-2 shadow-sm",children:[{id:"calendar",label:"Kalender",icon:"ðŸ“…"},{id:"history",label:"Daftar Sesi",icon:"ðŸ“‹",count:b?.filter(t=>["confirmed","in_progress"].includes(t.status)).length},...q?[]:[{id:"mySchedules",label:"Jadwal Saya",icon:"âœ¦",count:d.length}]].map(t=>e.jsxs("button",{onClick:()=>X(t.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl text-sm font-black transition-all duration-300 ${f===t.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-600/20 translate-x-1":"text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{className:"flex-1 text-left uppercase tracking-widest text-[11px]",children:t.label}),t.count>0&&e.jsx("span",{className:`w-6 h-6 rounded-full text-[9px] font-black flex items-center justify-center ${f===t.id?"bg-white/20 text-white":"bg-rose-500 text-white animate-pulse"}`,children:t.count})]},t.id))}),e.jsxs("div",{className:"bg-indigo-50/50 dark:bg-indigo-950/10 rounded-[2rem] border border-indigo-100 dark:border-indigo-900/30 p-6 space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black tracking-[0.2em] text-indigo-600 dark:text-indigo-500 uppercase",children:"Ringkasan"}),[{label:"Total Sesi",value:b?.length??0,color:"text-gray-900 dark:text-white"},{label:"Akan Datang",value:b?.filter(t=>t.status==="confirmed").length??0,color:"text-indigo-600"},{label:"Slot Tersedia",value:d.length,color:"text-emerald-600"}].map(t=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-400",children:t.label}),e.jsx("span",{className:`text-lg font-black ${t.color}`,children:t.value})]},t.label))]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[f==="calendar"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded-full"}),"Kalender Jadwal"]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 text-[10px] font-black uppercase tracking-widest text-slate-500 dark:text-gray-200",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-emerald-500"}),"Slot Anda"]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-rose-500"}),"Sedang Berlangsung"]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-indigo-500"}),"Tersedia"]})]})]}),e.jsx("div",{className:"p-4 md:p-8",children:e.jsx(Ae,{plugins:[Re,Ee,Ke],initialView:B?"timeGridDay":"timeGridWeek",initialDate:new Date().toLocaleDateString("en-CA"),headerToolbar:B?{left:"prev,next",center:"title",right:"timeGridDay,dayGridMonth"}:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},views:{timeGridWeek:{duration:{days:7},buttonText:"7 Hari Rolling"}},weekends:!0,events:de,eventClick:Te,eventContent:Ce,height:"auto",slotMinTime:"08:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",allDaySlot:!1,nowIndicator:!0,locale:"id",expandRows:!0,stickyHeaderDates:!0},B?"mobile":"desktop")})]}),f==="history"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 shadow-sm p-8 pb-4",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded-full"}),"Daftar Sesi"]}),e.jsx("div",{className:"flex gap-2 p-1.5 bg-slate-100/50 dark:bg-slate-800/30 rounded-2xl w-fit border border-slate-200/50 dark:border-slate-800",children:[["pending","Akan Datang"],["completed","Selesai"],["all","Semua"]].map(([t,a])=>e.jsx("button",{onClick:()=>oe(t),className:`px-6 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${k===t?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:bg-white dark:hover:bg-slate-700"}`,children:a},t))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end justify-between mt-6 pt-6 border-t border-gray-100 dark:border-gray-700/50",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1 w-full sm:w-auto",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.1em] px-1",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:p,onChange:t=>w(t.target.value),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border-none rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.1em] px-1",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:m,onChange:t=>y(t.target.value),className:"flex-1 px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border-none rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20"}),(p||m)&&e.jsx("button",{onClick:()=>{w(""),y("")},className:"p-2.5 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded-xl hover:bg-rose-100 hover:text-rose-500 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),e.jsx("div",{className:"flex gap-2",children:[{label:"Minggu Ini",range:()=>{const t=new Date,a=t.getDay(),n=t.getDate()-a+(a===0?-6:1),s=new Date(t.getFullYear(),t.getMonth(),n),l=new Date(t.getFullYear(),t.getMonth(),n+6);w(s.toISOString().split("T")[0]),y(l.toISOString().split("T")[0])}},{label:"Bulan Ini",range:()=>{const t=new Date;w(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),y(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])}},{label:"Tahun Ini",range:()=>{const t=new Date;w(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),y(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])}}].map(t=>e.jsx("button",{type:"button",onClick:t.range,className:"px-4 py-2.5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-100 transition-colors border border-indigo-100/50 dark:border-indigo-900/50",children:t.label},t.label))})]})]}),b.filter(t=>!(k==="pending"&&!["confirmed","in_progress"].includes(t.status)||k==="completed"&&t.status!=="completed"||p&&t.schedule?.date&&t.schedule.date<p||m&&t.schedule?.date&&t.schedule.date>m)).length===0?e.jsx("div",{className:"text-center py-20 bg-white dark:bg-gray-800/40 rounded-[2.5rem] border border-dashed border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-400 font-black uppercase tracking-widest text-sm",children:"Tidak ada sesi ditemukan"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.filter(t=>!(k==="pending"&&!["confirmed","in_progress"].includes(t.status)||k==="completed"&&t.status!=="completed"||p&&t.schedule?.date&&t.schedule.date<p||m&&t.schedule?.date&&t.schedule.date>m)).map(t=>{const a=t.completion_outcome?.startsWith("No-Show"),n=!!t.rescheduled_at;return e.jsxs("div",{id:`booking-${t.id}`,className:`rounded-[2.5rem] border shadow-sm p-7 flex flex-col transition-all ${a?"bg-orange-50/30 dark:bg-orange-900/10 border-orange-200 dark:border-orange-800/30":t.status==="completed"?"bg-gray-50/50 dark:bg-gray-800/40 border-gray-200 dark:border-gray-700":t.status==="in_progress"?"bg-red-50/30 dark:bg-red-900/10 border-red-200 dark:border-red-800/30 ring-2 ring-red-500":"bg-white dark:bg-slate-900 border-indigo-100 dark:border-indigo-900/50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-lg text-gray-900 dark:text-white uppercase tracking-tight",children:t.patient?.name||"Pasien Tidak Dikenal"}),e.jsx("p",{className:"text-xs text-gray-400 font-bold italic",children:t.patient?.email||"-"})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase ${a?"bg-orange-100 text-orange-600":t.status==="completed"?"bg-gray-100 text-gray-500":t.status==="in_progress"?"bg-red-100 text-red-600":"bg-indigo-100 text-indigo-600"}`,children:a?"No-Show":t.status==="completed"?"Selesai":t.status==="in_progress"?"ðŸ”´ Live":n?"Dijadwal Ulang":"Akan Datang"})]}),e.jsxs("div",{className:"bg-indigo-50/50 dark:bg-slate-800 rounded-2xl p-4 mb-4 text-xs font-bold text-indigo-900 dark:text-indigo-300 space-y-1",children:[e.jsxs("p",{children:["ðŸ“… ",t.schedule?new Date(t.schedule.date+"T00:00:00").toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"No Date"]}),e.jsxs("p",{children:["ðŸ• ",t.schedule?.start_time?.substring(0,5)," â€“ ",t.schedule?.end_time?.substring(0,5)," WIB"]}),e.jsxs("p",{className:"text-[10px] uppercase tracking-widest text-indigo-600/70 pt-1",children:["Paket: ",t.package_type||"REGULER"]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-auto",children:[e.jsx(ne,{href:t.patient?route("schedules.patient-detail",t.patient.id):"#",className:`w-full text-center text-[10px] font-black text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 py-3 rounded-2xl uppercase tracking-widest ${t.patient?"":"opacity-50 cursor-not-allowed"}`,children:"Rekam Medis & Detail"}),t.status==="confirmed"&&e.jsx("button",{onClick:()=>we(t.id),className:"w-full text-center text-xs font-black text-white bg-indigo-600 hover:bg-indigo-700 py-3 rounded-2xl shadow-lg uppercase",children:"Mulai Sesi"}),t.status==="in_progress"&&e.jsx(ne,{href:route("schedules.active-session",t.id),className:"w-full text-center text-xs font-black text-white bg-red-600 hover:bg-red-700 py-3 rounded-2xl uppercase",children:"Selesaikan Sesi"}),t.status==="completed"&&e.jsx("button",{onClick:()=>ye(t),className:"w-full text-center text-xs font-black text-white bg-slate-900 py-3 rounded-2xl uppercase",children:"Update Data Sesi"}),["confirmed","in_progress"].includes(t.status)&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ve(t),className:"flex-1 text-[10px] font-black text-amber-700 bg-amber-50 hover:bg-amber-100 border border-amber-200 py-2.5 rounded-2xl uppercase",children:"Jadwal Ulang"}),e.jsx("button",{onClick:()=>_e(t),className:"flex-1 text-[10px] font-black text-red-700 bg-red-50 hover:bg-red-100 border border-red-200 py-2.5 rounded-2xl uppercase",children:"Tidak Hadir"})]})]})]},t.id)})})]}),f==="mySchedules"&&!q&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 shadow-sm p-8 md:p-10",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-1 flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded-full"}),"Atur Ketersediaan Mingguan"]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-8",children:"Pilih hari & jam â€” sistem otomatis membagi slot 2 jam & LIBUR SABTU MINGGU"}),e.jsxs("form",{onSubmit:De,className:"space-y-7",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 block",children:["Hari Aktif ",e.jsx("span",{className:"text-rose-400",children:"*"}),D.days_of_week&&e.jsx("span",{className:"ml-2 text-rose-500 normal-case font-bold",children:D.days_of_week})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(t=>{const a=r.days_of_week.includes(t.id);return e.jsxs("button",{type:"button",onClick:()=>pe(t.id),className:`w-16 h-16 rounded-2xl flex flex-col items-center justify-center font-black transition-all border-2 ${a?"bg-indigo-600 text-white border-indigo-600 scale-105 shadow-lg shadow-indigo-500/30":"bg-gray-50 dark:bg-gray-800 text-gray-500 border-gray-200 dark:border-gray-700 hover:border-indigo-300"}`,children:[e.jsx("span",{className:"text-[10px] uppercase tracking-widest",children:t.short}),a&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/70 mt-1"})]},t.id)})}),r.days_of_week.length>0&&e.jsxs("p",{className:"text-[10px] font-bold text-indigo-600 mt-2",children:["âœ“ Aktif: ",r.days_of_week.sort((t,a)=>t-a).map(t=>A.find(a=>a.id===t)?.long).join(", ")]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Jam Mulai","start_time","06:00","21:00"],["Jam Selesai","end_time","07:00","22:00"]].map(([t,a,n,s])=>e.jsxs("div",{children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:[t," ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("input",{type:"time",min:n,max:s,value:r[a],onChange:l=>h(a,l.target.value),required:!0,className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl text-lg font-black text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500/20"}),D[a]&&e.jsx("p",{className:"text-rose-500 text-xs mt-1",children:D[a]})]},a))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:["Berlaku Dari ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("input",{type:"date",min:ae,value:r.date_from,onChange:t=>h("date_from",t.target.value),required:!0,className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500/20"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:["Berlaku Sampai ",e.jsx("span",{className:"text-rose-400",children:"*"})]}),e.jsx("input",{type:"date",min:r.date_from||ae,value:r.date_to,onChange:t=>h("date_to",t.target.value),required:!0,className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500/20"})]}),e.jsxs("div",{className:"md:col-span-1 hidden",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 block",children:"Kuota / Sesi"}),e.jsx("input",{type:"number",min:1,max:20,value:r.quota,onChange:t=>h("quota",Number(t.target.value)),className:"w-full px-5 py-4 bg-gray-50 dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500/20"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:["consultation","class"].map(t=>e.jsx("button",{type:"button",onClick:()=>h("schedule_type",t),className:`px-5 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest border transition-all ${r.schedule_type===t?"bg-emerald-600 text-white border-emerald-600 shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 border-gray-200 hover:border-emerald-300"}`,children:t==="consultation"?"ðŸ‘¥ Konsultasi":"ðŸŽ“ Kelas"},t))}),r.days_of_week.length>0&&r.date_from&&r.date_to&&e.jsxs("div",{className:"p-5 bg-indigo-50/60 dark:bg-indigo-900/20 rounded-2xl border border-indigo-100 dark:border-indigo-800/30",children:[e.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest mb-1",children:"Ringkasan"}),e.jsxs("p",{className:"text-sm font-bold text-indigo-900 dark:text-indigo-200",children:["Setiap ",r.days_of_week.sort((t,a)=>t-a).map(t=>A.find(a=>a.id===t)?.long).join(" & "),", ",r.start_time,"â€“",r.end_time," WIB"]}),e.jsxs("p",{className:"text-xs text-indigo-600 mt-0.5",children:["dari ",new Date(r.date_from+"T00:00").toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})," s/d ",new Date(r.date_to+"T00:00").toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]})]}),e.jsx("button",{type:"submit",disabled:te||r.days_of_week.length===0||!r.date_from||!r.date_to,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl text-[11px] font-black uppercase tracking-widest shadow-xl shadow-indigo-600/20 active:scale-95 transition-all disabled:opacity-40",children:te?"â³ Menyimpan...":"âœ¦ Terapkan Jadwal Ketersediaan"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-gray-700/50 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"}),"Slot Mendatang"]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Jadwal yang sudah Anda daftarkan"})]}),d.length>0&&e.jsxs("span",{className:"px-4 py-2 bg-emerald-600 text-white rounded-full text-[10px] font-black uppercase",children:[d.length," Slot"]})]}),d.length===0?e.jsxs("div",{className:"py-20 text-center",children:[e.jsx("p",{className:"text-gray-400 font-black text-sm uppercase tracking-widest",children:"Belum ada slot terdaftar"}),e.jsx("p",{className:"text-gray-300 text-xs mt-2",children:"Gunakan form di atas untuk menambah ketersediaan mingguan"})]}):e.jsxs("div",{className:"divide-y divide-gray-50 dark:divide-gray-800",children:[Z.length>0?Z.map((t,a)=>{const n=t.date.includes("T")?t.date.split("T")[0]:t.date,s=new Date(n+"T00:00:00");return isNaN(s.getTime()),e.jsxs("div",{className:"px-8 py-5 flex items-center justify-between hover:bg-gray-50/50 dark:hover:bg-gray-700/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:`w-14 h-14 rounded-2xl flex flex-col items-center justify-center font-black shadow-sm ${t.booked_count>=1?"bg-rose-100 dark:bg-rose-900/30 text-rose-600":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600"}`,children:[e.jsx("span",{className:"text-xs",children:s.toLocaleDateString("id-ID",{month:"short"})}),e.jsx("span",{className:"text-xl leading-none",children:s.getDate()})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-black text-gray-900 dark:text-white uppercase",children:[s.toLocaleDateString("id-ID",{weekday:"long"}),", ",s.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]}),e.jsxs("p",{className:"text-xs font-bold text-gray-400 mt-0.5",children:["ðŸ• ",t.start_time?.substring(0,5)," â€“ ",t.end_time?.substring(0,5)," WIB"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase ${t.booked_count>=1?"bg-rose-100 dark:bg-rose-900/30 text-rose-600":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600"}`,children:t.booked_count>=1?"âœ… Terisi":"ðŸŸ¢ Tersedia"}),t.booked_count===0&&e.jsx("button",{onClick:()=>{confirm("Hapus slot ini?")&&G.delete(route("schedules.destroy",t.id))},className:"p-2 rounded-xl bg-rose-50 text-rose-400 hover:bg-rose-100 hover:text-rose-600 transition-all",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},t.id)}):null,d.length>0&&e.jsxs("div",{className:"px-8 py-5 flex items-center justify-between bg-gray-50/50 dark:bg-gray-800/20",children:[e.jsxs("span",{className:"text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:["Menampilkan ",(u-1)*j+1," sampai ",Math.min(u*j,d.length)," dari ",d.length," SLOT"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Q(t=>Math.max(1,t-1)),disabled:u===1,className:"px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all text-slate-500 hover:bg-white dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed border border-slate-200/50 dark:border-slate-700",children:"PREV"}),e.jsx("button",{onClick:()=>Q(t=>Math.min(ee,t+1)),disabled:u===ee,className:"px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all text-slate-500 hover:bg-white dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed border border-slate-200/50 dark:border-slate-700",children:"NEXT"})]})]})]})]})]})]})]})]})}),e.jsx(I,{show:g!==null,onClose:se,maxWidth:"2xl",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Riwayat Pasien"}),e.jsxs("div",{className:"mb-8 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-4",children:"Data & Skrining Pasien"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest mb-1",children:"Kelengkapan Profil"}),e.jsxs("p",{className:"font-black text-gray-800 dark:text-gray-200",children:[g?.patient_profile_stats?.percentage||0,"% Lengkap"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest mb-1",children:"Hasil Skrining"}),e.jsx("p",{className:"font-black text-indigo-600",children:g?.recommended_package||"Belum ada data"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest mb-2",children:"Partisipasi Kelas (Course)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g?.courses?.length>0?g.courses.map(t=>e.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest bg-purple-100 text-purple-700 border border-purple-200",children:t.title},t.id)):e.jsx("span",{className:"text-gray-400 italic text-xs",children:"Belum terdaftar di kelas manapun."})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest mb-1",children:"Pesan Admin (Skrining)"}),e.jsx("p",{className:"italic text-gray-600 dark:text-gray-400 text-xs bg-white dark:bg-slate-900 p-4 rounded-2xl border border-gray-100 dark:border-gray-700",children:g?.screening_results?.[0]?.admin_notes||"Tidak ada catatan."})]})]})]}),e.jsx("h3",{className:"text-sm font-black text-gray-900 dark:text-white mb-4 px-2 uppercase tracking-widest",children:"Riwayat Sesi Sebelumnya"}),e.jsx("div",{className:"space-y-4 max-h-[40vh] overflow-y-auto pr-2 custom-scrollbar",children:g?.bookings?.map(t=>e.jsxs("div",{className:`p-6 rounded-[2rem] border flex gap-5 transition-all ${t.status==="completed"?"bg-indigo-50/30 dark:bg-indigo-900/20 border-indigo-100 dark:border-indigo-800/30":"bg-white dark:bg-slate-900 border-gray-100 dark:border-gray-700"}`,children:[e.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-2xl flex items-center justify-center font-black ${t.status==="completed"?"bg-emerald-500 text-white":"bg-gray-100 text-gray-400 dark:bg-gray-700 dark:text-gray-200"}`,children:t.status==="completed"?"âœ“":"..."}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-black text-gray-900 dark:text-white text-sm uppercase tracking-tight",children:new Date(t.schedule?.date||"").toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}),e.jsxs("p",{className:"text-[10px] text-gray-400 font-bold mt-1 uppercase tracking-widest",children:["Terapis: ",e.jsx("span",{className:"text-emerald-600",children:t.schedule?.therapist?.name})]}),t.started_at&&e.jsxs("div",{className:"mt-2 text-[10px] font-bold text-gray-500 uppercase flex flex-wrap gap-x-4 gap-y-1",children:[e.jsxs("span",{children:["Mulai: ",e.jsxs("span",{className:"text-emerald-600 font-black",children:[new Date(t.started_at).toLocaleTimeString("id-id",{hour:"2-digit",minute:"2-digit"})," WIB"]})]}),t.ended_at&&e.jsxs("span",{children:["Selesai: ",e.jsxs("span",{className:"text-rose-600 font-black",children:[new Date(t.ended_at).toLocaleTimeString("id-id",{hour:"2-digit",minute:"2-digit"})," WIB"]})]}),t.started_at&&t.ended_at&&e.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400 font-black px-2 py-0.5 bg-indigo-50 dark:bg-indigo-900/40 rounded-lg",children:["Durasi: ",Math.round((new Date(t.ended_at)-new Date(t.started_at))/6e4)," Menit"]})]}),e.jsxs("div",{className:"mt-3 text-xs bg-white/50 dark:bg-slate-800/50 p-4 rounded-2xl border border-gray-100 dark:border-gray-700 text-gray-600 dark:text-gray-400 italic",children:[e.jsx("p",{className:"font-black text-gray-400 dark:text-gray-500 uppercase text-[9px] tracking-widest mb-1 not-italic",children:"Catatan Klinis"}),e.jsx("p",{className:"whitespace-pre-wrap",children:t.therapist_notes||"Tidak ada catatan."})]}),t.recording_link&&e.jsxs("a",{href:t.recording_link,target:"_blank",rel:"noreferrer",className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 hover:underline mt-4 flex items-center gap-2 uppercase tracking-widest",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Link Rekaman Sesi"]})]})]},t.id))}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx(P,{onClick:se,className:"rounded-2xl px-8",children:"Tutup"})})]})}),e.jsx(I,{show:_!==null,onClose:$,children:e.jsxs("form",{onSubmit:je,className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Akhiri Sesi"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8",children:["Sesi dengan ",e.jsx("strong",{children:_?.patient?.name})," pada ",_?.schedule?.date,"."]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"recording_link",value:"Link Rekaman YouTube (Private/Unlisted)"}),e.jsx(Be,{id:"recording_link",type:"url",className:"mt-1 block w-full rounded-2xl border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white",placeholder:"https://youtu.be/...",value:T.recording_link,onChange:t=>v("recording_link",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"completion_outcome",value:"Status Selesai Sesi"}),e.jsxs("select",{id:"completion_outcome",className:"mt-1 block w-full border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white rounded-2xl shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm font-bold",value:T.completion_outcome,onChange:t=>v("completion_outcome",t.target.value),required:!0,children:[e.jsx("option",{value:"Normal",children:"Normal (Selesai dengan Baik)"}),e.jsx("option",{value:"Abnormal/Emergency",children:"Upnormal / Emergency (Butuh Perhatian Khusus)"})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"patient_visible_notes",value:"Pesan untuk Pasien (Dashboard Pasien)"}),e.jsx("textarea",{id:"patient_visible_notes",className:"mt-1 block w-full border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white rounded-2xl shadow-sm focus:border-emerald-500 focus:ring-emerald-500 text-sm",rows:"3",placeholder:"Tuliskan homework atau ringkasan singkat untuk pasien...",value:T.patient_visible_notes,onChange:t=>v("patient_visible_notes",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"therapist_notes",value:"Catatan Klinis (Privat)"}),e.jsx("textarea",{id:"therapist_notes",className:"mt-1 block w-full border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white rounded-2xl shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",rows:"4",placeholder:"Tuliskan perkembangan klinis detail...",value:T.therapist_notes,onChange:t=>v("therapist_notes",t.target.value)})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(P,{onClick:$,disabled:R,className:"rounded-2xl",children:"Batal"}),e.jsx("button",{type:"submit",disabled:R,className:`inline-flex items-center px-6 py-3 bg-red-600 border border-transparent rounded-2xl font-black text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-900 transition-all ${R&&"opacity-25"}`,children:"Akhiri Sesi & Simpan"})]})]})}),e.jsx(I,{show:S!==null,onClose:W,children:e.jsxs("form",{onSubmit:Ne,className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Jadwal Ulang"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8",children:["Pasien: ",e.jsx("strong",{children:S?.patient?.name})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"new_schedule_id",value:"Pilih Slot Baru"}),e.jsxs("select",{id:"new_schedule_id",className:"mt-1 block w-full border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white rounded-2xl shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm font-bold",value:C.new_schedule_id,onChange:t=>E("new_schedule_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Slot Tersedia --"}),ie.filter(t=>t.id!==S?.schedule_id).map(t=>e.jsxs("option",{value:t.id,children:[new Date(t.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long"})," â€” ",t.start_time?.substring(0,5)," WIB"]},t.id))]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"reschedule_reason",value:"Alasan Perubahan"}),e.jsx("textarea",{id:"reschedule_reason",className:"mt-1 block w-full border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white rounded-2xl shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",rows:"3",placeholder:"Tuliskan alasan rescheduling...",value:C.reschedule_reason,onChange:t=>E("reschedule_reason",t.target.value),required:!0})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(P,{onClick:W,disabled:K,className:"rounded-2xl",children:"Batal"}),e.jsx("button",{type:"submit",disabled:K||!C.new_schedule_id,className:`inline-flex items-center px-6 py-3 bg-amber-600 border border-transparent rounded-2xl font-black text-xs text-white uppercase tracking-widest hover:bg-amber-700 transition-all ${(K||!C.new_schedule_id)&&"opacity-25"}`,children:"Konfirmasi Jadwal Baru"})]})]})}),e.jsx(I,{show:L!==null,onClose:z,children:e.jsxs("form",{onSubmit:Se,className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2 uppercase tracking-tight",children:"Tandai Tidak Hadir"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8",children:["Pasien: ",e.jsx("strong",{children:L?.patient?.name})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"no_show_party",value:"Keterangan Ketidakhadiran"}),e.jsxs("select",{id:"no_show_party",className:"mt-1 block w-full border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white rounded-2xl shadow-sm focus:border-red-500 focus:ring-red-500 text-sm font-bold",value:re.no_show_party,onChange:t=>F("no_show_party",t.target.value),required:!0,children:[e.jsx("option",{value:"patient",children:"Pasien Berhalangan Hadir"}),e.jsx("option",{value:"therapist",children:"Praktisi Berhalangan Hadir"})]})]}),e.jsxs("div",{children:[e.jsx(x,{htmlFor:"no_show_reason",value:"Keterangan Tambahan"}),e.jsx("textarea",{id:"no_show_reason",className:"mt-1 block w-full border-gray-200 dark:border-gray-700 dark:bg-slate-800 dark:text-white rounded-2xl shadow-sm focus:border-red-500 focus:ring-red-500 text-sm",rows:"3",placeholder:"Detail ketidakhadiran...",value:re.no_show_reason,onChange:t=>F("no_show_reason",t.target.value)})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(P,{onClick:z,disabled:H,className:"rounded-2xl",children:"Batal"}),e.jsx("button",{type:"submit",disabled:H,className:`inline-flex items-center px-6 py-3 bg-red-600 border border-transparent rounded-2xl font-black text-xs text-white uppercase tracking-widest hover:bg-red-700 transition-all ${H&&"opacity-25"}`,children:"Konfirmasi No-Show"})]})]})})]})}export{et as default};

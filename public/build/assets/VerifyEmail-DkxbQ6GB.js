import{u as p,r as n,j as e,H as b,L as h}from"./app-CPRPUjV9.js";import{P as k}from"./PrimaryButton-CtOYO2n8.js";import{G as v}from"./GuestLayout-DMy4CdWL.js";import"./Navbar-OG-YWvW6.js";import"./ThemeToggle-GMfMv8m6.js";function w({status:m}){const{post:d,processing:x}=p({}),l=300,s=3,[i,o]=n.useState(0),[a,u]=n.useState(()=>{const t=localStorage.getItem("verify_email_attempts");return t?parseInt(t):0});n.useEffect(()=>{const t=localStorage.getItem("verify_email_last_sent");if(t){const r=Math.floor((Date.now()-parseInt(t))/1e3);r<l&&o(l-r)}},[]),n.useEffect(()=>{let t;return i>0&&(t=setInterval(()=>{o(r=>r-1)},1e3)),()=>clearInterval(t)},[i]),n.useEffect(()=>{localStorage.setItem("verify_email_attempts",a.toString())},[a]);const g=t=>{t.preventDefault(),!(a>=s)&&d(route("verification.send"),{onSuccess:()=>{o(l),u(r=>r+1),localStorage.setItem("verify_email_last_sent",Date.now().toString())}})},f=t=>{const r=Math.floor(t/60),c=t%60;return`${r}:${c<10?"0":""}${c}`};return e.jsxs(v,{title:"Verifikasi Email",children:[e.jsx(b,{title:"Verifikasi Email"}),e.jsxs("div",{className:"mb-12 text-center relative",children:[e.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-48 h-48 bg-gold-400/10 rounded-full blur-[100px] pointer-events-none"}),e.jsx("h2",{className:"text-[2.75rem] font-black text-gray-950 dark:text-white tracking-[-0.04em] leading-tight transition-colors duration-1000",children:"Verify"}),e.jsx("p",{className:"mt-3 text-[11px] text-gray-400 dark:text-gray-500 font-black tracking-[0.2em] uppercase opacity-80",children:"Satu langkah terakhir"}),e.jsx("div",{className:"h-0.5 w-12 bg-gradient-to-r from-transparent via-gold-500/40 to-transparent mx-auto mt-8"})]}),e.jsxs("div",{className:"mb-8 text-center px-2",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed font-light",children:"Terima kasih telah bergabung! Silakan verifikasi alamat email kamu melalui tautan yang baru saja kami kirimkan."}),a<s&&e.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400 italic",children:"Belum menerima email? Kamu bisa minta kirim ulang di bawah."})]}),m==="verification-link-sent"&&e.jsxs("div",{className:"mb-8 p-4 rounded-2xl bg-green-500/10 border border-green-500/20 text-sm font-bold text-green-600 dark:text-green-400 text-center animate-pulse flex items-center justify-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Tautan verifikasi baru telah dikirimkan!"]}),a>=s&&e.jsx("div",{className:"mb-8 p-4 rounded-2xl bg-red-500/10 border border-red-500/20 text-sm font-bold text-red-600 dark:text-red-400 text-center",children:"Batas percobaan tercapai. Silakan coba lagi nanti atau hubungi bantuan."}),e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{className:"w-full",disabled:x||i>0||a>=s,children:i>0?`Tunggu ${f(i)}`:a>=s?"Batas Tercapai":"Kirim Ulang Email Verifikasi"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 w-full",children:[e.jsx("div",{className:"flex-grow border-t border-gray-100 dark:border-gray-800"}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:["Sisa Percobaan: ",s-a]}),e.jsx("div",{className:"flex-grow border-t border-gray-100 dark:border-gray-800"})]}),e.jsx(h,{href:route("logout"),method:"post",as:"button",className:"text-sm font-bold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors underline underline-offset-4 decoration-2 decoration-gray-200 dark:decoration-gray-800",children:"Log Out"})]})]})})]})}export{w as default};

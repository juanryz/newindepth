import{j as e,H as y,L as m}from"./app-CVpGujUv.js";import{A as b}from"./AuthenticatedLayout-BsJH2DWe.js";import j from"./ErrorBoundary-C_iheXQ7.js";import"./transition-BE08YvBp.js";import"./ThemeToggle-VDqkIPS3.js";import"./LiquidBackground--xoiuJG5.js";function f({userModel:t,bookings:s=[],transactions:d=[],schedules:i=[],screeningResults:p=[],profileCompletion:l}){const o=t.roles.some(a=>a.name==="patient"),g=t.roles.some(a=>a.name==="therapist"),r=l?.percentage||0,n=t.ktp_photo,c=p[0],h=!!t.agreement_signed_at;return e.jsxs(b,{header:e.jsxs("h2",{className:"font-bold text-xl text-gray-900 dark:text-white leading-tight",children:["Detail User: ",t.name]}),children:[e.jsx(y,{title:`User: ${t.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-8",children:[e.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 shadow-sm rounded-3xl overflow-hidden",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-4xl font-bold shadow-xl",children:t.name.charAt(0)}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white mb-2",children:t.name}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.roles.map(a=>e.jsx("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs font-bold uppercase tracking-wider rounded-full border border-indigo-100 dark:border-indigo-800",children:a.name},a.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email Address"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:t.email})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Phone Number"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:t.phone||"-"})]}),t.referral_code&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Referral Code"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium font-mono",children:t.referral_code})]}),t.affiliate_ref&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Affiliate Koder"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:t.affiliate_ref})]}),t.screening_answers?.usia&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Usia"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:[t.screening_answers.usia," tahun"]})]}),t.screening_answers?.gender&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Jenis Kelamin"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium capitalize",children:t.screening_answers.gender})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Joined Since"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:new Date(t.created_at).toLocaleDateString("id-ID",{dateStyle:"long"})})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{href:route("admin.users.index"),className:"px-6 py-2.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-all text-sm",children:"Kembali"}),e.jsx(m,{href:route("admin.users.edit",t.id),className:"px-6 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 font-bold rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all text-sm",children:"Edit Profil"})]})]})})}),o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100",children:[e.jsxs("div",{className:"bg-white/40 dark:bg-gray-800/40 p-6 rounded-3xl border border-gray-100 dark:border-gray-700/50 flex flex-col justify-between",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Kelengkapan Profil"}),e.jsxs("div",{className:"flex items-end justify-between mb-4",children:[e.jsxs("p",{className:`text-4xl font-black ${r===100?"text-green-500":"text-indigo-600 dark:text-indigo-400"}`,children:[r,"%"]}),e.jsx("div",{className:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:`h-full rounded-full ${r===100?"bg-green-500":"bg-indigo-600"}`,style:{width:`${r}%`}})})]}),l?.fields&&e.jsx("div",{className:"flex flex-col gap-1.5 mt-2 bg-gray-50/50 dark:bg-gray-900/40 p-3 rounded-2xl border border-gray-100 dark:border-gray-700/50 max-h-40 overflow-y-auto",children:Object.entries(l.fields).map(([a,x])=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:`${x.filled?"text-gray-900 dark:text-gray-200 font-medium":"text-gray-400 italic"}`,children:x.label}),x.filled?e.jsx("svg",{className:"w-3.5 h-3.5 text-green-500 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-3.5 h-3.5 text-red-400 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]},a))})]}),e.jsxs("div",{className:"bg-white/40 dark:bg-gray-800/40 p-6 rounded-3xl border border-gray-100 dark:border-gray-700/50 flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Status Skrining"}),e.jsx("p",{className:`font-bold pb-4 border-b border-gray-100 dark:border-gray-700 mb-4 ${t.screening_completed_at?"text-green-600":"text-amber-600"}`,children:t.screening_completed_at?"✅ Selesai":"⏳ Belum Skrining"}),c?e.jsx("div",{className:"space-y-4 flex-1",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Hasil Diagnosa AI"}),e.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 leading-snug line-clamp-3",children:['"',c.ai_summary||c.severity_label||"Tidak ada ringkasan",'"']})]})}):e.jsx("p",{className:"text-sm font-bold text-gray-400 italic flex-1",children:"Data skrining belum tersedia."})]}),e.jsx("div",{className:"bg-white/40 dark:bg-gray-800/40 p-6 rounded-3xl border border-gray-100 dark:border-gray-700/50 flex flex-col justify-between space-y-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Dokumen KTP"}),n?e.jsx("div",{className:"mt-3",children:e.jsxs("a",{href:`/storage/${n}`,target:"_blank",rel:"noreferrer",className:"block w-full aspect-[16/9] bg-gray-100 dark:bg-gray-800 rounded-2xl overflow-hidden group relative border border-gray-200 dark:border-gray-700",children:[e.jsx("img",{src:`/storage/${n}`,alt:"KTP Pasien",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity backdrop-blur-sm",children:e.jsx("span",{className:"text-white text-xs font-bold px-4 py-2 bg-white/20 rounded-xl backdrop-blur-md",children:"Lihat Penuh"})})]})}):e.jsx("div",{className:"mt-3 flex items-center justify-center w-full aspect-[16/9] bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:e.jsx("p",{className:"text-xs font-bold text-gray-400",children:"Belum diunggah"})})]})}),e.jsx("div",{className:"bg-white/40 dark:bg-gray-800/40 p-6 rounded-3xl border border-gray-100 dark:border-gray-700/50 flex flex-col justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Service Agreement"}),h?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-bold text-sm",children:"Ditandatangani"})]}),e.jsxs("p",{className:"text-[10px] text-gray-500",children:["Pada: ",new Date(t.agreement_signed_at).toLocaleString("id-ID",{dateStyle:"long",timeStyle:"short"})]}),t.digital_signature&&e.jsxs("div",{className:"mt-4 border-t border-gray-100 dark:border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold",children:"Digital Signature Data"}),e.jsxs("a",{href:route("admin.users.agreement",t.id),target:"_blank",rel:"noreferrer",className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 transition-colors inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Lihat Form Legal"]})]}),e.jsx("img",{src:t.digital_signature,alt:"Tanda Tangan",className:"h-16 object-contain bg-white rounded border border-gray-200 p-1"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-bold text-amber-600 dark:text-amber-500",children:"Belum disetujui"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pasien belum menyetujui dokumen perjanjian layanan."})]})]})}),e.jsxs("div",{className:"bg-white/40 dark:bg-gray-800/40 p-6 rounded-3xl border border-gray-100 dark:border-gray-700/50 flex flex-col",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Kontak Darurat"}),t.emergency_contact_name?e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:t.emergency_contact_name}),e.jsx("p",{className:"text-xs font-medium text-gray-500",children:t.emergency_contact_phone}),e.jsxs("p",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400 uppercase tracking-widest mt-2",children:["Hubungan: ",t.emergency_contact_relation||"-"]})]}):e.jsx("p",{className:"text-sm font-bold text-gray-400 italic mt-2",children:"Belum diisi."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-6 duration-500 delay-300",children:[e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 shadow-sm rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700/50 flex justify-between items-center",children:[e.jsxs("h3",{className:"font-bold text-lg text-gray-900 dark:text-white",children:["Riwayat Booking ",g?"(Terapis)":"(Pasien)"]}),e.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold rounded-full",children:[s.length," Aktivitas"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-900/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Detail"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Waktu"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest text-right",children:"Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:[s.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-900/20 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 cursor-help",title:a.therapist_notes||"Belum ada catatan terapis",children:a.booking_code}),e.jsx("p",{className:"text-xs text-gray-500 capitalize",children:a.package_type||"Hipnoterapi"}),a.recording_link&&e.jsxs("a",{href:a.recording_link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 mt-1 text-[10px] font-bold text-indigo-600 dark:text-indigo-400 hover:underline",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Link Video"]}),a.therapist_notes&&e.jsxs("div",{className:"mt-2 p-3 bg-indigo-50/50 dark:bg-indigo-900/10 rounded-xl text-xs text-gray-700 dark:text-gray-300 border border-indigo-100 dark:border-indigo-800/30",children:[e.jsx("span",{className:"font-bold block mb-1.5 text-indigo-700 dark:text-indigo-400 border-b border-indigo-100 dark:border-indigo-800 pb-1",children:"Hasil Diagnosa & Catatan Terapis:"}),e.jsx("div",{className:"whitespace-pre-wrap",children:a.therapist_notes})]})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 whitespace-nowrap",children:a.schedule?`${a.schedule.date} ${a.schedule.start_time}`:"-"}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:`px-2 py-0.5 text-[10px] font-black uppercase rounded-md ${a.status==="confirmed"?"bg-green-100 text-green-700":a.status==="cancelled"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:a.status})})]},a.id)),s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-6 py-8 text-center text-gray-500 italic text-sm",children:"Belum ada riwayat booking"})})]})]})})]}),o?e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 shadow-sm rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700/50 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"Riwayat Transaksi"}),e.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold rounded-full",children:[d.length," Transaksi"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-900/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Invoice / Rekening"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Nominal"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest text-center",children:"Bukti"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest text-right",children:"Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:[d.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-900/20 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:a.invoice_number}),e.jsx("p",{className:"text-xs text-gray-500",children:a.payment_method||"-"})]}),e.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-gray-900 dark:text-gray-100",children:["Rp ",new Intl.NumberFormat("id-ID").format(a.amount)]}),e.jsx("td",{className:"px-6 py-4 text-center",children:a.payment_proof?e.jsx("a",{href:`/storage/${a.payment_proof}`,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline font-bold transition-colors",children:"Lihat Bukti"}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"—"})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("span",{className:`px-2 py-0.5 text-[10px] font-black uppercase rounded-md ${a.status==="paid"?"bg-green-100 text-green-700":a.status==="cancelled"?"bg-gray-100 text-gray-500":a.status==="rejected"?"bg-red-100 text-red-700":a.status==="refunded"?"bg-orange-100 text-orange-700":"bg-amber-100 text-amber-700"}`,children:a.status==="cancelled"?"Dibatalkan":a.status==="paid"?"Lunas":a.status==="rejected"?"Ditolak":a.status==="refunded"?"Dikembalikan":a.status})})]},a.id)),d.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-6 py-8 text-center text-gray-500 italic text-sm",children:"Belum ada riwayat transaksi"})})]})]})})]}):g?e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border border-gray-100 dark:border-gray-700/50 shadow-sm rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700/50 flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"Jadwal Terapis"}),e.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs font-bold rounded-full",children:[i.length," Slot"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-900/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Waktu"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase tracking-widest text-right",children:"Isian"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:[i.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-900/20 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-900 dark:text-gray-100",children:new Date(a.date).toLocaleDateString("id-ID",{dateStyle:"medium"})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400",children:[a.start_time.substring(0,5)," - ",a.end_time.substring(0,5)]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("span",{className:`px-2 py-0.5 text-[10px] font-black uppercase rounded-md ${a.booked_count>=a.quota?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[a.booked_count," / ",a.quota]})})]},a.id)),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"px-6 py-8 text-center text-gray-500 italic text-sm",children:"Belum ada data jadwal"})})]})]})})]}):null]})]})})]})}function L(t){return e.jsx(j,{children:e.jsx(f,{...t})})}export{L as default};

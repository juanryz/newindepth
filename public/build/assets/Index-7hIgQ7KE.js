import{b as p,u as h,j as e,H as b}from"./app-zrb39nnJ.js";import{A as u}from"./AuthenticatedLayout-Cqmxi1Io.js";import"./transition-BNjNeH0a.js";import"./ThemeToggle-DBk7qWEG.js";import"./LiquidBackground-DzgCMrZh.js";function k(r){return"Rp "+new Intl.NumberFormat("id-ID").format(r)}function c({uv:r}){const a=r.is_used?"border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800/30":r.is_expired?"border-red-200 bg-red-50 dark:border-red-800/40 dark:bg-red-900/10":"border-green-200 bg-green-50 dark:border-green-700/50 dark:bg-green-900/15",s=r.is_used?"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-400":r.is_expired?"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400":"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",d=r.is_used?"Sudah Dipakai":r.is_expired?"Kadaluarsa":"Aktif";return e.jsxs("div",{className:`rounded-2xl border p-5 ${a}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-mono font-extrabold text-xl tracking-widest text-indigo-700 dark:text-indigo-400",children:r.code}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:r.description||"â€”"})]}),e.jsx("span",{className:`text-xs font-semibold px-2.5 py-1 rounded-full ${s}`,children:d})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:k(r.discount_amount)}),e.jsxs("div",{className:"text-right text-xs text-gray-400 dark:text-gray-500",children:[r.expired_at&&e.jsxs("p",{children:["Berlaku s/d ",new Date(r.expired_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]}),e.jsx("p",{className:"capitalize",children:r.type==="vip_reward"?"ðŸŽ Reward VIP":"ðŸ·ï¸ Kode Promo"})]})]})]})}function _({userVouchers:r}){const{flash:a}=p().props,{data:s,setData:d,post:l,processing:x,errors:o,reset:g}=h({code:""}),m=t=>{t.preventDefault(),l(route("vouchers.claim"),{onSuccess:()=>g()})},i=r.filter(t=>t.is_active),n=r.filter(t=>!t.is_active);return e.jsxs(u,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-white leading-tight",children:"Voucher Saya"}),children:[e.jsx(b,{title:"Voucher Saya"}),e.jsx("div",{className:"py-10",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[a?.success&&e.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 text-sm text-green-800 dark:text-green-300 font-medium",children:["âœ… ",a.success]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-1",children:"Punya Kode Voucher?"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Masukkan kode promo untuk mendapatkan diskon. Setiap kode hanya bisa diklaim 1x."}),e.jsxs("form",{onSubmit:m,className:"flex gap-3",children:[e.jsx("input",{type:"text",value:s.code,onChange:t=>d("code",t.target.value.toUpperCase()),placeholder:"Contoh: PROMO50",className:"flex-1 border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2.5 font-mono uppercase text-sm dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500 outline-none"}),e.jsx("button",{type:"submit",disabled:x||!s.code,className:"px-5 py-2.5 bg-indigo-600 text-white text-sm font-semibold rounded-xl hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:"Klaim"})]}),o.code&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:o.code})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 dark:text-gray-500 mb-3",children:["Voucher Aktif (",i.length,")"]}),i.length===0?e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 italic",children:"Anda belum memiliki voucher aktif."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map(t=>e.jsx(c,{uv:t},t.id))})]}),n.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 dark:text-gray-500 mb-3",children:"Riwayat Voucher"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:n.map(t=>e.jsx(c,{uv:t},t.id))})]})]})})]})}export{_ as default};

import{j as e,H as p,L as s}from"./app-7n7NXcZT.js";import{A as u}from"./AuthenticatedLayout-Bkdh8OTr.js";import"./transition-BiVTvV7W.js";import"./ThemeToggle-DavRMNuW.js";import"./LiquidBackground-1thxs-DC.js";function b({bookings:a,profileProgress:d}){const n=d?d.percentage===100:!0;return e.jsxs(u,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Hasil Sesi Terapis & Riwayat"}),children:[e.jsx(p,{title:"Hasil Sesi & Riwayat"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900 dark:text-gray-100",children:[a.data.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Belum ada riwayat sesi"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Anda belum pernah melakukan sesi konsultasi sebelumnya."}),e.jsx("div",{className:"mt-6",children:n?e.jsx(s,{href:route("bookings.create"),className:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-indigo-900 focus:ring ring-indigo-300 disabled:opacity-25 transition ease-in-out duration-150",children:"Buat Reservasi Baru"}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("button",{type:"button",disabled:!0,className:"inline-flex items-center px-4 py-2 bg-gray-400 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest cursor-not-allowed opacity-75",children:"Buat Reservasi Baru"}),e.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 font-semibold bg-red-50 dark:bg-red-900/20 px-3 py-1.5 rounded-md mt-1 text-center",children:"Anda harus melengkapi profil hingga 100% sebelum membuat janji temu"})]})})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 text-sm font-medium text-gray-500 dark:text-gray-400",children:[e.jsx("th",{className:"py-3 px-4",children:"Invoice / Booking Code"}),e.jsx("th",{className:"py-3 px-4",children:"Paket Layanan"}),e.jsx("th",{className:"py-3 px-4",children:"Terapis & Jadwal"}),e.jsx("th",{className:"py-3 px-4",children:"Total Transaksi"}),e.jsx("th",{className:"py-3 px-4",children:"Status"}),e.jsx("th",{className:"py-3 px-4 text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:a.data.map(t=>{const r=t.status==="pending_payment",l=t.status==="pending_validation",c=t.status==="pending_screening",x=t.status==="confirmed",m=t.status==="cancelled";["pending_payment","pending_validation","pending_screening","pending","draft"].includes(t.status);const o=t.transaction?.amount?new Intl.NumberFormat("id-ID").format(t.transaction.amount):"-";return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsxs("td",{className:"py-4 px-4 align-top",children:[e.jsxs("div",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:["#",t.booking_code]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.transaction?.invoice_number||"-"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(t.created_at).toLocaleDateString("id-ID")})]}),e.jsx("td",{className:"py-4 px-4 align-top",children:e.jsx("div",{className:"font-medium whitespace-nowrap",children:t.package_type==="vip"?"Paket VIP":t.package_type==="premium"?"Paket Premium":"Paket Hipnoterapi"})}),e.jsxs("td",{className:"py-4 px-4 align-top min-w-[200px]",children:[e.jsx("div",{className:"font-medium",children:t.therapist?.name||t.schedule?.therapist?.name||"-"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:(()=>{if(!t.schedule?.date)return"-";const i=t.schedule.date.includes(" ")?t.schedule.date.split(" ")[0]:t.schedule.date.includes("T")?t.schedule.date.split("T")[0]:t.schedule.date;return new Date(i+"T00:00:00").toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})()}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 shrink-0",children:t.schedule?`${t.schedule.start_time?.substring(0,5)||"--:--"} - ${t.schedule.end_time?.substring(0,5)||"--:--"} WIB`:"-"})]}),e.jsxs("td",{className:"py-4 px-4 align-top font-semibold text-gray-700 dark:text-gray-300",children:["Rp ",o]}),e.jsxs("td",{className:"py-4 px-4 align-top",children:[x&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:"Dikonfirmasi"}),r&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",children:"Menunggu Pembayaran"}),l&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:"Validasi Admin"}),c&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:"Skrining"}),m&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:"Dibatalkan"})]}),e.jsxs("td",{className:"py-4 px-4 align-top text-right space-y-2",children:[e.jsx(s,{href:route("bookings.show",t.id),className:"block text-sm font-semibold text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors",children:"Lihat Detail â†’"}),["pending_payment","pending_validation","pending_screening","pending","draft"].includes(t.status)&&e.jsx(s,{href:route("bookings.cancel",t.id),method:"post",as:"button",onClick:i=>{confirm("Batalkan booking ini untuk memilih jadwal baru? (Pilihan ini akan membatalkan reservasi ini sehingga Anda bisa memilih jadwal baru)")||i.preventDefault()},className:"block text-[10px] font-black uppercase text-red-500 hover:text-red-700 transition-colors text-right w-full",children:"Ganti Jadwal"})]})]},t.id)})})]})}),a.links&&a.data.length>0&&e.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-1",children:a.links.map((t,r)=>e.jsx("div",{children:t.url===null?e.jsx("div",{className:"mb-1 mr-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded",dangerouslySetInnerHTML:{__html:t.label}}):e.jsx(s,{href:t.url,className:`mb-1 mr-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-gray-50 focus:border-indigo-500 focus:text-indigo-500 ${t.active?"bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"}`,dangerouslySetInnerHTML:{__html:t.label}})},r))})]})})})})]})}export{b as default};

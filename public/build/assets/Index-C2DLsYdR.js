import{e as n,b as k,u as G,d as se,j as e,H as bt,L as ft,f as we}from"./app-BpYTt_k6.js";import{A as yt}from"./AuthenticatedLayout-5qMRWyUE.js";import{F as kt,i as wt,a as jt,b as vt}from"./index-BuSsjZ8f.js";import Nt from"./Form-Xqhqj6a0.js";import{M as Dt}from"./Modal-CzF-NbIs.js";import{S as St}from"./SecondaryButton-C_ZoAnZf.js";import{P as _t}from"./PrimaryButton-Ez71_KLZ.js";import{C as je}from"./calendar-C3H2e13F.js";import{U as Tt}from"./users-LQfaVX-B.js";import{C as Ct}from"./credit-card-CEp_RB1M.js";import{A as $e,C as Ae}from"./clock-D2ePwTEW.js";import{C as Lt}from"./chevron-right-Dg_Rz_nm.js";import{F as It}from"./file-text-BYea7zDu.js";import{A as Ft}from"./index-COMnI9qB.js";import{m as ne}from"./proxy-CBLNX1Vp.js";import{E as Bt}from"./eye-DRYdv4r7.js";import{C as ve}from"./circle-check-BG5L8-RB.js";import{T as Ot}from"./triangle-alert-BjOw3FmF.js";import"./transition-BYb-Peo2.js";import"./ThemeToggle-D3QL3oKY.js";import"./LiquidBackground-B6sJt0iX.js";import"./with-selector-B3wk-PCO.js";import"./createLucideIcon-Cp8pejSP.js";function Mt(d){const o=d.event.extendedProps.bookings?.length>0,x=d.event.extendedProps.therapist?.name||"Terapis";return d.event.start<new Date&&!o?e.jsxs("div",{className:"h-full w-full p-1 sm:p-2 rounded-xl transition-all flex flex-col justify-center gap-0 sm:gap-1 overflow-hidden bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-500 shadow-sm cursor-not-allowed",children:[e.jsx("span",{className:"text-[9px] sm:text-[10px] font-black uppercase tracking-widest leading-tight truncate",children:d.timeText}),e.jsx("div",{className:"text-[10px] sm:text-xs font-black truncate leading-tight uppercase tracking-tight text-slate-600 dark:text-slate-400",children:"âš« KADALUARSA"}),e.jsxs("div",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest truncate",children:["Ditutup â€¢ ",x]})]}):e.jsxs("div",{className:`h-full w-full p-1 sm:p-2 rounded-xl transition-all flex flex-col justify-center gap-0 sm:gap-1 overflow-hidden ${o?"bg-gradient-to-br from-rose-500 to-rose-600 text-white shadow-lg shadow-rose-500/20":"bg-white dark:bg-slate-800 border-2 border-emerald-200 dark:border-emerald-900/40 text-emerald-700 dark:text-emerald-400 shadow-sm"}`,children:[e.jsx("span",{className:"text-[9px] sm:text-[10px] font-black uppercase tracking-widest opacity-80 leading-tight truncate",children:d.timeText}),e.jsx("div",{className:`text-[10px] sm:text-xs font-black truncate leading-tight uppercase tracking-tight ${o?"text-white":"text-slate-900 dark:text-white"}`,children:o?"ðŸ”´ PENUH":`ðŸŸ¢ ${x}`}),e.jsx("div",{className:"text-[8px] font-bold opacity-70 uppercase tracking-widest truncate",children:o?`${d.event.extendedProps.bookings.length} Pasien â€¢ Slot Terisi`:"Tersedia â€¢ 1 Pasien"})]})}const Pt=`
    .fc { --fc-border-color: rgba(255,255,255,0.05); --fc-button-bg-color: transparent; --fc-button-border-color: rgba(255,255,255,0.1); --fc-button-hover-bg-color: rgba(99,102,241,0.1); --fc-button-active-bg-color: rgba(99,102,241,0.2); --fc-today-bg-color: rgba(99,102,241,0.05); font-family: 'Inter', sans-serif; border: none !important; }
    .dark .fc { --fc-border-color: rgba(255,255,255,0.03); }
    .fc-theme-standard td, .fc-theme-standard th { border: 1px solid var(--fc-border-color) !important; }
    .fc-col-header-cell { padding: 20px 0 !important; background: rgba(255,255,255,0.02); }
    .fc-col-header-cell-cushion { text-transform: uppercase; font-size: 11px; font-weight: 900; letter-spacing: 0.1em; color: #6366f1; }
    .fc-timegrid-slot { height: 4em !important; border-bottom: 1px solid var(--fc-border-color) !important; }
    .fc-timegrid-slot-label-cushion { font-size: 10px; font-weight: 800; color: #94a3b8; text-transform: uppercase; }
    .fc-event { border: none !important; border-radius: 12px !important; padding: 4px !important; box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: all 0.3s cubic-bezier(0.4,0,0.2,1); }
    .fc-event:hover { transform: scale(1.02) translateY(-2px); z-index: 50; box-shadow: 0 12px 24px rgba(0,0,0,0.15); }
    .fc-v-event { background: transparent !important; }
    .fc-event-main { padding: 4px !important; }
    .fc-timegrid-now-indicator-line { border-color: #6366f1 !important; border-width: 2px !important; }
    .fc-toolbar-title { font-size: 1.25rem !important; font-weight: 900 !important; text-transform: uppercase; letter-spacing: -0.025em; color: #1e293b; }
    .dark .fc-toolbar-title { color: #f8fafc; }
    .fc-button-primary { background-color: white !important; border: 1px solid rgba(0,0,0,0.05) !important; color: #475569 !important; font-weight: 800 !important; font-size: 11px !important; text-transform: uppercase !important; border-radius: 12px !important; padding: 8px 16px !important; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1) !important; }
    .dark .fc-button-primary { background-color: #1e293b !important; border-color: rgba(255,255,255,0.05) !important; color: #cbd5e1 !important; }
    .fc-button-primary:hover { background-color: #f8fafc !important; }
    .dark .fc-button-primary:hover { background-color: #334155 !important; }
    .fc-button-active { background-color: #4f46e5 !important; border-color: #4f46e5 !important; color: white !important; }
    @media (max-width: 767px) {
        .fc-toolbar { flex-direction: column !important; gap: 8px !important; align-items: stretch !important; }
        .fc-toolbar-title { font-size: 0.9rem !important; text-align: center; }
        .fc-toolbar-chunk { display: flex !important; justify-content: center !important; flex-wrap: wrap !important; gap: 4px !important; }
        .fc-button-primary { font-size: 9px !important; padding: 6px 10px !important; }
        .fc .fc-col-header-cell-cushion { font-size: 9px !important; padding: 4px !important; }
        .fc .fc-timegrid-slot-label-cushion { font-size: 9px !important; }
        .fc-timegrid-slot { height: 3em !important; }
    }
`;function ca({schedules:d=[],bookings:o=[],transactions:x=[],therapists:H=[],availableSchedules:Ve=[],filters:ie={}}){const[u,Ye]=n.useState("schedules"),{flash:q,errors:Q,auth:Rt}=k().props,[Ue,I]=n.useState(!1),[F,Ne]=n.useState(ie.therapist_id||""),[We,De]=n.useState("timeGridWeek"),B=n.useRef(null),{data:Se,setData:_e,patch:ze,processing:Ee}=G({therapist_id:""}),[Je,le]=n.useState(null),[O,M]=n.useState(null),[de,P]=n.useState(null),{data:oe,setData:Te,post:Ke,processing:Ce,reset:Ge}=G({new_schedule_id:"",reschedule_reason:""}),{data:Le,setData:Ie,post:He,processing:Fe,reset:qe}=G({no_show_party:"therapist",no_show_reason:""}),[ce,ge]=n.useState(null),{data:Qe,setData:Xe,post:Ze,reset:et,processing:Be}=G({rejection_reason:""}),[Oe,Me]=n.useState(null),[X,R]=n.useState(null),[tt,Z]=n.useState(null),[ee,te]=n.useState(""),[Pe,Re]=n.useState(!1),{post:$t,errors:At}=G(),at=t=>{ee.trim()&&(Re(!0),se.post(route("vouchers.apply-by-code"),{code:ee,transaction_id:t.id},{preserveScroll:!0,onSuccess:()=>{Z(null),te("")},onFinish:()=>Re(!1)}))},[$,xe]=n.useState(""),[A,pe]=n.useState(""),[h,v]=n.useState(""),[b,N]=n.useState(""),V=(x||[]).filter(t=>{if($&&t.status!==$)return!1;if(A){const a=A.toLowerCase();if(!t.invoice_number?.toLowerCase().includes(a)&&!t.user?.name?.toLowerCase().includes(a)&&!t.user?.email?.toLowerCase().includes(a))return!1}return!(h&&new Date(t.created_at)<new Date(h)||b&&new Date(t.created_at)>new Date(b+"T23:59:59"))}),[Y,me]=n.useState(""),[U,ue]=n.useState(""),[f,D]=n.useState(""),[y,S]=n.useState(""),W=(o||[]).filter(t=>{if(Y&&t.status!==Y)return!1;if(U){const a=U.toLowerCase();if(!t.booking_code?.toLowerCase().includes(a)&&!t.patient?.name?.toLowerCase().includes(a)&&!t.patient?.email?.toLowerCase().includes(a)&&!t.therapist?.name?.toLowerCase().includes(a))return!1}return!(f&&t.schedule?.date&&new Date(t.schedule.date)<new Date(f)||y&&t.schedule?.date&&new Date(t.schedule.date)>new Date(y+"T23:59:59"))}),[he,rt]=n.useState(""),[w,z]=n.useState(""),[j,E]=n.useState(""),[be,Vt]=n.useState(""),fe=(d||[]).filter(t=>{if(be&&String(t.therapist?.id)!==String(be)&&String(t.extendedProps?.therapist?.id)!==String(be))return!1;if(he){const s=he.toLowerCase();if(!(t.extendedProps?.therapist?.name||t.title||"").toLowerCase().includes(s))return!1}const a=t.start||t.date;return!(w&&a&&new Date(a)<new Date(w)||j&&a&&new Date(a)>new Date(j+"T23:59:59"))}),ae=n.useMemo(()=>{const t=[];return(x||[]).forEach(a=>{if(t.push({id:`tx-submit-${a.id}`,type:"payment_submitted",icon:"ðŸ’¸",color:"amber",actor:a.user?.name||"Pasien",actorRole:"Pasien",action:"mengajukan pembayaran",subject:a.invoice_number,detail:`Rp ${new Intl.NumberFormat("id-ID").format(a.amount||0)} Â· ${a.payment_bank||"-"}`,date:a.created_at}),a.status==="paid"&&a.validated_at){const s=a.validated_by_user?.name||a.validated_by?.name||"Admin";t.push({id:`tx-valid-${a.id}`,type:"payment_validated",icon:"âœ…",color:"emerald",actor:s,actorRole:"Admin",action:"memvalidasi pembayaran",subject:a.invoice_number,detail:`Pasien: ${a.user?.name||"-"} Â· Rp ${new Intl.NumberFormat("id-ID").format(a.amount||0)}`,date:a.validated_at})}if(a.status==="rejected"){const s=a.validated_by_user?.name||a.validated_by?.name||"Admin";t.push({id:`tx-reject-${a.id}`,type:"payment_rejected",icon:"âŒ",color:"rose",actor:s,actorRole:"Admin",action:"menolak pembayaran",subject:a.invoice_number,detail:`Pasien: ${a.user?.name||"-"} Â· Alasan: ${a.rejection_reason||"-"}`,date:a.updated_at||a.created_at})}}),(o||[]).forEach(a=>{t.push({id:`booking-created-${a.id}`,type:"booking_created",icon:"ðŸ“‹",color:"indigo",actor:a.patient?.name||"Pasien",actorRole:"Pasien",action:"membuat booking",subject:a.booking_code,detail:`Paket ${a.package_type||"-"} Â· ${a.schedule?.date?new Date(a.schedule.date).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-"}`,date:a.created_at}),a.status==="no_show"&&t.push({id:`booking-noshow-${a.id}`,type:"no_show",icon:"âš ï¸",color:"rose",actor:"Admin",actorRole:"Admin",action:"menandai no-show",subject:a.booking_code,detail:`Pasien: ${a.patient?.name||"-"} Â· Pihak: ${a.no_show_party||"pasien"}`,date:a.updated_at||a.created_at}),a.status==="completed"&&t.push({id:`booking-done-${a.id}`,type:"session_completed",icon:"ðŸŽ¯",color:"emerald",actor:a.therapist?.name||"Terapis",actorRole:"Terapis",action:"menyelesaikan sesi",subject:a.booking_code,detail:`Pasien: ${a.patient?.name||"-"} Â· Outcome: ${a.completion_outcome||"Normal"}`,date:a.updated_at||a.created_at}),a.status==="cancelled"&&t.push({id:`booking-cancel-${a.id}`,type:"booking_cancelled",icon:"ðŸš«",color:"gray",actor:"Admin",actorRole:"Admin",action:"membatalkan booking",subject:a.booking_code,detail:`Pasien: ${a.patient?.name||"-"}`,date:a.updated_at||a.created_at})}),t.sort((a,s)=>new Date(s.date)-new Date(a.date))},[x,o]),[_,ye]=n.useState(""),[T,ke]=n.useState(""),[p,C]=n.useState(""),[m,L]=n.useState(""),J=n.useMemo(()=>ae.filter(t=>{if(_&&t.type!==_)return!1;if(T){const a=T.toLowerCase();if(!t.actor?.toLowerCase().includes(a)&&!t.subject?.toLowerCase().includes(a)&&!t.detail?.toLowerCase().includes(a)&&!t.action?.toLowerCase().includes(a))return!1}return!(p&&new Date(t.date)<new Date(p)||m&&new Date(t.date)>new Date(m+"T23:59:59"))}),[ae,_,T,p,m]),st=()=>{const t=["Kode Booking","Paket","Pasien","Email Pasien","Terapis","Tanggal Sesi","Jam","Status","Tanggal Dibuat"],a=W.map(r=>[r.booking_code||"",r.package_type?.toUpperCase()||"",r.patient?.name||"",r.patient?.email||"",r.therapist?.name||r.schedule?.therapist?.name||"-",r.schedule?.date?new Date(r.schedule.date).toLocaleDateString("id-ID"):"-",r.schedule?.start_time?.substring(0,5)||"-",r.status||"",r.created_at?new Date(r.created_at).toLocaleDateString("id-ID"):""]),s=[t,...a].map(r=>r.map(g=>`"${String(g).replace(/"/g,'""')}"`).join(",")).join(`
`),c=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(c),l=document.createElement("a");l.href=i,l.download=`booking_indepth_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},nt=()=>{const t=["Terapis","Tanggal","Jam Mulai","Jam Selesai","Status"],a=fe.map(r=>[r.extendedProps?.therapist?.name||r.title||"-",r.start?new Date(r.start).toLocaleDateString("id-ID"):r.date?new Date(r.date).toLocaleDateString("id-ID"):"-",r.extendedProps?.start_time||r.start_time||"-",r.extendedProps?.end_time||r.end_time||"-",r.extendedProps?.bookings?.length>0?"Terisi":"Tersedia"]),s=[t,...a].map(r=>r.map(g=>`"${String(g).replace(/"/g,'""')}"`).join(",")).join(`
`),c=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(c),l=document.createElement("a");l.href=i,l.download=`jadwal_indepth_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},it=()=>{const t=["Tanggal","Jam","Pelaku","Role","Aksi","Subjek","Detail"],a=J.map(r=>{const g=new Date(r.date);return[g.toLocaleDateString("id-ID"),g.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),r.actor,r.actorRole,r.action,r.subject,r.detail]}),s=[t,...a].map(r=>r.map(g=>`"${String(g).replace(/"/g,'""')}"`).join(",")).join(`
`),c=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(c),l=document.createElement("a");l.href=i,l.download=`log_kegiatan_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},lt=()=>{const t=["Invoice","Bank","Nama","Email","Layanan","Nominal (Rp)","Status","Tanggal","Divalidasi Oleh","Tanggal Validasi"],a=V.map(r=>[r.invoice_number||"",r.payment_bank||"-",r.user?.name||"",r.user?.email||"",r.transactionable_type?.includes("Booking")?`Booking - ${r.transactionable?.package_type||""}`:r.transactionable_type?.split("\\").pop()||"",r.amount||0,r.status==="paid"?"Valid":r.status==="rejected"?"Ditolak":r.status==="pending"?"Menunggu":r.status,r.created_at?new Date(r.created_at).toLocaleDateString("id-ID"):"",r.validated_by_user?.name||r.validated_by?.name||"",r.validated_at?new Date(r.validated_at).toLocaleDateString("id-ID"):""]),s=[t,...a].map(r=>r.map(g=>`"${String(g).replace(/"/g,'""')}"`).join(",")).join(`
`),c=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(c),l=document.createElement("a");l.href=i,l.download=`transaksi_indepth_${new Date().toISOString().slice(0,10)}.csv`,l.click(),URL.revokeObjectURL(i)},dt=[{id:"schedules",label:"Jadwal",icon:je,count:fe.length,total:d?.length||0},{id:"bookings",label:"Booking",icon:Tt,count:W.length,total:o?.length||0},{id:"transactions",label:"Pembayaran",icon:Ct,count:V.length,total:x?.length||0},{id:"activity",label:"Log Kegiatan",icon:$e,count:J.length,total:ae.length}];n.useEffect(()=>{const t=()=>{if(window.innerWidth<1024){if(De("timeGridDay"),B.current){const a=B.current.getApi();a.view.type.includes("Grid")&&a.view.type!=="timeGridDay"&&a.changeView("timeGridDay")}}else if(De("timeGridWeek"),B.current){const a=B.current.getApi();a.view.type.includes("Grid")&&a.view.type!=="dayGridMonth"&&a.view.type!=="timeGridWeek"&&a.changeView("timeGridWeek")}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n.useEffect(()=>{F!==(ie.therapist_id||"")&&se.get(route("admin.orders.index"),{...ie,therapist_id:F},{preserveState:!0,replace:!0})},[F]);const ot=t=>se.visit(route("admin.schedules.show",t.event.id)),ct=t=>ze(route("admin.bookings.assign-therapist",t),{onSuccess:()=>le(null)}),gt=t=>{t.preventDefault(),Ke(route("admin.bookings.reschedule",O.id),{onSuccess:()=>{M(null),Ge()}})},xt=t=>{t.preventDefault(),He(route("admin.bookings.no-show",de.id),{onSuccess:()=>{P(null),qe()}})},pt=t=>{Me(t.id),se.post(route("admin.transactions.validate",t.id),{},{preserveScroll:!0,preserveState:!0,onFinish:()=>Me(null)})},mt=t=>{t.preventDefault(),Ze(route("admin.transactions.reject",ce.id),{onSuccess:()=>{ge(null),et()}})},ut=t=>{const a={pending_screening:"bg-yellow-100 text-yellow-800",pending_payment:"bg-blue-100 text-blue-800",pending_validation:"bg-indigo-100 text-indigo-800",confirmed:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},s={pending_screening:"Menunggu Skrining",pending_payment:"Menunggu Bayar",pending_validation:"Menunggu Validasi",confirmed:"Dikonfirmasi",completed:"Selesai",cancelled:"Dibatalkan"};return e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${a[t]||a.pending_payment}`,children:s[t]||t})},ht=t=>{const a=t.transactionable;if(!a?.schedule)return null;const s=a.schedule;try{return{dateStr:new Date(s.date).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),startTime:s.start_time?.substring(0,5)||"--:--",endTime:s.end_time?.substring(0,5)||"--:--"}}catch{return null}},re=x?.filter(t=>t.status==="pending")?.length||0;return e.jsxs(yt,{header:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900 dark:text-white leading-tight",children:"Manajemen Order"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-[0.2em] mt-1",children:"Mengelola Jadwal, Pasien dan Pembayaran"})]})}),children:[e.jsx(bt,{title:"Manajemen Order"}),e.jsx("style",{children:Pt}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[k().props.flash?.success&&e.jsx("div",{className:"p-4 text-sm text-green-800 dark:text-green-300 rounded-2xl bg-green-50/80 dark:bg-green-900/30 border border-green-200 dark:border-green-800/50",children:k().props.flash.success}),(k().props.flash?.error||k().props.errors?.error)&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50",children:k().props.flash?.error||k().props.errors?.error}),q?.success&&e.jsx("div",{className:"p-4 text-sm text-green-800 dark:text-green-300 rounded-2xl bg-green-50/80 dark:bg-green-900/30 border border-green-200 dark:border-green-800/50 mb-4",children:q.success}),(q?.error||Q?.error)&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50 mb-4",children:q?.error||Q?.error}),Q?.error&&e.jsx("div",{className:"p-4 text-sm text-red-800 dark:text-red-300 rounded-2xl bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800/50 backdrop-blur-xl",children:Q.error}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"lg:w-72 flex-shrink-0 space-y-4",children:[e.jsx("div",{className:"bg-white/50 dark:bg-gray-800/40 backdrop-blur-md rounded-[2rem] border border-gray-100 dark:border-gray-700/50 p-2 shadow-sm",children:dt.map(t=>e.jsxs("button",{onClick:()=>Ye(t.id),className:`w-full flex items-center gap-4 px-5 py-4 rounded-2xl text-sm font-black transition-all duration-300 ${u===t.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-600/20 translate-x-1":"text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[e.jsx(t.icon,{className:`w-5 h-5 ${u===t.id?"text-white":"text-indigo-500"}`}),e.jsx("span",{className:"flex-1 text-left",children:t.label}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.id==="transactions"&&re>0&&e.jsx("span",{className:`w-5 h-5 rounded-full text-[9px] font-black flex items-center justify-center ${u===t.id?"bg-white/20 text-white":"bg-amber-500 text-white animate-pulse"}`,children:re}),u===t.id&&e.jsx(Lt,{className:"w-5 h-5 opacity-50"})]})]},t.id))}),e.jsxs("div",{className:"bg-indigo-50/50 dark:bg-indigo-950/10 rounded-[2rem] border border-indigo-100 dark:border-indigo-900/30 p-6",children:[e.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-black tracking-[0.2em] text-indigo-600 dark:text-indigo-500 uppercase mb-4",children:[e.jsx(It,{className:"w-4 h-4"})," Ringkasan"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Total Slot Jadwal"}),e.jsx("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:d?.length||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Total Booking"}),e.jsx("p",{className:"text-xl font-black text-gray-900 dark:text-white",children:o?.length||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Transaksi Pending"}),e.jsx("p",{className:`text-xl font-black ${re>0?"text-amber-600":"text-emerald-600"}`,children:re})]})]})]})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs(Ft,{mode:"wait",children:[u==="schedules"&&e.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 p-8 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-teal-500 rounded-full"}),"Kelola Jadwal Praktek"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-teal-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[fe.length," / ",d?.length||0," Jadwal"]}),e.jsxs("button",{onClick:nt,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-teal-200 dark:border-teal-800/50 text-teal-700 dark:text-teal-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]}),e.jsx("button",{onClick:()=>I(!0),className:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-600/20",children:"+ Tambah Slot"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-8 pb-6 border-b border-gray-100 dark:border-gray-700/50 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Pilih Terapis"}),e.jsxs("select",{value:F,onChange:t=>Ne(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-teal-500/20 focus:border-teal-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Terapis"}),H.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:w,onChange:t=>z(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-teal-500/20 focus:border-teal-400 transition-all",title:"Dari tanggal"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 lg:col-span-2",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2 items-center flex-wrap sm:flex-nowrap",children:[e.jsx("input",{type:"date",value:j,onChange:t=>E(t.target.value),className:"w-[140px] px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-teal-500/20 focus:border-teal-400 transition-all shrink-0",title:"Sampai tanggal"}),e.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 p-1 rounded-xl border border-gray-200 dark:border-gray-700 shrink-0 h-[42px]",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),s=t.getDate()-a+(a===0?-6:1);z(new Date(t.setDate(s)).toISOString().split("T")[0]),E(new Date(t.setDate(s+6)).toISOString().split("T")[0])},className:`px-3 h-full rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors ${w===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&j===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-teal-500 text-white shadow-md":"hover:bg-teal-50 dark:hover:bg-teal-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu"}),e.jsx("button",{onClick:()=>{const t=new Date;z(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),E(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 h-full rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors ${w===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&j===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-teal-500 text-white shadow-md":"hover:bg-teal-50 dark:hover:bg-teal-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan"}),e.jsx("button",{onClick:()=>{const t=new Date;z(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),E(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 h-full rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors ${w===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&j===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-teal-500 text-white shadow-md":"hover:bg-teal-50 dark:hover:bg-teal-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun"})]}),(F||he||w||j)&&e.jsx("button",{onClick:()=>{Ne(""),rt(""),z(""),E("")},className:"shrink-0 px-3 h-[42px] bg-gray-100 dark:bg-gray-700 text-gray-500 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all flex items-center justify-center",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-900/20 rounded-[2rem] transition-colors overflow-hidden",children:e.jsx(kt,{ref:B,plugins:[wt,jt,vt],initialView:We,initialDate:new Date().toISOString().split("T")[0],headerToolbar:{left:"prev,next",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},locale:"id",slotMinTime:"08:00:00",slotMaxTime:"22:00:00",slotDuration:"01:00:00",allDaySlot:!1,weekends:!1,events:d,eventClick:ot,editable:!1,droppable:!1,eventContent:Mt,height:"auto",expandRows:!0,stickyHeaderDates:!0,nowIndicator:!0,dateClick:t=>{const a=new Date(t.dateStr),s=new Date;s.setHours(0,0,0,0),!(a<s)&&I(!0)}})}),e.jsxs("div",{className:"flex gap-6 mt-6 pt-6 border-t border-gray-100 dark:border-gray-700/50 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Penuh (Terisi)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tersedia (1 Slot / Terapis)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tertutup (Kadaluarsa)"})]})]})]})},"schedules"),u==="bookings"&&e.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 dark:border-gray-700/50 bg-indigo-50/30 dark:bg-indigo-950/20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded-full"}),"Booking Pasien"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),s=t.getDate()-a+(a===0?-6:1);D(new Date(t.setDate(s)).toISOString().split("T")[0]),S(new Date(t.setDate(s+6)).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${f===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&y===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;D(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),S(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${f===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&y===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;D(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),S(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${f===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&y===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun Ini"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[W.length," / ",o?.length||0," Booking"]}),e.jsxs("button",{onClick:st,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-indigo-200 dark:border-indigo-800/50 text-indigo-700 dark:text-indigo-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5 text-left",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cari Booking"}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Kode/pasien/terapis...",value:U,onChange:t=>ue(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white placeholder-gray-300 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Internal Status"}),e.jsxs("select",{value:Y,onChange:t=>me(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"pending_payment",children:"Menunggu Bayar"}),e.jsx("option",{value:"pending_validation",children:"Menunggu Validasi"}),e.jsx("option",{value:"confirmed",children:"Dikonfirmasi"}),e.jsx("option",{value:"in_progress",children:"Berlangsung"}),e.jsx("option",{value:"completed",children:"Selesai"}),e.jsx("option",{value:"cancelled",children:"Dibatalkan"}),e.jsx("option",{value:"no_show",children:"No-Show"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:f,onChange:t=>D(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Dari tanggal sesi"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:y,onChange:t=>S(t.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Sampai tanggal sesi"}),(Y||U||f||y)&&e.jsx("button",{onClick:()=>{me(""),ue(""),D(""),S("")},className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("tr",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] border-b border-white/40 dark:border-gray-700/30",children:[e.jsx("th",{className:"px-6 py-5",children:"Info Booking"}),e.jsx("th",{className:"px-6 py-5",children:"Pasien & Screening"}),e.jsx("th",{className:"px-6 py-5",children:"Jadwal"}),e.jsx("th",{className:"px-6 py-5 text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-5",children:"Terapis & Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800/50",children:[W.map(t=>e.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-black text-gray-900 dark:text-white mb-1",children:t.booking_code}),e.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 px-2 py-0.5 rounded-md w-fit",children:t.package_type?.toUpperCase()||"KONSULTASI"})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white",children:t.patient?.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.patient?.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-1 my-1",children:e.jsx("div",{className:`h-1 rounded-full ${t.patient_profile_stats?.percentage===100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${t.patient_profile_stats?.percentage||0}%`}})}),e.jsxs("span",{className:"text-[9px] font-black text-gray-400 uppercase",children:[t.patient_profile_stats?.percentage||0,"%"]})]}),t.patient?.screening_completed_at?e.jsx("span",{className:"text-[9px] font-black text-emerald-500 uppercase border-l border-gray-200 dark:border-gray-700 pl-3",children:"OK"}):e.jsx("span",{className:"text-[9px] font-black text-rose-500 uppercase border-l border-gray-200 dark:border-gray-700 pl-3",children:"No"})]})]})}),e.jsx("td",{className:"px-6 py-5",children:t.schedule?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:new Date(t.schedule.date).toLocaleDateString("id-ID",{day:"numeric",month:"short"})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.schedule.start_time?.substring(0,5)," - ",t.schedule.end_time?.substring(0,5)," WIB"]})]}):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No Slot"})}),e.jsx("td",{className:"px-6 py-5 text-center",children:ut(t.status)}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("div",{className:"flex flex-col gap-3",children:Je===t.id?e.jsxs("div",{className:"flex flex-col gap-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur p-3 rounded-xl border border-white dark:border-gray-700 shadow-lg",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Assign Terapis"}),e.jsxs("select",{className:"text-xs bg-gray-50 dark:bg-gray-900 border-none rounded-lg focus:ring-2 focus:ring-indigo-500/20",value:Se.therapist_id,onChange:a=>_e("therapist_id",a.target.value),children:[e.jsx("option",{value:"",children:"Pilih Terapis"}),H.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("button",{onClick:()=>ct(t.id),className:"flex-1 py-1.5 bg-indigo-600 text-white text-[10px] font-black uppercase rounded-lg disabled:opacity-50",disabled:Ee||!Se.therapist_id,children:"Simpan"}),e.jsx("button",{onClick:()=>le(null),className:"flex-1 py-1.5 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-[10px] font-black uppercase rounded-lg",children:"Batal"})]})]}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between group/tp",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-0.5",children:"PJ"}),t.therapist?e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white",children:t.therapist.name}):e.jsx("span",{className:"text-xs font-bold text-amber-500",children:["pending_payment","pending_validation"].includes(t.status)?"â³ Otomatis":"BELUM"})]}),e.jsx("button",{onClick:()=>{le(t.id),_e("therapist_id",t.therapist_id||"")},className:"p-1.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg opacity-0 group-hover:opacity-100 group-hover/tp:opacity-100 transition-all",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 pt-2 border-t border-gray-100 dark:border-gray-800/50",children:[t.schedule_id&&e.jsx(ft,{href:route("admin.schedules.show",t.schedule_id),className:"px-2 py-1.5 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 text-[9px] font-black uppercase tracking-widest rounded-lg border border-gray-200 dark:border-gray-700 hover:border-indigo-500/50 hover:text-indigo-500 transition-all",children:"Detail"}),["confirmed","in_progress"].includes(t.status)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>M(t),className:"px-2 py-1.5 bg-amber-500 text-white text-[9px] font-black uppercase rounded-lg",children:"Reschedule"}),e.jsx("button",{onClick:()=>P(t),className:"px-2 py-1.5 bg-rose-500 text-white text-[9px] font-black uppercase rounded-lg",children:"No-Show"})]})]})]})})})]},t.id)),W.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"px-8 py-20 text-center",children:[e.jsx("p",{className:"text-gray-400 font-black uppercase tracking-[0.2em] text-xs",children:"Tidak ada booking yang cocok."}),(Y||U||f||y)&&e.jsx("button",{onClick:()=>{me(""),ue(""),D(""),S("")},className:"mt-4 text-[10px] font-black text-indigo-600 uppercase underline",children:"Reset Filter"})]})})]})]})})]})},"bookings"),u==="transactions"&&e.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 dark:border-gray-700/50 bg-emerald-50/30 dark:bg-emerald-950/20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-emerald-500 rounded-full"}),"Validasi Pembayaran"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),s=t.getDate()-a+(a===0?-6:1);v(new Date(t.setDate(s)).toISOString().split("T")[0]),N(new Date(t.setDate(s+6)).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${h===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&b===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;v(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),N(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${h===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&b===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;v(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),N(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${h===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&b===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-emerald-600 text-white border-emerald-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun Ini"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-emerald-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[V.length," / ",x?.length||0," Transaksi"]}),e.jsxs("button",{onClick:lt,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-emerald-200 dark:border-emerald-800/50 text-emerald-700 dark:text-emerald-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Cari Transaksi"}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Invoice / nama...",value:A,onChange:t=>pe(t.target.value),className:"w-full pl-9 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Status Bayar"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:$,onChange:t=>xe(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white appearance-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Status"}),e.jsx("option",{value:"pending",children:"â³ Menunggu"}),e.jsx("option",{value:"paid",children:"âœ… Valid / Lunas"}),e.jsx("option",{value:"rejected",children:"âŒ Ditolak"})]}),e.jsx("div",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:h,onChange:t=>v(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all",title:"Dari tanggal"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:b,onChange:t=>N(t.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-400 transition-all",title:"Sampai tanggal"}),($||A||h||b)&&e.jsx("button",{onClick:()=>{xe(""),pe(""),v(""),N("")},className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-50/50 dark:bg-gray-800/50",children:e.jsxs("tr",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.15em] border-b border-white/40 dark:border-gray-700/30",children:[e.jsx("th",{className:"px-6 py-5 text-center",children:"Invoice"}),e.jsx("th",{className:"px-6 py-5",children:"Pengguna"}),e.jsx("th",{className:"px-6 py-5",children:"Layanan"}),e.jsx("th",{className:"px-6 py-5",children:"Nominal"}),e.jsx("th",{className:"px-6 py-5",children:"Bukti"}),e.jsx("th",{className:"px-6 py-5",children:"Status"}),e.jsx("th",{className:"px-6 py-5 text-center",children:"Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800/50",children:[V.map(t=>{const a=ht(t),s=t.transactionable_type?.includes("Booking"),c=t.transactionable?.user_voucher?.voucher,i=t.transactionable,l=k().props.auth.user,r=l.roles.some(K=>["admin","super_admin"].includes(K.name)),g=i?.therapist_id===l.id;return e.jsxs("tr",{className:"group hover:bg-gray-50/50 dark:hover:bg-gray-800/20 transition-all",children:[e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[e.jsx("span",{className:"text-sm font-black text-gray-900 dark:text-white mb-1",children:t.invoice_number}),e.jsx("span",{className:"text-[9px] text-gray-400",children:t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):""}),t.payment_proof&&e.jsxs("div",{className:"mt-2 text-left bg-gray-50 dark:bg-gray-800/50 p-2 border border-gray-100 dark:border-gray-700/50 rounded-lg",children:[e.jsx("div",{className:"text-[9px] font-black text-gray-500 uppercase tracking-widest",children:t.payment_bank}),t.payment_agreement_data?.payment_account_number&&e.jsx("div",{className:"text-[10px] text-gray-800 dark:text-gray-300 font-bold",children:t.payment_agreement_data.payment_account_number}),t.payment_agreement_data?.payment_account_name&&e.jsx("div",{className:"text-[9px] text-gray-400 capitalize",children:t.payment_agreement_data.payment_account_name})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:t.user?.name}),e.jsx("span",{className:"text-xs text-gray-500",children:t.user?.email})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-[10px] font-black px-2 py-0.5 bg-indigo-500/10 text-indigo-600 dark:text-indigo-400 rounded-md border border-indigo-500/20 w-fit uppercase tracking-widest",children:s?"Booking":t.transactionable_type?.split("\\").pop()}),s&&e.jsx("span",{className:"text-[9px] font-black text-indigo-500 uppercase",children:t.transactionable?.package_type||"Package"}),a&&e.jsxs("div",{className:"flex flex-col mt-1",children:[e.jsxs("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-400",children:["ðŸ“… ",a.dateStr]}),e.jsxs("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-400",children:["ðŸ• ",a.startTime," â€“ ",a.endTime]})]}),s&&i&&i.status==="confirmed"&&(g||r)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsx("button",{onClick:()=>M(i),className:"px-3 py-1 bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-amber-100 dark:border-amber-900/30 transition-all hover:bg-amber-100",children:"Reschedule"}),e.jsx("button",{onClick:()=>P(i),className:"px-3 py-1 bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-lg text-[9px] font-black uppercase tracking-widest border border-red-100 dark:border-red-900/30 transition-all hover:bg-red-100",children:"No-Show / Batal"})]})]})}),e.jsx("td",{className:"px-6 py-5",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm font-black text-gray-900 dark:text-white",children:["Rp ",new Intl.NumberFormat("id-ID").format(t.amount||0)]}),c?e.jsxs("div",{className:"mt-1 flex flex-col",children:[e.jsx("span",{className:"text-[9px] font-black text-rose-500 uppercase",children:"ðŸ·ï¸ DISKON"}),e.jsxs("span",{className:"px-2 py-0.5 bg-rose-50 dark:bg-rose-900/30 text-rose-600 text-[10px] font-black rounded-md border border-rose-100 dark:border-rose-800 line-through w-fit",children:["Rp ",new Intl.NumberFormat("id-ID").format((t.amount||0)+(t.transactionable.user_voucher.voucher.discount_amount||0))]})]}):e.jsx("span",{className:"text-[8px] font-bold text-gray-400 uppercase mt-1",children:"Normal"})]})}),e.jsx("td",{className:"px-6 py-5",children:t.payment_proof?e.jsxs("a",{href:`/storage/${t.payment_proof}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 group/proof",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-400 group-hover/proof:bg-indigo-500 group-hover/proof:text-white transition-all",children:e.jsx(Bt,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-[10px] font-black text-gray-500 group-hover/proof:text-indigo-600 uppercase",children:"Lihat"})]}):e.jsx("span",{className:"text-[10px] font-black text-rose-500 uppercase italic",children:"Belum Upload"})}),e.jsx("td",{className:"px-6 py-5",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-[10px] font-black uppercase tracking-widest rounded-full border ${t.status==="paid"?"bg-emerald-500/10 text-emerald-600 border-emerald-500/20":t.status==="rejected"?"bg-rose-500/10 text-rose-600 border-rose-500/20":t.status==="pending"?"bg-amber-500/10 text-amber-600 border-amber-500/20":"bg-gray-500/10 text-gray-500 border-gray-500/20"}`,children:t.status==="paid"?"Valid":t.status==="rejected"?"Ditolak":t.status==="pending"?"Menunggu":t.status})}),e.jsx("td",{className:"px-6 py-5 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.status==="pending"&&e.jsxs("div",{className:"flex justify-center gap-2",children:[t.payment_proof?e.jsx("button",{disabled:Oe===t.id,onClick:()=>R(t),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-black uppercase tracking-widest rounded-xl transition-all shadow-lg shadow-emerald-500/20 disabled:opacity-50",children:Oe===t.id?"...":"Validasi"}):e.jsx("span",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-400 text-[9px] font-black uppercase rounded-xl border border-gray-200 dark:border-gray-700 cursor-not-allowed",children:"Bukti Belum Ada"}),e.jsx("button",{onClick:()=>ge(t),className:"px-4 py-2 bg-rose-600/10 hover:bg-rose-600 text-rose-600 hover:text-white text-[10px] font-black uppercase tracking-widest rounded-xl border border-rose-600/20 transition-all",children:"Tolak"})]}),t.status==="paid"&&t.validated_at&&e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("span",{className:"text-[9px] text-gray-400 font-bold",children:["âœ“ ",new Date(t.validated_at).toLocaleDateString("id-ID")]}),t.validated_by&&e.jsxs("span",{className:"text-[9px] font-black text-indigo-500 uppercase flex items-center gap-1",children:[e.jsx(ve,{className:"w-3 h-3"}),t.validated_by_user?.name||t.validated_by?.name||"Admin"]})]}),t.status==="pending"&&!t.payment_agreement_data?.applied_voucher_id&&e.jsx(e.Fragment,{children:tt===t.id?e.jsxs("div",{className:"flex flex-col gap-1.5 w-full mt-1",children:[e.jsx("input",{autoFocus:!0,className:"w-full px-3 py-1.5 text-[10px] font-bold bg-white dark:bg-gray-900 border border-indigo-200 dark:border-indigo-800 rounded-lg focus:ring-2 focus:ring-indigo-400 outline-none uppercase tracking-wider",placeholder:"Kode voucher...",value:ee,onChange:K=>te(K.target.value.toUpperCase()),onKeyDown:K=>K.key==="Escape"&&Z(null)}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{disabled:!ee||Pe,onClick:()=>at(t),className:"flex-1 py-1 bg-indigo-600 text-white text-[9px] font-black uppercase rounded-lg disabled:opacity-50",children:Pe?"...":"Terapkan"}),e.jsx("button",{onClick:()=>{Z(null),te("")},className:"flex-1 py-1 bg-gray-100 dark:bg-gray-700 text-gray-500 text-[9px] font-black uppercase rounded-lg",children:"Batal"})]})]}):e.jsx("button",{onClick:()=>{Z(t.id),te("")},className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 text-[9px] font-black uppercase tracking-widest rounded-lg border border-indigo-100 dark:border-indigo-800/50 hover:bg-indigo-100 transition-all",children:"ðŸ·ï¸ Diskon"})}),t.payment_agreement_data?.applied_voucher_code&&e.jsxs("span",{className:"text-[9px] font-black text-emerald-500 uppercase mt-1",children:["âœ“ ",t.payment_agreement_data.applied_voucher_code]})]})})]},t.id)}),V.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",className:"px-8 py-20 text-center",children:[e.jsx(ve,{className:"w-10 h-10 text-gray-200 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-400 font-black uppercase tracking-[0.2em] text-xs",children:"Tidak ada transaksi yang cocok."}),($||A||h||b)&&e.jsx("button",{onClick:()=>{xe(""),pe(""),v(""),N("")},className:"mt-4 text-[10px] font-black text-emerald-600 uppercase underline",children:"Reset Filter"})]})})]})]})})]})},"transactions"),u==="activity"&&e.jsx(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800/80 rounded-[2.5rem] border border-gray-100 dark:border-gray-700/50 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-8 border-b border-gray-50 dark:border-gray-700/50 bg-indigo-50/30 dark:bg-indigo-950/20",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-500 rounded-full"}),"Log Kegiatan"]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Riwayat aktivitas sistem Â· terbaru di atas"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const t=new Date,a=t.getDay(),s=t.getDate()-a+(a===0?-6:1);C(new Date(t.setDate(s)).toISOString().split("T")[0]),L(new Date(t.setDate(s+6)).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${p===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1))).toISOString().split("T")[0]})()&&m===(function(){const t=new Date,a=t.getDay();return new Date(t.setDate(t.getDate()-a+(a===0?-6:1)+6)).toISOString().split("T")[0]})()?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Minggu Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;C(new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0]),L(new Date(t.getFullYear(),t.getMonth()+1,0).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${p===new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0]&&m===new Date(new Date().getFullYear(),new Date().getMonth()+1,0).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Bulan Ini"}),e.jsx("button",{onClick:()=>{const t=new Date;C(new Date(t.getFullYear(),0,1).toISOString().split("T")[0]),L(new Date(t.getFullYear(),11,31).toISOString().split("T")[0])},className:`px-3 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest transition-colors border ${p===new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0]&&m===new Date(new Date().getFullYear(),11,31).toISOString().split("T")[0]?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/40 text-gray-500 dark:text-gray-400"}`,children:"Tahun Ini"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"px-4 py-1.5 bg-indigo-600 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[J.length," / ",ae.length," Aktivitas"]}),e.jsxs("button",{onClick:it,className:"flex items-center gap-2 px-5 py-2.5 bg-white dark:bg-gray-800 border border-indigo-200 dark:border-indigo-800/50 text-indigo-700 dark:text-indigo-400 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Unduh CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Cari Log"}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Nama / kode / aksi...",value:T,onChange:t=>ke(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white placeholder-gray-300 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1 text-left",children:"Tipe Log"}),e.jsxs("select",{value:_,onChange:t=>ye(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",children:[e.jsx("option",{value:"",children:"Semua Tipe"}),e.jsx("option",{value:"payment_submitted",children:"ðŸ’¸ Pembayaran Diajukan"}),e.jsx("option",{value:"payment_validated",children:"âœ… Pembayaran Divalidasi"}),e.jsx("option",{value:"payment_rejected",children:"âŒ Pembayaran Ditolak"}),e.jsx("option",{value:"booking_created",children:"ðŸ“‹ Booking Dibuat"}),e.jsx("option",{value:"no_show",children:"âš ï¸ No-Show"}),e.jsx("option",{value:"session_completed",children:"ðŸŽ¯ Sesi Selesai"}),e.jsx("option",{value:"booking_cancelled",children:"ðŸš« Booking Dibatalkan"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 text-left",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Dari Tanggal"}),e.jsx("input",{type:"date",value:p,onChange:t=>C(t.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Dari tanggal"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5 text-left",children:[e.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Sampai Tanggal"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:m,onChange:t=>L(t.target.value),className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold text-gray-700 dark:text-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-400 transition-all",title:"Sampai tanggal"}),(_||T||p||m)&&e.jsx("button",{onClick:()=>{ye(""),ke(""),C(""),L("")},className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-500 rounded-xl text-xs font-black hover:bg-rose-100 hover:text-rose-500 transition-all",title:"Reset filter",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]})]})]})]}),e.jsx("div",{className:"px-8 py-6",children:J.length===0?e.jsxs("div",{className:"py-20 text-center",children:[e.jsx($e,{className:"w-12 h-12 text-gray-200 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400 font-black uppercase tracking-widest text-xs",children:"Tidak ada aktivitas yang cocok."}),(_||T||p||m)&&e.jsx("button",{onClick:()=>{ye(""),ke(""),C(""),L("")},className:"mt-4 text-[10px] font-black text-indigo-600 uppercase underline",children:"Reset Filter"})]}):e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-[27px] top-0 bottom-0 w-0.5 bg-gray-100 dark:bg-gray-800 rounded-full"}),e.jsx("div",{className:"space-y-1",children:J.map(t=>{const a={emerald:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800/50",amber:"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800/50",rose:"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-400 border-rose-200 dark:border-rose-800/50",indigo:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 border-indigo-200 dark:border-indigo-800/50",gray:"bg-gray-100 dark:bg-gray-800/60 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700"},s={emerald:"bg-emerald-500",amber:"bg-amber-500",rose:"bg-rose-500",indigo:"bg-indigo-500",gray:"bg-gray-400"},c=t.actorRole==="Admin",i=new Date(t.date),l=i.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),r=i.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"flex gap-5 items-start py-4 group hover:bg-gray-50/50 dark:hover:bg-gray-800/20 rounded-2xl px-2 transition-all",children:[e.jsx("div",{className:"relative flex-shrink-0",style:{width:56},children:e.jsx("div",{className:`w-10 h-10 rounded-2xl border-2 border-white dark:border-gray-900 shadow-md flex items-center justify-center text-base z-10 relative ${s[t.color]}`,children:e.jsx("span",{children:t.icon})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${a[t.color]}`,children:[c?"ðŸ‘¤":"ðŸ§‘"," ",t.actor," Â· ",t.actorRole]}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:t.action}),e.jsx("span",{className:"text-[10px] font-black text-gray-500 dark:text-gray-400 font-mono bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded-lg",children:t.subject})]}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 dark:text-gray-500 mt-0.5 truncate",children:t.detail}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1.5",children:[e.jsx(Ae,{className:"w-3 h-3 text-gray-300"}),e.jsxs("span",{className:"text-[9px] font-black text-gray-300 dark:text-gray-600 uppercase tracking-widest",children:[l," Â· ",r," WIB"]})]})]})]},t.id)})})]})})]})},"activity")]})})]})]})}),Ue&&typeof document<"u"&&we.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-md",onClick:()=>I(!1)}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[3rem] p-10 w-full max-w-lg shadow-2xl relative border border-white dark:border-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:"Tambah Slot Jadwal"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx(Nt,{therapists:H,onSuccess:()=>I(!1)})]})]}),document.body),O!==null&&typeof document<"u"&&we.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/70 backdrop-blur-md",onClick:()=>M(null)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-[3rem] w-full max-w-lg shadow-2xl border border-white/50 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 px-10 pt-10 pb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full translate-y-1/2 -translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:e.jsx(je,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Reschedule Sesi"}),e.jsx("p",{className:"text-amber-100 text-[10px] font-black uppercase tracking-widest",children:"Pindah Jadwal Pasien"})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 rounded-2xl px-4 py-2 mt-1",children:[e.jsx("div",{className:"w-6 h-6 bg-white/30 rounded-lg flex items-center justify-center text-xs font-black text-white",children:O?.patient?.name?.charAt(0)}),e.jsx("span",{className:"text-xs font-black text-white uppercase tracking-widest",children:O?.patient?.name})]})]})]}),e.jsxs("form",{onSubmit:gt,className:"px-10 py-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Pilih Jadwal Baru"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"new_schedule_id",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-amber-500/10 focus:border-amber-400 transition-all appearance-none",value:oe.new_schedule_id,onChange:t=>Te("new_schedule_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Slot Tersedia --"}),Ve.filter(t=>t.id!==O?.schedule_id).map(t=>e.jsxs("option",{value:t.id,children:[t.therapist?.name," â€” ",new Date(t.date).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short"})," â€” ",t.start_time?.substring(0,5)," WIB"]},t.id))]}),e.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Alasan Reschedule"}),e.jsx("textarea",{id:"reschedule_reason",rows:"3",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-amber-500/10 focus:border-amber-400 transition-all resize-none",placeholder:"Tuliskan alasan perubahan jadwal...",value:oe.reschedule_reason,onChange:t=>Te("reschedule_reason",t.target.value),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>M(null),className:"flex-1 py-4 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-gray-200 dark:hover:bg-gray-700 transition-all",children:"Batal"}),e.jsx("button",{type:"submit",disabled:Ce||!oe.new_schedule_id,className:"flex-1 py-4 bg-gradient-to-r from-amber-500 to-orange-500 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-amber-500/30 hover:from-amber-600 hover:to-orange-600 disabled:opacity-40 disabled:cursor-not-allowed transition-all active:scale-95",children:Ce?"Memproses...":"âœ“ Update Jadwal"})]})]})]})]}),document.body),de!==null&&typeof document<"u"&&we.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/70 backdrop-blur-md",onClick:()=>P(null)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-[3rem] w-full max-w-lg shadow-2xl border border-white/50 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-br from-rose-500 to-rose-700 px-10 pt-10 pb-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full translate-y-1/2 -translate-x-1/2 pointer-events-none"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:e.jsx(Ot,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Tandai Tidak Hadir"}),e.jsx("p",{className:"text-rose-100 text-[10px] font-black uppercase tracking-widest",children:"No-Show / Pembatalan"})]})]}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 rounded-2xl px-4 py-2 mt-1",children:[e.jsx(Ae,{className:"w-3 h-3 text-white opacity-70"}),e.jsx("span",{className:"text-xs font-black text-white uppercase tracking-widest font-mono",children:de?.booking_code})]})]})]}),e.jsxs("form",{onSubmit:xt,className:"px-10 py-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Pihak yang Tidak Hadir"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"no_show_party",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-rose-500/10 focus:border-rose-400 transition-all appearance-none",value:Le.no_show_party,onChange:t=>Ie("no_show_party",t.target.value),required:!0,children:[e.jsx("option",{value:"therapist",children:"Praktisi / Terapis (Tidak Hadir)"}),e.jsx("option",{value:"patient",children:"Pasien (Tidak Hadir)"})]}),e.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:["Keterangan Admin ",e.jsx("span",{className:"text-gray-300 normal-case font-bold",children:"(opsional)"})]}),e.jsx("textarea",{id:"no_show_reason",rows:"3",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-5 py-4 text-sm font-bold text-gray-900 dark:text-white focus:ring-4 focus:ring-rose-500/10 focus:border-rose-400 transition-all resize-none",placeholder:"Catatan tambahan untuk admin...",value:Le.no_show_reason,onChange:t=>Ie("no_show_reason",t.target.value)})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>P(null),className:"flex-1 py-4 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-gray-200 dark:hover:bg-gray-700 transition-all",children:"Batal"}),e.jsx("button",{type:"submit",disabled:Fe,className:"flex-1 py-4 bg-gradient-to-r from-rose-500 to-rose-700 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-rose-500/30 hover:from-rose-600 hover:to-rose-800 disabled:opacity-40 disabled:cursor-not-allowed transition-all active:scale-95",children:Fe?"Memproses...":"âš  Tandai No-Show"})]})]})]})]}),document.body),ce&&e.jsx("div",{className:"fixed inset-0 bg-gray-900/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-[2.5rem] w-full max-w-md border border-gray-100 dark:border-gray-800 shadow-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold dark:text-white mb-2",children:"Tolak Pembayaran"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Invoice: ",e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:ce.invoice_number})]})]}),e.jsxs("form",{onSubmit:mt,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Alasan Penolakan"}),e.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-2xl px-4 py-3 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all min-h-[100px]",value:Qe.rejection_reason,onChange:t=>Xe("rejection_reason",t.target.value),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(_t,{type:"submit",disabled:Be,className:"!bg-red-600 hover:!bg-red-500 !rounded-2xl !px-6 !py-4 !text-xs !tracking-widest !font-black !h-auto !shadow-xl !shadow-red-600/20 !uppercase !w-full !justify-center",children:Be?"Memproses...":"Konfirmasi Penolakan"}),e.jsx("button",{type:"button",onClick:()=>ge(null),className:"text-sm font-bold text-gray-500 hover:text-gray-700 transition-colors py-2",children:"Batal"})]})]})]})}),e.jsx(Dt,{show:!!X,onClose:()=>R(null),maxWidth:"md",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight mb-2",children:"Pilih Opsi Validasi"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-8 font-medium",children:["Anda akan memvalidasi pembayaran untuk ",e.jsxs("span",{className:"font-bold text-gray-900 dark:text-white",children:["#",X?.invoice_number]}),"."]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("button",{onClick:()=>{pt(X),R(null)},className:"group flex items-center justify-between p-6 bg-emerald-50 dark:bg-emerald-950/20 border-2 border-emerald-100 dark:border-emerald-800 rounded-2xl hover:border-emerald-500 transition-all text-left",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-emerald-800 dark:text-emerald-400 uppercase text-xs mb-1",children:"Validasi Langsung"}),e.jsx("p",{className:"text-[10px] text-emerald-600/70 font-bold uppercase tracking-widest",children:"Sesuai jadwal pilihan pasien"})]}),e.jsx(ve,{className:"w-6 h-6 text-emerald-500 group-hover:scale-110 transition-transform"})]}),e.jsxs("button",{onClick:()=>{setValidateReschedTx(X),R(null)},className:"group flex items-center justify-between p-6 bg-indigo-50 dark:bg-indigo-950/20 border-2 border-indigo-100 dark:border-indigo-800 rounded-2xl hover:border-indigo-500 transition-all text-left",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-indigo-800 dark:text-indigo-400 uppercase text-xs mb-1",children:"Validasi & Reschedule"}),e.jsx("p",{className:"text-[10px] text-indigo-600/70 font-bold uppercase tracking-widest",children:"Pindahkan ke slot lain"})]}),e.jsx(je,{className:"w-6 h-6 text-indigo-500 group-hover:scale-110 transition-transform"})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-800",children:e.jsx(St,{className:"w-full justify-center py-4 rounded-xl font-black uppercase text-[10px] tracking-widest",onClick:()=>R(null),children:"Batal"})})]})})]})}export{ca as default};
